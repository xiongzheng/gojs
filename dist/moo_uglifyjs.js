(function(b,r){var k,u,t=function(){},m=function(a){for(var c in a)return 0;return 1},p={}.toString,o=function(a){return"[object Function]"==p.call(a)},s=function(a){return"[object String]"==p.call(a)},a=function(a){return"[object Array]"==p.call(a)},f=function(a,c){if(a)for(var d=0;d<a.length;)c(a[d++])},i=function(a,c){for(var d in c)a[d]=c[d];return a},c=function(a,c){return i(Error(a),{src:"dojoLoader",info:c})},e=1,g=function(){return"_"+e++},d=function(a,c,e){return la(a,c,e,0,d)},v=this,E=v.document,J=E&&E.createElement("DiV"),C=d.has=function(a){return o(G[a])?G[a]=G[a](v,E,J):G[a]},G=C.cache=r.hasCache;C.add=function(a,c,d,e){(void 0===G[a]||e)&&(G[a]=c);return d&&C(a)};for(var z in b.has)C.add(z,b.has[z],0,1);d.async=1;var x=new Function("return eval(arguments[0]);");d.eval=function(a,c){return x(a+"\r\n////@ sourceURL="+c)};var P={},N=d.signal=function(c,d){var e=P[c];f(e&&e.slice(0),function(c){c.apply(null,a(d)?d:[d])})},B=d.on=function(a,c){var d=P[a]||(P[a]=[]);d.push(c);return{remove:function(){for(var a=0;a<d.length;a++)if(d[a]===c){d.splice(a,1);break}}}},H=[],S={},T=[],$={},M=d.map={},U=[],Q={},F="",L={},O={};z={};var X=function(a){var c,d,e,g;for(c in O)d=O[c],(e=c.match(/^url\:(.+)/))?L["url:"+Ba(e[1],a)]=d:"*now"==c?g=d:"*noref"!=c&&(e=sa(c,a),L[e.mid]=L["url:"+e.url]=d);g&&g(pa(a));O={}},R=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},Y=function(a,c){c.splice(0,c.length);for(var d in a)c.push([d,a[d],RegExp("^"+R(d)+"(/|$)"),d.length]);c.sort(function(a,c){return c[3]-a[3]});return c},ca=function(a){var c=a.name;c||(c=a,a={name:c});a=i({main:"main"},a);a.location=a.location?a.location:c;if(a.packageMap)M[c]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);$[c]=a},Z=[],ma=function(a,c,e){for(var g in a){if("waitSeconds"==g)d.waitms=1e3*(a[g]||0);"cacheBust"==g&&(F=a[g]?s(a[g])?a[g]:(new Date).getTime()+"":"");if("baseUrl"==g||"combo"==g)d[g]=a[g];a[g]!==G&&(d.rawConfig[g]=a[g],"has"!=g&&C.add("config-"+g,a[g],0,c))}if(!d.baseUrl)d.baseUrl="./";/\/$/.test(d.baseUrl)||(d.baseUrl+="/");for(g in a.has)C.add(g,a.has[g],0,c);f(a.packages,ca);for(u in a.packagePaths)f(a.packagePaths[u],function(a){var c=u+"/"+a;s(a)&&(a={name:a});a.location=c;ca(a)});Y(i(M,a.map),U);f(U,function(a){a[1]=Y(a[1],[]);if("*"==a[0])U.star=a});Y(i(S,a.paths),T);f(a.aliases,function(a){s(a[0])&&(a[0]=RegExp("^"+R(a[0])+"$"));H.push(a)});if(c)Z.push({config:a.config});else for(g in a.config)c=aa(g,e),c.config=i(c.config||{},a.config[g]);if(a.cache)X(),O=a.cache,a.cache["*noref"]&&X();N("config",[a,d.rawConfig])};if(C("dojo-cdn")){var V=E.getElementsByTagName("script");k=0;for(var W,ba,da,ea;k<V.length;)if(W=V[k++],(da=W.getAttribute("src"))&&(ea=da.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){ba=ea[3]||"";r.baseUrl=r.baseUrl||ba;(da=W.getAttribute("data-dojo-config")||W.getAttribute("djConfig"))&&(z=d.eval("({ "+da+" })","data-dojo-config"));break}}d.rawConfig={};ma(r,1);if(C("dojo-cdn"))($.dojo.location=ba)&&(ba+="/"),$.dijit.location=ba+"../dijit/",$.dojox.location=ba+"../dojox/";ma(b,1);ma(z,1);var ja=function(a){ra(function(){f(a.deps,Ca)})},la=function(e,f,x,B,v){var b;if(s(e)){if((b=aa(e,B,!0))&&b.executed)return b.result;throw c("undefinedModule",e)}a(e)||(ma(e,0,B),e=f,f=x);if(a(e))if(e.length){for(var x="require*"+g(),m,z=[],H=0;H<e.length;)m=e[H++],z.push(aa(m,B));b=i(ta("",x,0,""),{injected:2,deps:z,def:f||t,require:B?B.require:d,gc:1});Q[b.mid]=b;ja(b);var N=na&&0!="sync";ra(function(){l(b,N)});b.executed||oa.push(b);n()}else f&&f();return v},pa=function(a){if(!a)return d;var c=a.require;if(!c)c=function(d,e,g){return la(d,e,g,a,c)},a.require=i(c,d),c.module=a,c.toUrl=function(c){return Ba(c,a)},c.toAbsMid=function(c){return ya(c,a)};return c},oa=[],qa=[],ka={},Ka=function(a){a.injected=1;ka[a.mid]=1;a.url&&(ka[a.url]=a.pack||1);D()},ua=function(a){a.injected=2;delete ka[a.mid];a.url&&delete ka[a.url];m(ka)&&La()},Da=d.idle=function(){return!qa.length&&m(ka)&&!oa.length&&!na},va=function(a,c){if(c)for(var d=0;d<c.length;d++)if(c[d][2].test(a))return c[d];return 0},Ea=function(a){for(var c=[],d,e,a=a.replace(/\\/g,"/").split("/");a.length;)d=a.shift(),".."==d&&c.length&&".."!=e?(c.pop(),e=c[c.length-1]):"."!=d&&c.push(e=d);return c.join("/")},ta=function(a,c,d,e){return{pid:a,mid:c,pack:d,url:e,executed:0,def:0}},Fa=function(a,d,e,g,x,B,v,i){var b,m,z,l;l=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||l&&!d)return ta(0,a,0,a);a=Ea(l?d.mid+"/../"+a:a);if(/^\./.test(a))throw c("irrationalPath",a);d&&(z=va(d.mid,B));(z=(z=z||B.star)&&va(a,z[1]))&&(a=z[1]+a.substring(z[3]));d=(ea=a.match(/^([^\/]+)(\/(.+))?$/))?ea[1]:"";(b=e[d])?a=d+"/"+(m=ea[3]||b.main):d="";var s=0;f(H,function(c){var d=a.match(c[0]);d&&0<d.length&&(s=o(c[1])?a.replace(c[0],c[1]):c[1])});if(s)return Fa(s,0,e,g,x,B,v,i);if(e=g[a])return i?ta(e.pid,e.mid,e.pack,e.url):g[a];g=(z=va(a,v))?z[1]+a.substring(z[3]):d?b.location+"/"+m:a;/(^\/)|(\:)/.test(g)||(g=x+g);return ta(d,a,b,Ea(g+".js"))},sa=function(a,c){return Fa(a,c,$,Q,d.baseUrl,U,T)},Ga=function(a,c,d){return a.normalize?a.normalize(c,function(a){return ya(a,d)}):ya(c,d)},Ha=0,aa=function(a,c,d){var e,g;(e=a.match(/^(.+?)\!(.*)$/))?(g=aa(e[1],c,d),5===g.executed&&!g.load&&q(g),g.load?(e=Ga(g,e[2],c),a=g.mid+"!"+(g.dynamic?++Ha+"!":"")+e):(e=e[2],a=g.mid+"!"+ ++Ha+"!waitingForPlugin"),a={plugin:g,mid:a,req:pa(c),prid:e}):a=sa(a,c);return Q[a.mid]||!d&&(Q[a.mid]=a)},ya=d.toAbsMid=function(a,c){return sa(a,c).mid},Ba=d.toUrl=function(a,c){var d=sa(a+"/x",c),e=d.url;return ga(0===d.pid?a:e.substring(0,e.length-5))},Ia={injected:2,executed:5,def:3,result:3};ba=function(a){return Q[a]=i({mid:a},Ia)};var Ma=ba("require"),Na=ba("exports"),Oa=ba("module"),wa={},za=0,q=function(a){var c=a.result;a.dynamic=c.dynamic;a.normalize=c.normalize;a.load=c.load;return a},A=function(a){var c={};f(a.loadQ,function(d){var e=Ga(a,d.prid,d.req.module),g=a.dynamic?d.mid.replace(/waitingForPlugin$/,e):a.mid+"!"+e,e=i(i({},d),{mid:g,prid:e,injected:0});Q[g]||ha(Q[g]=e);c[d.mid]=Q[g];ua(d);delete Q[d.mid]});a.loadQ=0;var d=function(a){for(var d=a.deps||[],e=0;e<d.length;e++)(a=c[d[e].mid])&&(d[e]=a)},e;for(e in Q)d(Q[e]);f(oa,d)},K=function(a){d.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=za++;a.loadQ&&(q(a),A(a));for(k=0;k<oa.length;)oa[k]===a?oa.splice(k,1):k++;/^require\*/.test(a.mid)&&delete Q[a.mid]},fa=[],l=function(a,c){if(4===a.executed)return d.trace("loader-circular-dependency",[fa.concat(a.mid).join("->")]),!a.def||c?wa:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return wa;var e=a.mid,g=a.deps||[],f,x=[],B=0;for(a.executed=4;B<g.length;){f=g[B++];f=f===Ma?pa(a):f===Na?a.cjs.exports:f===Oa?a.cjs:l(f,c);if(f===wa)return a.executed=0,d.trace("loader-exec-module",["abort",e]),wa;x.push(f)}d.trace("loader-run-factory",[a.mid]);e=a.def;x=o(e)?e.apply(null,x):e;a.result=void 0===x&&a.cjs?a.cjs.exports:x;K(a)}return a.result},na=0,ra=function(a){try{na++,a()}finally{na--}Da()&&N("idle",[])},n=function(){na||ra(function(){for(var a,c,d=0;d<oa.length;)a=za,c=oa[d],l(c),a!=za?d=0:d++})};void 0===C("dojo-loader-eval-hint-url")&&C.add("dojo-loader-eval-hint-url",1);var ga=function(a){a+="";return a+(F?(/\?/.test(a)?"&":"?")+F:"")},ha=function(a){var c=a.plugin;5===c.executed&&!c.load&&q(c);var d=function(c){a.result=c;ua(a);K(a);n()};c.load?c.load(a.prid,a.req,d):c.loadQ?c.loadQ.push(a):(c.loadQ=[a],oa.unshift(c),Ca(c))},ia=0,I=0,y=0,Pa=function(a,c){C("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));y=1;a===ia?ia.call(null):d.eval(a,C("dojo-loader-eval-hint-url")?c.url:c.mid);y=0},Ca=function(a){var c=a.mid,e=a.url;if(!a.executed&&!a.injected&&!(ka[c]||a.url&&(a.pack&&ka[a.url]===a.pack||1==ka[a.url])))if(Ka(a),a.plugin)ha(a);else{var g=function(){Qa(a);2!==a.injected&&(ua(a),i(a,Ia),d.trace("loader-define-nonmodule",[a.url]));n()};(ia=L[c]||L["url:"+a.url])?(d.trace("loader-inject",["cache",a.mid,e]),Pa(ia,a),g()):(d.trace("loader-inject",["script",a.mid,e]),I=a,d.injectUrl(ga(e),g,a),I=0)}},Aa=function(a,e,g){d.trace("loader-define-module",[a.mid,e]);if(2===a.injected)return N("error",c("multipleDefine",a)),a;i(a,{deps:e,def:g,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(c){a.cjs.exports=c},config:function(){return a.config}}});for(var f=0;f<e.length;f++)e[f]=aa(e[f],a);ua(a);if(!o(g)&&!e.length)a.result=g,K(a);return a},Qa=function(a,c){for(var d=[],e,g;qa.length;)g=qa.shift(),c&&(g[0]=c.shift()),e=g[0]&&aa(g[0])||a,d.push([e,g[1],g[2]]);X(a);f(d,function(a){ja(Aa.apply(null,a))})},La=t,D=t;C.add("ie-event-behavior",!!E.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var xa=function(a,c,d,e){if(C("ie-event-behavior"))return a.attachEvent(d,e),function(){a.detachEvent(d,e)};a.addEventListener(c,e,!1);return function(){a.removeEventListener(c,e,!1)}},Ja=xa(window,"load","onload",function(){d.pageLoaded=1;"complete"!=E.readyState&&(E.readyState="complete");Ja()}),Ra=E.getElementsByTagName("script")[0],Sa=Ra.parentNode;d.injectUrl=function(a,d,e){var e=e.node=E.createElement("script"),g=xa(e,"load","onreadystatechange",function(a){var a=a||window.event,c=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(c.readyState))g(),f(),d&&d()}),f=xa(e,"error","onerror",function(d){g();f();N("error",c("scriptError",[a,d]))});e.type="text/javascript";e.charset="utf-8";e.src=a;Sa.insertBefore(e,Ra);return e};d.log=t;d.trace=t;ba=function(a,e,g){var f=arguments.length,x=["require","exports","module"],B=[0,a,e];1==f?B=[0,o(a)?x:[],a]:2==f&&s(a)?B=[a,o(e)?x:[],e]:3==f&&(B=[a,e,g]);d.trace("loader-define",B.slice(0,2));if((f=B[0]&&aa(B[0]))&&!ka[f.mid])ja(Aa(f,B[1],B[2]));else if(!C("ie-event-behavior")||y)qa.push(B);else{f=f||I;if(!f)for(a in ka)if((x=Q[a])&&x.node&&"interactive"===x.node.readyState){f=x;break}f?(X(f),ja(Aa(f,B[1],B[2]))):N("error",c("ieDefineFailed",B[0]));n()}};ba.amd={vendor:"dojotoolkit.org"};i(i(d,r.loaderPatch),b.loaderPatch);B("error",function(a){try{if(console.error(a),a instanceof Error)for(var c in a);}catch(d){}});i(d,{uid:g,cache:L,packs:$});if(!v.define)v.define=ba,v.require=d,f(Z,function(a){ma(a)}),B=z.deps||b.deps||r.deps,z=z.callback||b.callback||r.callback,d.boot=B||z?[B||[],z]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../gojs",name:"gojs"}]});require({cache:{"dojo/main":function(){define("./_base/kernel,./has,require,./sniff,./_base/lang,./_base/array,./_base/config,./ready,./_base/declare,./_base/connect,./_base/Deferred,./_base/json,./_base/Color,require,./_base/browser,require".split(","),function(b,r,k,u,t,m,p){p.isDebug&&k(["./_firebug/firebug"]);return b})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(b,r,k,u){var t,b={},m={},p={config:r,global:this,dijit:b,dojox:m},b={dojo:["dojo",p],dijit:["dijit",b],dojox:["dojox",m]},u=k.map&&k.map[u.id.match(/[^\/]+/)[0]];for(t in u)b[t]?b[t][0]=u[t]:b[t]=[u[t],{}];for(t in b)u=b[t],u[1]._scopeName=u[0],r.noGlobals||(this[u[0]]=u[1]);p.scopeMap=b;p.baseUrl=p.config.baseUrl=k.baseUrl;p.isAsync=k.async;p.locale=r.locale;r="$Rev: 30226 $".match(/\d+/);p.version={major:1,minor:8,patch:3,flag:"",revision:r?+r[0]:NaN,toString:function(){var b=p.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(p);p.exit=function(){};"undefined"!=typeof console||(console={});for(var k="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),o,r=0;o=k[r++];)console[o]||function(){var b=o+"";console[b]="log"in console?function(){var a=Array.apply({},arguments);a.unshift(b+":");console.log(a.join(" "))}:function(){};console[b]._fake=!0}();p.deprecated=p.experimental=function(){};p._hasResource={};return p})},"dojo/has":function(){define(["require","module"],function(b){var r=b.has||function(){};r.add("dom-addeventlistener",!!document.addEventListener);r.add("touch","ontouchstart"in document);r.add("device-width",screen.availWidth||innerWidth);b=document.createElement("form");r.add("dom-attributes-explicit",0==b.attributes.length);r.add("dom-attributes-specified-flag",0<b.attributes.length&&40>b.attributes.length);r.clearElement=function(b){b.innerHTML="";return b};r.normalize=function(b,u){var t=b.match(/[\?:]|[^:\?]*/g),m=0,p=function(b){var s=t[m++];if(":"==s)return 0;if("?"==t[m++]){if(!b&&r(s))return p();p(!0);return p(b)}return s||0};return(b=p())&&u(b)};r.load=function(b,r,t){b?r([b],t):t()};return r})},"dojo/_base/config":function(){define(["../has","require"],function(b,r){var k={},u=r.rawConfig,t;for(t in u)k[t]=u[t];return k})},"dojo/sniff":function(){define(["./has"],function(b){var r=navigator,k=r.userAgent,r=r.appVersion,u=parseFloat(r);b.add("air",0<=k.indexOf("AdobeAIR"));b.add("khtml",0<=r.indexOf("Konqueror")?u:void 0);b.add("webkit",parseFloat(k.split("WebKit/")[1])||void 0);b.add("chrome",parseFloat(k.split("Chrome/")[1])||void 0);b.add("safari",0<=r.indexOf("Safari")&&!b("chrome")?parseFloat(r.split("Version/")[1]):void 0);b.add("mac",0<=r.indexOf("Macintosh"));b.add("quirks","BackCompat"==document.compatMode);b.add("ios",/iPhone|iPod|iPad/.test(k));b.add("android",parseFloat(k.split("Android ")[1])||void 0);if(!b("webkit")){0<=k.indexOf("Opera")&&b.add("opera",9.8<=u?parseFloat(k.split("Version/")[1])||u:u);0<=k.indexOf("Gecko")&&!b("khtml")&&!b("webkit")&&b.add("mozilla",u);b("mozilla")&&b.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0);if(document.all&&!b("opera"))k=parseFloat(r.split("MSIE ")[1])||void 0,(r=document.documentMode)&&5!=r&&Math.floor(k)!=r&&(k=r),b.add("ie",k);b.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return b})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(b,r){r.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var k=r("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],u=k.length,t=function(a,f,i){var c,e=0,g=b.global;if(!i)if(a.length){c=a[e++];try{i=b.scopeMap[c]&&b.scopeMap[c][1]}catch(d){}i=i||(c in g?g[c]:f?g[c]={}:void 0)}else return g;for(;i&&(c=a[e++]);)i=c in i?i[c]:f?i[c]={}:void 0;return i},m=Object.prototype.toString,p=function(a,f,i){return(i||[]).concat(Array.prototype.slice.call(a,f||0))},o=/\{([^\}]+)\}/g,s={_extraNames:k,_mixin:function(a,f,i){var c,e,g,d={};for(c in f)if(e=f[c],!(c in a)||a[c]!==e&&(!(c in d)||d[c]!==e))a[c]=i?i(e):e;if(r("bug-for-in-skips-shadowed")&&f)for(g=0;g<u;++g)if(c=k[g],e=f[c],!(c in a)||a[c]!==e&&(!(c in d)||d[c]!==e))a[c]=i?i(e):e;return a},mixin:function(a,f){a||(a={});for(var i=1,c=arguments.length;i<c;i++)s._mixin(a,arguments[i]);return a},setObject:function(a,f,i){var c=a.split("."),a=c.pop();return(i=t(c,!0,i))&&a?i[a]=f:void 0},getObject:function(a,f,i){return t(a.split("."),f,i)},exists:function(a,f){return void 0!==s.getObject(a,!1,f)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===m.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||s.isArray(a)||s.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!s.isString(a)&&!s.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(s.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!s.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,f){for(var i=1,c=arguments.length;i<c;i++)s._mixin(a.prototype,arguments[i]);return a},_hitchArgs:function(a,f){var i=s._toArray(arguments,2),c=s.isString(f);return function(){var e=s._toArray(arguments),g=c?(a||b.global)[f]:f;return g&&g.apply(a||this,i.concat(e))}},hitch:function(a,f){if(2<arguments.length)return s._hitchArgs.apply(b,arguments);f||(f=a,a=null);if(s.isString(f)){a=a||b.global;if(!a[f])throw['lang.hitch: scope["',f,'"] is null (scope="',a,'")'].join("");return function(){return a[f].apply(a,arguments||[])}}return!a?f:function(){return f.apply(a,arguments||[])}},delegate:function(){function a(){}return function(f,i){a.prototype=f;var c=new a;a.prototype=null;i&&s._mixin(c,i);return c}}(),_toArray:r("ie")?function(){function a(a,i,c){c=c||[];for(i=i||0;i<a.length;i++)c.push(a[i]);return c}return function(f){return(f.item?a:p).apply(this,arguments)}}():p,partial:function(a){return s.hitch.apply(b,[null].concat(s._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||s.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var f,i,c;if(s.isArray(a)){f=[];for(i=0,c=a.length;i<c;++i)i in a&&f.push(s.clone(a[i]))}else f=a.constructor?new a.constructor:{};return s._mixin(f,a,s.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,f,i){return a.replace(i||o,s.isFunction(f)?f:function(a,e){return s.getObject(e,!1,f)})}};s.mixin(b,s);return s})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(b,r,k){function u(a){return p[a]=new Function("item","index","array",a)}function t(a){var f=!a;return function(i,c,e){var g=0,d=i&&i.length||0,v;d&&"string"==typeof i&&(i=i.split(""));"string"==typeof c&&(c=p[c]||u(c));if(e)for(;g<d;++g){if(v=!c.call(e,i[g],g,i),a^v)return!v}else for(;g<d;++g)if(v=!c(i[g],g,i),a^v)return!v;return f}}function m(a){var f=1,i=0,c=0;a||(f=i=c=-1);return function(e,g,d,v){if(v&&0<f)return s.lastIndexOf(e,g,d);var v=e&&e.length||0,b=a?v+c:i;d===o?d=a?i:v+c:0>d?(d=v+d,0>d&&(d=i)):d=d>=v?v+c:d;for(v&&"string"==typeof e&&(e=e.split(""));d!=b;d+=f)if(e[d]==g)return d;return-1}}var p={},o,s={every:t(!1),some:t(!0),indexOf:m(!0),lastIndexOf:m(!1),forEach:function(a,f,i){var c=0,e=a&&a.length||0;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof f&&(f=p[f]||u(f));if(i)for(;c<e;++c)f.call(i,a[c],c,a);else for(;c<e;++c)f(a[c],c,a)},map:function(a,f,i,c){var e=0,g=a&&a.length||0,c=new(c||Array)(g);g&&"string"==typeof a&&(a=a.split(""));"string"==typeof f&&(f=p[f]||u(f));if(i)for(;e<g;++e)c[e]=f.call(i,a[e],e,a);else for(;e<g;++e)c[e]=f(a[e],e,a);return c},filter:function(a,f,i){var c=0,e=a&&a.length||0,g=[],d;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof f&&(f=p[f]||u(f));if(i)for(;c<e;++c)d=a[c],f.call(i,d,c,a)&&g.push(d);else for(;c<e;++c)d=a[c],f(d,c,a)&&g.push(d);return g},clearCache:function(){p={}}};k.mixin(b,s);return s})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(b,r,k,u,t){var m=0,p,o=[],s=0,a=function(){if(m&&!s&&o.length){s=1;var f=o.shift();try{f()}finally{s=0}s=0;o.length&&p(a)}};k.on("idle",a);p=function(){k.idle()&&a()};var r=b.ready=b.addOnLoad=function(a,c,e){var g=t._toArray(arguments);"number"!=typeof a?(e=c,c=a,a=1e3):g.shift();e=e?t.hitch.apply(b,g):function(){c()};e.priority=a;for(g=0;g<o.length&&a>=o[g].priority;g++);o.splice(g,0,e);p()},f=b.config.addOnLoad;if(f)r[t.isArray(f)?"apply":"call"](b,f);u(function(){m=1;b._postLoad=b.config.afterOnLoad=!0;o.length&&p(a)});return r})},"dojo/domReady":function(){define(["./has"],function(b){function r(a){p?a(u):o.push(a)}var k=this,u=document,t={loaded:1,complete:1},m="string"!=typeof u.readyState,p=!!t[u.readyState];if(m)u.readyState="loading";if(!p){var o=[],s=[],a=function(a){a=a||k.event;if(!(p||"readystatechange"==a.type&&!t[u.readyState])){p=1;if(m)u.readyState="complete";for(;o.length;)o.shift()(u)}},f=function(c,d){c.addEventListener(d,a,!1);o.push(function(){c.removeEventListener(d,a,!1)})};if(!b("dom-addeventlistener")){var f=function(c,d){d="on"+d;c.attachEvent(d,a);o.push(function(){c.detachEvent(d,a)})},i=u.createElement("div");try{i.doScroll&&null===k.frameElement&&s.push(function(){try{return i.doScroll("left"),1}catch(a){}})}catch(c){}}f(u,"DOMContentLoaded");f(k,"load");"onreadystatechange"in u?f(u,"readystatechange"):m||s.push(function(){return t[u.readyState]});if(s.length){var e=function(){if(!p){for(var c=s.length;c--;)if(s[c]()){a("poller");return}setTimeout(e,30)}};e()}}r.load=function(a,c,e){r(e)};return r})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(b,r,k){function u(a,c){throw Error("declare"+(c?" "+c:"")+": "+a)}function t(a,c,d){var e,g,f,x,v,i,b,m=this._inherited=this._inherited||{};"string"==typeof a&&(e=a,a=c,c=d);d=0;x=a.callee;(e=e||x.nom)||u("can't deduce a name to call inherited()",this.declaredClass);v=this.constructor._meta;f=v.bases;b=m.p;if(e!=P){if(m.c!==x&&(b=0,i=f[0],v=i._meta,v.hidden[e]!==x)){(g=v.chains)&&"string"==typeof g[e]&&u("calling chained method with inherited: "+e,this.declaredClass);do if(v=i._meta,g=i.prototype,v&&(g[e]===x&&g.hasOwnProperty(e)||v.hidden[e]===x))break;while(i=f[++b]);b=i?b:-1}if(i=f[++b])if(g=i.prototype,i._meta&&g.hasOwnProperty(e))d=g[e];else{x=C[e];do if(g=i.prototype,(d=g[e])&&(i._meta?g.hasOwnProperty(e):d!==x))break;while(i=f[++b])}d=i&&d||C[e]}else{if(m.c!==x&&(b=0,(v=f[0]._meta)&&v.ctor!==x)){g=v.chains;for((!g||"manual"!==g.constructor)&&u("calling chained constructor with inherited",this.declaredClass);(i=f[++b])&&!((v=i._meta)&&v.ctor===x););b=i?b:-1}for(;(i=f[++b])&&!(d=(v=i._meta)?v.ctor:i););d=i&&d}m.c=d;m.p=b;if(d)return!0===c?d:d.apply(this,c||a)}function m(a,c){return"string"==typeof a?this.__inherited(a,c,!0):this.__inherited(a,!0)}function p(a,c,d){var e=this.getInherited(a,c);if(e)return e.apply(this,d||c||a)}function o(a){for(var c=this.constructor._meta.bases,d=0,e=c.length;d<e;++d)if(c[d]===a)return!0;return this instanceof a}function s(a,c){for(var d in c)d!=P&&c.hasOwnProperty(d)&&(a[d]=c[d]);if(r("bug-for-in-skips-shadowed"))for(var e=k._extraNames,g=e.length;g;)d=e[--g],d!=P&&c.hasOwnProperty(d)&&(a[d]=c[d])}function a(a){E.safeMixin(this.prototype,a);return this}function f(a){return E([this].concat(a))}function i(a,c){return function(){var l;var d=arguments,e=d,g=d[0],f,x;x=a.length;var i;if(!(this instanceof d.callee))return v(d);if(c&&(g&&g.preamble||this.preamble)){i=Array(a.length);i[0]=d;for(f=0;;){if(g=d[0])(g=g.preamble)&&(d=g.apply(this,d)||d);g=a[f].prototype;(g=g.hasOwnProperty("preamble")&&g.preamble)&&(d=g.apply(this,d)||d);if(++f==x)break;i[f]=d}}for(f=x-1;0<=f;--f)g=a[f],(l=(x=g._meta)?x.ctor:g,g=l)&&g.apply(this,i?i[f]:d);(g=this.postscript)&&g.apply(this,e)}}function c(a,c){return function(){var d=arguments,e=d,g=d[0];if(!(this instanceof d.callee))return v(d);if(c){if(g)(g=g.preamble)&&(e=g.apply(this,e)||e);(g=this.preamble)&&g.apply(this,e)}a&&a.apply(this,d);(g=this.postscript)&&g.apply(this,d)}}function e(a){return function(){var l;var c=arguments,d=0,e,g;if(!(this instanceof c.callee))return v(c);for(;e=a[d];++d)if(l=(g=e._meta)?g.ctor:e,e=l){e.apply(this,c);break}(e=this.postscript)&&e.apply(this,c)}}function g(a,c,d){return function(){var e,g,f=0,x=1;d&&(f=c.length-1,x=-1);for(;e=c[f];f+=x)g=e._meta,(e=(g?g.hidden:e.prototype)[a])&&e.apply(this,arguments)}}function d(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function v(a){var c=a.callee,e=d(c);c.apply(e,a);return e}function E(v,b,z){"string"!=typeof v&&(z=b,b=v,v="");var z=z||{},p,r,M,U,Q,F,L,O=1,X=b;if("[object Array]"==G.call(b)){O=v;M=[];U=[{cls:0,refs:[]}];F={};for(var R=1,Y=b.length,ca=0,Z,ma,V,W;ca<Y;++ca){(Z=b[ca])?"[object Function]"!=G.call(Z)&&u("mixin #"+ca+" is not a callable constructor.",O):u("mixin #"+ca+" is unknown. Did you use dojo.require to pull it in?",O);ma=Z._meta?Z._meta.bases:[Z];V=0;for(Z=ma.length-1;0<=Z;--Z){W=ma[Z].prototype;if(!W.hasOwnProperty("declaredClass"))W.declaredClass="uniqName_"+x++;W=W.declaredClass;F.hasOwnProperty(W)||(F[W]={count:0,refs:[],cls:ma[Z]},++R);W=F[W];V&&V!==W&&(W.refs.push(V),++V.count);V=W}++V.count;U[0].refs.push(V)}for(;U.length;){V=U.pop();M.push(V.cls);for(--R;r=V.refs,1==r.length;){V=r[0];if(!V||--V.count){V=0;break}M.push(V.cls);--R}if(V)for(ca=0,Y=r.length;ca<Y;++ca)V=r[ca],--V.count||U.push(V)}R&&u("can't build consistent linearization",O);Z=b[0];M[0]=Z?Z._meta&&Z===M[M.length-Z._meta.bases.length]?Z._meta.bases.length:1:0;F=M;M=F[0];O=F.length-M;b=F[O]}else F=[0],b?"[object Function]"==G.call(b)?(M=b._meta,F=F.concat(M?M.bases:b)):u("base class is not a callable constructor.",v):null!==b&&u("unknown base class. Did you use dojo.require to pull it in?",v);if(b)for(r=O-1;;--r){p=d(b);if(!r)break;M=F[r];(M._meta?s:J)(p,M.prototype);U=new Function;U.superclass=b;U.prototype=p;b=p.constructor=U}else p={};E.safeMixin(p,z);M=z.constructor;if(M!==C.constructor)M.nom=P,p.constructor=M;for(r=O-1;r;--r)(M=F[r]._meta)&&M.chains&&(L=J(L||{},M.chains));p["-chains-"]&&(L=J(L||{},p["-chains-"]));M=!L||!L.hasOwnProperty(P);F[0]=U=L&&"manual"===L.constructor?e(F):1==F.length?c(z.constructor,M):i(F,M);U._meta={bases:F,hidden:z,chains:L,parents:X,ctor:z.constructor};U.superclass=b&&b.prototype;U.extend=a;U.createSubclass=f;U.prototype=p;p.constructor=U;p.getInherited=m;p.isInstanceOf=o;p.inherited=N;p.__inherited=t;if(v)p.declaredClass=v,k.setObject(v,U);if(L)for(Q in L)if(p[Q]&&"string"==typeof L[Q]&&Q!=P)M=p[Q]=g(Q,F,"after"===L[Q]),M.nom=Q;return U}var J=k.mixin,C=Object.prototype,G=C.toString,z=new Function,x=0,P="constructor",N=b.config.isDebug?p:t;b.safeMixin=E.safeMixin=function(a,c){var d,e;for(d in c)if(e=c[d],(e!==C[d]||!(d in C))&&d!=P){if("[object Function]"==G.call(e))e.nom=d;a[d]=e}if(r("bug-for-in-skips-shadowed"))for(var g=k._extraNames,f=g.length;f;)if(d=g[--f],e=c[d],(e!==C[d]||!(d in C))&&d!=P){if("[object Function]"==G.call(e))e.nom=d;a[d]=e}return a};return b.declare=E})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),function(b,r,k,u,t,m,p,o){function s(a,c,g,f,i){f=o.hitch(g,f);if(!a||!a.addEventListener&&!a.attachEvent)return u.after(a||b.global,c,f,!0);"string"==typeof c&&"on"==c.substring(0,2)&&(c=c.substring(2));if(!a)a=b.global;if(!i)switch(c){case"keypress":c=e;break;case"mouseenter":c=m.enter;break;case"mouseleave":c=m.leave}return r(a,c,f,i)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}p.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(c){}return 0==a.charCode&&!p("opera")});var f={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},i=p("mac")?"metaKey":"ctrlKey",c=function(c,e){var g=o.mixin({},c,e);a(g);g.preventDefault=function(){c.preventDefault()};g.stopPropagation=function(){c.stopPropagation()};return g},e;e=p("events-keypress-typed")?function(a,e){var g=r(a,"keydown",function(a){var d=a.keyCode,g=13!=d&&32!=d&&(27!=d||!p("ie"))&&(48>d||90<d)&&(96>d||111<d)&&(186>d||192<d)&&(219>d||222<d)&&229!=d;if(g||a.ctrlKey){g=g?0:d;if(a.ctrlKey){if(3==d||13==d)return e.call(a.currentTarget,a);g=95<g&&106>g?g-48:!a.shiftKey&&65<=g&&90>=g?g+32:f[g]||g}d=c(a,{type:"keypress",faux:!0,charCode:g});e.call(a.currentTarget,d);if(p("ie"))try{a.keyCode=d.keyCode}catch(x){}}}),i=r(a,"keypress",function(a){var d=a.charCode,a=c(a,{charCode:32<=d?d:0,faux:!0});return e.call(this,a)});return{remove:function(){g.remove();i.remove()}}}:p("opera")?function(a,e){return r(a,"keypress",function(a){var d=a.which;3==d&&(d=99);d=32>d&&!a.shiftKey?0:d;a.ctrlKey&&!a.shiftKey&&65<=d&&90>=d&&(d+=32);return e.call(this,c(a,{charCode:d}))})}:function(c,e){return r(c,"keypress",function(c){a(c);return e.call(this,c)})};var g={_keypress:e,connect:function(a,c,e,g,f){var i=arguments,b=[],x=0;b.push("string"==typeof i[0]?null:i[x++],i[x++]);var m=i[x+1];b.push("string"==typeof m||"function"==typeof m?i[x++]:null,i[x++]);for(m=i.length;x<m;x++)b.push(i[x]);return s.apply(this,b)},disconnect:function(a){a&&a.remove()},subscribe:function(a,c,e){return k.subscribe(a,o.hitch(c,e))},publish:function(a,c){return k.publish.apply(k,[a].concat(c))},connectPublisher:function(a,c,e){var f=function(){g.publish(a,arguments)};return e?g.connect(c,e,f):g.connect(c,f)},isCopyKey:function(a){return a[i]}};g.unsubscribe=g.disconnect;o.mixin(b,g);return g})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(b,r,k){function u(a,c,d,g,f){if(g=c.match(/(.*):(.*)/))return c=g[2],g=g[1],o.selector(g,c).call(f,a,d);k("touch")&&(s.test(c)&&(d=x(d)),!k("event-orientationchange")&&"orientationchange"==c&&(c="resize",a=window,d=x(d)));e&&(d=e(d));if(a.addEventListener){var v=c in i,b=v?i[c]:c;a.addEventListener(b,d,v);return{remove:function(){a.removeEventListener(b,d,v)}}}if(E&&a.attachEvent)return E(a,"on"+c,d);throw Error("Target must be an event emitter")}function t(){this.cancelable=!1}function m(){this.bubbles=!1}var p=window.ScriptEngineMajorVersion;k.add("jscript",p&&p()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var o=function(a,c,d,e){return"function"==typeof a.on&&"function"!=typeof c?a.on(c,d):o.parse(a,c,d,u,e,this)};o.pausable=function(a,c,d,e){var g,a=o(a,c,function(){if(!g)return d.apply(this,arguments)},e);a.pause=function(){g=!0};a.resume=function(){g=!1};return a};o.once=function(a,c,d){var e=o(a,c,function(){e.remove();return d.apply(this,arguments)});return e};o.parse=function(a,c,d,e,g,f){if(c.call)return c.call(f,a,d);if(-1<c.indexOf(",")){for(var c=c.split(/\s*,\s*/),x=[],i=0,v;v=c[i++];)x.push(e(a,v,d,g,f));x.remove=function(){for(var a=0;a<x.length;a++)x[a].remove()};return x}return e(a,c,d,g,f)};var s=/^touch/;o.selector=function(a,c,d){return function(e,g){function f(c){for(x=x&&x.matches?x:r.query;!x.matches(c,a,e);)if(c==e||!1===d||!(c=c.parentNode)||1!=c.nodeType)return;return c}var x="function"==typeof a?{matches:a}:this,i=c.bubble;return i?o(e,i(f),g):o(e,c,function(a){var c=f(a.target);return c&&g.call(c,a)})}};var a=[].slice,f=o.emit=function(c,d,e){var g=a.call(arguments,2),f="on"+d;if("parentNode"in c){var x=g[0]={},i;for(i in e)x[i]=e[i];x.preventDefault=t;x.stopPropagation=m;x.target=c;x.type=d;e=x}do c[f]&&c[f].apply(c,g);while(e&&e.bubbles&&(c=c.parentNode));return e&&e.cancelable&&e},i={};if(!k("event-stopimmediatepropagation"))var c=function(){this.modified=this.immediatelyStopped=!0},e=function(a){return function(d){if(!d.immediatelyStopped)return d.stopImmediatePropagation=c,a.apply(this,arguments)}};if(k("dom-addeventlistener"))i={focusin:"focus",focusout:"blur"},o.emit=function(a,c,d){if(a.dispatchEvent&&document.createEvent){var e=a.ownerDocument.createEvent("HTMLEvents");e.initEvent(c,!!d.bubbles,!!d.cancelable);for(var g in d)g in e||(e[g]=d[g]);return a.dispatchEvent(e)&&e}return f.apply(o,arguments)};else{o._fixEvent=function(a,c){if(!a)a=(c&&(c.ownerDocument||c.document||c).parentWindow||window).event;if(!a)return a;g&&a.type==g.type&&(a=g);if(!a.target){a.target=a.srcElement;a.currentTarget=c||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=J,a.preventDefault=C;switch(a.type){case"keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}}return a};var g,d=function(a){this.handle=a};d.prototype.remove=function(){delete _dojoIEListeners_[this.handle]
};var v=function(a){return function(c){var c=o._fixEvent(c,this),d=a.call(this,c);c.modified&&(g||setTimeout(function(){g=null}),g=c);return d}},E=function(a,c,e){e=v(e);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var g=a[c];if(!g||!g.listeners){var f=g,g=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");g.listeners=[];a[c]=g;g.global=this;f&&g.listeners.push(_dojoIEListeners_.push(f)-1)}g.listeners.push(a=g.global._dojoIEListeners_.push(e)-1);return new d(a)}return b.after(a,c,e,!0)},J=function(){this.cancelBubble=!0},C=o._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(k("touch"))var G=function(){},z=window.orientation,x=function(a){return function(c){var d=c.corrected;if(!d){var e=c.type;try{delete c.type}catch(g){}c.type?(G.prototype=c,d=new G,d.preventDefault=function(){c.preventDefault()},d.stopPropagation=function(){c.stopPropagation()}):(d=c,d.type=e);c.corrected=d;if("resize"==e){if(z==window.orientation)return null;z=window.orientation;d.type="orientationchange";return a.call(this,d)}if(!("rotation"in d))d.rotation=0,d.scale=1;var e=d.changedTouches[0],f;for(f in e)delete d[f],d[f]=e[f]}return a.call(this,d)}};return o})},"dojo/topic":function(){define(["./Evented"],function(b){var r=new b;return{publish:function(b,u){return r.emit.apply(r,arguments)},subscribe:function(b,u){return r.on.apply(r,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(b,r){function k(){}var u=b.after;k.prototype={on:function(b,m){return r.parse(this,b,m,function(b,o){return u(b,"on"+o,m,!0)})},emit:function(b,m){var p=[this];p.push.apply(p,arguments);return r.emit.apply(r,p)}};return k})},"dojo/aspect":function(){define("dojo/aspect",[],function(){function b(b,m,a,f){var i=b[m],c="around"==m,e;if(c){var g=a(function(){return i.advice(this,arguments)});e={remove:function(){e.cancelled=!0},advice:function(a,c){return e.cancelled?i.advice(a,c):g.apply(a,c)}}}else e={remove:function(){var a=e.previous,c=e.next;if(!c&&!a)delete b[m];else if(a?a.next=c:b[m]=c,c)c.previous=a},id:u++,advice:a,receiveArguments:f};if(i&&!c)if("after"==m){for(;i.next&&(i=i.next););i.next=e;e.previous=i}else{if("before"==m)b[m]=e,e.next=i,i.previous=e}else b[m]=e;return e}function r(m){return function(s,a,f,i){var c=s[a],e;if(!c||c.target!=s){s[a]=e=function(){for(var a=u,c=arguments,f=e.before;f;)c=f.advice.apply(this,c)||c,f=f.next;if(e.around)var i=e.around.advice(this,c);for(f=e.after;f&&f.id<a;){if(f.receiveArguments)var b=f.advice.apply(this,c),i=b===k?i:b;else i=f.advice.call(this,i,c);f=f.next}return i};if(c)e.around={advice:function(a,d){return c.apply(a,d)}};e.target=s}s=b(e||c,m,f,i);f=null;return s}}var k,u=0,t=r("after"),m=r("before"),p=r("around");return{before:m,around:p,after:t}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(b,r,k,u){if(r._fixEvent){var t=r._fixEvent;r._fixEvent=function(b,m){(b=t(b,m))&&u.normalizeEvent(b);return b}}var m={fix:function(b,m){return r._fixEvent?r._fixEvent(b,m):b},stop:function(b){k("dom-addeventlistener")||b&&b.preventDefault?(b.preventDefault(),b.stopPropagation()):(b=b||window.event,b.cancelBubble=!0,r._preventDefault.call(b))}};b.fixEvent=m.fix;b.stopEvent=m.stop;return m})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(b,r,k,u){function t(a,f,b,c,e,g){g=g||"px";a=a.style;if(!isNaN(f))a.left=f+g;if(!isNaN(b))a.top=b+g;if(0<=c)a.width=c+g;if(0<=e)a.height=e+g}function m(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function p(a){return"border-box"==o.boxModel||"table"==a.tagName.toLowerCase()||m(a)}var o={boxModel:"content-box"};if(b("ie"))o.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";o.getPadExtents=function(a,f){var a=k.byId(a),b=f||u.getComputedStyle(a),c=u.toPixelValue,e=c(a,b.paddingLeft),g=c(a,b.paddingTop),d=c(a,b.paddingRight),b=c(a,b.paddingBottom);return{l:e,t:g,r:d,b:b,w:e+d,h:g+b}};o.getBorderExtents=function(a,f){var a=k.byId(a),b=u.toPixelValue,c=f||u.getComputedStyle(a),e="none"!=c.borderLeftStyle?b(a,c.borderLeftWidth):0,g="none"!=c.borderTopStyle?b(a,c.borderTopWidth):0,d="none"!=c.borderRightStyle?b(a,c.borderRightWidth):0,b="none"!=c.borderBottomStyle?b(a,c.borderBottomWidth):0;return{l:e,t:g,r:d,b:b,w:e+d,h:g+b}};o.getPadBorderExtents=function(a,f){var a=k.byId(a),b=f||u.getComputedStyle(a),c=o.getPadExtents(a,b),b=o.getBorderExtents(a,b);return{l:c.l+b.l,t:c.t+b.t,r:c.r+b.r,b:c.b+b.b,w:c.w+b.w,h:c.h+b.h}};o.getMarginExtents=function(a,f){var a=k.byId(a),b=f||u.getComputedStyle(a),c=u.toPixelValue,e=c(a,b.marginLeft),g=c(a,b.marginTop),d=c(a,b.marginRight),b=c(a,b.marginBottom);return{l:e,t:g,r:d,b:b,w:e+d,h:g+b}};o.getMarginBox=function(a,f){var a=k.byId(a),i=f||u.getComputedStyle(a),c=o.getMarginExtents(a,i),e=a.offsetLeft-c.l,g=a.offsetTop-c.t,d=a.parentNode,v=u.toPixelValue;if(b("mozilla")){var m=parseFloat(i.left),i=parseFloat(i.top);!isNaN(m)&&!isNaN(i)?(e=m,g=i):d&&d.style&&(d=u.getComputedStyle(d),"visible"!=d.overflow&&(e+="none"!=d.borderLeftStyle?v(a,d.borderLeftWidth):0,g+="none"!=d.borderTopStyle?v(a,d.borderTopWidth):0))}else if((b("opera")||8==b("ie")&&!b("quirks"))&&d)d=u.getComputedStyle(d),e-="none"!=d.borderLeftStyle?v(a,d.borderLeftWidth):0,g-="none"!=d.borderTopStyle?v(a,d.borderTopWidth):0;return{l:e,t:g,w:a.offsetWidth+c.w,h:a.offsetHeight+c.h}};o.getContentBox=function(a,f){var a=k.byId(a),i=f||u.getComputedStyle(a),c=a.clientWidth,e=o.getPadExtents(a,i),g=o.getBorderExtents(a,i);c?(i=a.clientHeight,g.w=g.h=0):(c=a.offsetWidth,i=a.offsetHeight);b("opera")&&(e.l+=g.l,e.t+=g.t);return{l:e.l,t:e.t,w:c-e.w-g.w,h:i-e.h-g.h}};o.setContentSize=function(a,f,b){var a=k.byId(a),c=f.w,f=f.h;p(a)&&(b=o.getPadBorderExtents(a,b),0<=c&&(c+=b.w),0<=f&&(f+=b.h));t(a,NaN,NaN,c,f)};var s={l:0,t:0,w:0,h:0};o.setMarginBox=function(a,f,i){var a=k.byId(a),c=i||u.getComputedStyle(a),i=f.w,e=f.h,g=p(a)?s:o.getPadBorderExtents(a,c),c=o.getMarginExtents(a,c);if(b("webkit")&&m(a)){var d=a.style;if(0<=i&&!d.width)d.width="4px";if(0<=e&&!d.height)d.height="4px"}0<=i&&(i=Math.max(i-g.w-c.w,0));0<=e&&(e=Math.max(e-g.h-c.h,0));t(a,f.l,f.t,i,e)};o.isBodyLtr=function(a){a=a||r.doc;return"ltr"==(r.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};o.docScroll=function(a){var a=a||r.doc,f=r.doc.parentWindow||r.doc.defaultView;return"pageXOffset"in f?{x:f.pageXOffset,y:f.pageYOffset}:(f=b("quirks")?r.body(a):a.documentElement)&&{x:o.fixIeBiDiScrollLeft(f.scrollLeft||0,a),y:f.scrollTop||0}};if(b("ie"))o.getIeDocumentElementOffset=function(a){a=a||r.doc;a=a.documentElement;if(8>b("ie")){var f=a.getBoundingClientRect(),i=f.left,f=f.top;7>b("ie")&&(i+=a.clientLeft,f+=a.clientTop);return{x:0>i?0:i,y:0>f?0:f}}return{x:0,y:0}};o.fixIeBiDiScrollLeft=function(a,f){var f=f||r.doc,i=b("ie");if(i&&!o.isBodyLtr(f)){var c=b("quirks"),e=c?r.body(f):f.documentElement,g=r.global;6==i&&!c&&g.frameElement&&e.scrollHeight>e.clientHeight&&(a+=e.clientLeft);return 8>i||c?a+e.clientWidth-e.scrollWidth:-a}return a};o.position=function(a,f){var a=k.byId(a),i=r.body(a.ownerDocument),c=a.getBoundingClientRect(),c={x:c.left,y:c.top,w:c.right-c.left,h:c.bottom-c.top};if(9>b("ie")){var e=o.getIeDocumentElementOffset(a.ownerDocument);c.x-=e.x+(b("quirks")?i.clientLeft+i.offsetLeft:0);c.y-=e.y+(b("quirks")?i.clientTop+i.offsetTop:0)}f&&(i=o.docScroll(a.ownerDocument),c.x+=i.x,c.y+=i.y);return c};o.getMarginSize=function(a,f){var a=k.byId(a),b=o.getMarginExtents(a,f||u.getComputedStyle(a)),c=a.getBoundingClientRect();return{w:c.right-c.left+b.w,h:c.bottom-c.top+b.h}};o.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!b("dom-addeventlistener")){var f=a.target,f=f&&f.ownerDocument||document,i=b("quirks")?f.body:f.documentElement,c=o.getIeDocumentElementOffset(f);a.pageX=a.clientX+o.fixIeBiDiScrollLeft(i.scrollLeft||0,f)-c.x;a.pageY=a.clientY+(i.scrollTop||0)-c.y}};return o})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(b,r,k){var u={global:b.global,doc:this.document||null,body:function(k){k=k||b.doc;return k.body||k.getElementsByTagName("body")[0]},setContext:function(k,m){b.global=u.global=k;b.doc=u.doc=m},withGlobal:function(k,m,p,o){var s=b.global;try{return b.global=u.global=k,u.withDoc.call(null,k.document,m,p,o)}finally{b.global=u.global=s}},withDoc:function(t,m,p,o){var s=u.doc,a=k("quirks"),f=k("ie"),i,c,e;try{b.doc=u.doc=t;b.isQuirks=k.add("quirks","BackCompat"==b.doc.compatMode,!0,!0);if(k("ie")&&(e=t.parentWindow)&&e.navigator)i=parseFloat(e.navigator.appVersion.split("MSIE ")[1])||void 0,(c=t.documentMode)&&5!=c&&Math.floor(i)!=c&&(i=c),b.isIE=k.add("ie",i,!0,!0);p&&"string"==typeof m&&(m=p[m]);return m.apply(p,o||[])}finally{b.doc=u.doc=s,b.isQuirks=k.add("quirks",a,!0,!0),b.isIE=k.add("ie",f,!0,!0)}}};r.mixin(b,u);return u})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(b,r){if(7>=b("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var u={};u.byId=b("ie")?function(b,p){if("string"!=typeof b)return b;var o=p||r.doc,s=b&&o.getElementById(b);if(s&&(s.attributes.id.value==b||s.id==b))return s;o=o.all[b];if(!o||o.nodeName)o=[o];for(var a=0;s=o[a++];)if(s.attributes&&s.attributes.id&&s.attributes.id.value==b||s.id==b)return s}:function(b,p){return("string"==typeof b?(p||r.doc).getElementById(b):b)||null};u.isDescendant=function(b,p){try{b=u.byId(b);for(p=u.byId(p);b;){if(b==p)return!0;b=b.parentNode}}catch(o){}return!1};b.add("css-user-select",function(b,p,o){if(!o)return!1;var b=o.style,p=["Khtml","O","ms","Moz","Webkit"],o=p.length,s="userSelect";do if("undefined"!==typeof b[s])return s;while(o--&&(s=p[o]+"UserSelect"));return!1});var t=b("css-user-select");u.setSelectable=t?function(b,p){u.byId(b).style[t]=p?"":"none"}:function(b,p){var b=u.byId(b),o=b.getElementsByTagName("*"),s=o.length;if(p)for(b.removeAttribute("unselectable");s--;)o[s].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");s--;)o[s].setAttribute("unselectable","on")};return u})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(b,r){function k(c,g,d){g=g.toLowerCase();if(b("ie")){if("auto"==d){if("height"==g)return c.offsetHeight;if("width"==g)return c.offsetWidth}if("fontweight"==g)switch(d){case 700:return"bold";default:return"normal"}}g in a||(a[g]=f.test(g));return a[g]?m(c,d):d}var u,t={};u=b("webkit")?function(a){var c;if(1==a.nodeType){var d=a.ownerDocument.defaultView;c=d.getComputedStyle(a,null);if(!c&&a.style)a.style.display="",c=d.getComputedStyle(a,null)}return c||{}}:b("ie")&&(9>b("ie")||b("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};t.getComputedStyle=u;var m;m=b("ie")?function(a,c){if(!c)return 0;if("medium"==c)return 4;if(c.slice&&"px"==c.slice(-2))return parseFloat(c);var d=a.style,f=a.runtimeStyle,b=d.left,i=f.left;f.left=a.currentStyle.left;try{d.left=c,c=d.pixelLeft}catch(m){c=0}d.left=b;f.left=i;return c}:function(a,c){return parseFloat(c)||0};t.toPixelValue=m;var p=function(a,c){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return c?{}:null}},o=9>b("ie")||10>b("ie")&&b("quirks")?function(a){try{return p(a).Opacity/100}catch(c){return 1}}:function(a){return u(a).opacity},s=9>b("ie")||10>b("ie")&&b("quirks")?function(a,c){var d=100*c,f=1==c;a.style.zoom=f?"":1;if(p(a))p(a,1).Opacity=d;else{if(f)return c;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+d+")"}p(a,1).Enabled=!f;if("tr"==a.tagName.toLowerCase())for(d=a.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&s(d,c);return c}:function(a,c){return a.style.opacity=c},a={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/,i=b("ie")?"styleFloat":"cssFloat",c={cssFloat:i,styleFloat:i,"float":i};t.get=function(a,g){var d=r.byId(a),f=arguments.length;if(2==f&&"opacity"==g)return o(d);var g=c[g]||g,b=t.getComputedStyle(d);return 1==f?b:k(d,g,b[g]||d.style[g])};t.set=function(a,g,d){var f=r.byId(a),b=arguments.length,i="opacity"==g,g=c[g]||g;if(3==b)return i?s(f,d):f.style[g]=d;for(var m in g)t.set(a,m,g[m]);return t.getComputedStyle(f)};return t})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(b,r,k,u,t){function m(b,o){var s=function(a,f){return r(a,b,function(b){if(o)return o(b,f);if(!u.isDescendant(b.relatedTarget,a))return f.call(this,b)})};s.bubble=function(a){return m(b,function(f,b){var c=a(f.target),e=f.relatedTarget;if(c&&c!=(e&&1==e.nodeType&&a(e)))return b.call(c,f)})};return s}k.add("dom-quirks",t.doc&&"BackCompat"==t.doc.compatMode);k.add("events-mouseenter",t.doc&&"onmouseenter"in t.doc.createElement("div"));k.add("events-mousewheel",t.doc&&"onmousewheel"in t.doc);t=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(b,m){return b.button&m},isLeft:function(b){return b.button&1},isMiddle:function(b){return b.button&4},isRight:function(b){return b.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,m){return b.button==m},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};b.mouseButtons=t;b=k("events-mousewheel")?"mousewheel":function(b,m){return r(b,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;m.call(this,b)})};return{_eventHandler:m,enter:m("mouseover"),leave:m("mouseout"),wheel:b,isLeft:t.isLeft,isMiddle:t.isMiddle,isRight:t.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(b,r,k){b._name="browser";r.mixin(b,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});b.locale=b.locale||(k("ie")?navigator.userLanguage:navigator.language).toLowerCase();return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(b,r){return b.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:r("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:r("mac")&&!r("air")?r("safari")?91:224:17}})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(b,r,k,u,t,m,p){var o=function(){},s=Object.freeze||function(){},a=b.Deferred=function(f){function b(a){if(g)throw Error("This deferred has already been resolved");e=a;g=!0;c()}function c(){for(var a;!a&&p;){var c=p;p=p.next;if(a=c.progress==o)g=!1;var f=d?c.error:c.resolved;t("config-useDeferredInstrumentation")&&d&&r.instrumentRejected&&r.instrumentRejected(e,!!f);if(f)try{var b=f(e);b&&"function"===typeof b.then?b.then(m.hitch(c.deferred,"resolve"),m.hitch(c.deferred,"reject"),m.hitch(c.deferred,"progress")):(f=a&&void 0===b,a&&!f&&(d=b instanceof Error),c.deferred[f&&d?"reject":"resolve"](f?e:b))}catch(i){c.deferred.reject(i)}else d?c.deferred.reject(e):c.deferred.resolve(e)}}var e,g,d,v,p,J=this.promise=new k;this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];b(a)};this.reject=this.errback=function(a){d=!0;this.fired=1;t("config-useDeferredInstrumentation")&&r.instrumentRejected&&r.instrumentRejected(a,!!p);b(a);this.results=[null,a]};this.progress=function(a){for(var c=p;c;){var d=c.progress;d&&d(a);c=c.next}};this.addCallbacks=function(a,c){this.then(a,c,o);return this};J.then=this.then=function(d,e,f){var b=f==o?this:new a(J.cancel),d={resolved:d,error:e,progress:f,deferred:b};p?v=v.next=d:p=v=d;g&&c();return b.promise};var C=this;J.cancel=this.cancel=function(){if(!g){var a=f&&f(C);if(!g)a instanceof Error||(a=new u(a)),a.log=!1,C.reject(a)}};s(J)};m.extend(a,{addCallback:function(a){return this.addCallbacks(m.hitch.apply(b,arguments))},addErrback:function(a){return this.addCallbacks(null,m.hitch.apply(b,arguments))},addBoth:function(a){var i=m.hitch.apply(b,arguments);return this.addCallbacks(i,i)},fired:-1});a.when=b.when=p;return a})},"dojo/Deferred":function(){define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","require"],function(b,r,k,u,t){var m=Object.freeze||function(){},p=function(a,c,e,g){for(var d=0;d<a.length;d++)o(a[d],c,e,g)},o=function(f,c,e){var g=f[c],d=f.deferred;if(g)try{var b=g(e);0===c?"undefined"!==typeof b&&a(d,c,b):b&&"function"===typeof b.then?(f.cancel=b.cancel,b.then(s(d,1),s(d,2),s(d,0))):a(d,1,b)}catch(m){a(d,2,m)}else a(d,c,e)},s=function(f,c){return function(e){a(f,c,e)}},a=function(a,c,e){if(!a.isCanceled())switch(c){case 0:a.progress(e);break;case 1:a.resolve(e);break;case 2:a.reject(e)}},f=function(a){var c=this.promise=new u,e=this,g,d,b=!1,s=[];this.isResolved=c.isResolved=function(){return 1===g};this.isRejected=c.isRejected=function(){return 2===g};this.isFulfilled=c.isFulfilled=function(){return!!g};this.isCanceled=c.isCanceled=function(){return b};this.progress=function(a,d){if(g){if(!0===d)throw Error("This deferred has already been fulfilled.");return c}p(s,0,a,null,e);return c};this.resolve=function(a,f){if(g){if(!0===f)throw Error("This deferred has already been fulfilled.");return c}p(s,g=1,d=a,null,e);s=null;return c};var t=this.reject=function(a,f){if(g){if(!0===f)throw Error("This deferred has already been fulfilled.");return c}p(s,g=2,d=a,void 0,e);s=null;return c};this.then=c.then=function(a,e,b){var x=[b,a,e];x.cancel=c.cancel;x.deferred=new f(function(a){return x.cancel&&x.cancel(a)});g&&!s?o(x,g,d,void 0):s.push(x);return x.deferred.promise};this.cancel=c.cancel=function(c,e){if(g){if(!0===e)throw Error("This deferred has already been fulfilled.")}else{if(a)var f=a(c),c="undefined"===typeof f?c:f;b=!0;if(g){if(2===g&&d===c)return c}else return"undefined"===typeof c&&(c=new k),t(c),c}};m(c)};f.prototype.toString=function(){return"[object Deferred]"};t&&t(f);return f})},"dojo/errors/CancelError":function(){define(["./create"],function(b){return b("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(b){return function(r,k,u,t){var u=u||Error,m=function(b){if(u===Error){Error.captureStackTrace&&Error.captureStackTrace(this,m);var o=Error.call(this,b),s;for(s in o)o.hasOwnProperty(s)&&(this[s]=o[s]);this.message=b;this.stack=o.stack}else u.apply(this,arguments);k&&k.apply(this,arguments)};m.prototype=b.delegate(u.prototype,t);m.prototype.name=r;return m.prototype.constructor=m}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(b){function r(){throw new TypeError("abstract")}return b.extend(function(){},{then:function(){r()},cancel:function(){r()},isResolved:function(){r()},isRejected:function(){r()},isFulfilled:function(){r()},isCanceled:function(){r()},always:function(b){return this.then(b,b)},otherwise:function(b){return this.then(null,b)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(b,r){return function(k,u,t,m){var p=k&&"function"===typeof k.then,o=p&&k instanceof r;if(p){if(!o)p=new b(k.cancel),k.then(p.resolve,p.reject,p.progress),k=p.promise}else return u?u(k):(new b).resolve(k);return u||t||m?k.then(u,t,m):k}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(b,r){b.fromJson=function(b){return eval("("+b+")")};b._escapeString=r.stringify;b.toJsonIndentStr="	";b.toJson=function(k,u){return r.stringify(k,function(b,m){if(m){var p=m.__json__||m.json;if("function"==typeof p)return p.call(m)}return m},u&&b.toJsonIndentStr)};return b})},"dojo/json":function(){define(["./has"],function(b){var r="undefined"!=typeof JSON;b.add("json-parse",r);b.add("json-stringify",r&&'{"a":1}'==JSON.stringify({a:0},function(b,k){return k||1}));if(b("json-stringify"))return JSON;var k=function(b){return('"'+b.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:b("json-parse")?JSON.parse:function(b,k){if(k&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(b))throw new SyntaxError("Invalid characters in JSON");return eval("("+b+")")},stringify:function(b,t,m){function p(b,a,f){t&&(b=t(f,b));var i;i=typeof b;if("number"==i)return isFinite(b)?b+"":"null";if("boolean"==i)return b+"";if(null===b)return"null";if("string"==typeof b)return k(b);if("function"==i||"undefined"==i)return o;if("function"==typeof b.toJSON)return p(b.toJSON(f),a,f);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,d){a=b["getUTC"+c]()+(d?1:0);return 10>a?"0"+a:a});if(b.valueOf()!==b)return p(b.valueOf(),a,f);var c=m?a+m:"",e=m?" ":"",g=m?"\n":"";if(b instanceof Array){for(var e=b.length,d=[],f=0;f<e;f++)i=p(b[f],c,f),"string"!=typeof i&&(i="null"),d.push(g+c+i);return"["+d.join(",")+g+a+"]"}d=[];for(f in b){var v;if(b.hasOwnProperty(f)){if("number"==typeof f)v='"'+f+'"';else if("string"==typeof f)v=k(f);else continue;i=p(b[f],c,f);"string"==typeof i&&d.push(g+c+v+":"+e+i)}}return"{"+d.join(",")+g+a+"}"}var o;"string"==typeof t&&(m=t,t=null);return p(b,"","")}}})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(b,r,k,u){var t=b.Color=function(b){b&&this.setColor(b)};t.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:u.transparentColor||[0,0,0,0]};r.extend(t,{r:255,g:255,b:255,a:1,_set:function(b,p,o,s){this.r=b;this.g=p;this.b=o;this.a=s},setColor:function(b){r.isString(b)?t.fromString(b,this):r.isArray(b)?t.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof t||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var p=this.r+", "+this.g+", "+this.b;return(b?"rgba("+p+", "+this.a:"rgb("+p)+")"},toString:function(){return this.toCss(!0)}});t.blendColors=b.blendColors=function(b,p,o,s){var a=s||new t;k.forEach(["r","g","b","a"],function(f){a[f]=b[f]+(p[f]-b[f])*o;"a"!=f&&(a[f]=Math.round(a[f]))});return a.sanitize()};t.fromRgb=b.colorFromRgb=function(b,p){var o=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return o&&t.fromArray(o[1].split(/\s*,\s*/),p)};t.fromHex=b.colorFromHex=function(b,p){var o=p||new t,s=4==b.length?4:8,a=(1<<s)-1,b=Number("0x"+b.substr(1));if(isNaN(b))return null;k.forEach(["b","g","r"],function(f){var i=b&a;b>>=s;o[f]=4==s?17*i:i});o.a=1;return o};t.fromArray=b.colorFromArray=function(b,p){var o=p||new t;o._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));if(isNaN(o.a))o.a=1;return o.sanitize()};t.fromString=b.colorFromString=function(b,p){var o=t.named[b];return o&&t.fromArray(o,p)||t.fromRgb(b,p)||t.fromHex(b,p)};return t})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready,./kernel,./connect,./unload,./window,./event,./html,./NodeList,../query,./xhr,./fx".split(","),function(b){return b})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(b,r,k){var u=window,t={addOnWindowUnload:function(m,p){if(!b.windowUnloaded)k(u,"unload",b.windowUnloaded=function(){});k(u,"unload",r.hitch(m,p))},addOnUnload:function(b,p){k(u,"beforeunload",r.hitch(b,p))}};b.addOnWindowUnload=t.addOnWindowUnload;b.addOnUnload=t.addOnUnload;return t})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),function(b,r,k,u,t,m,p,o){b.byId=r.byId;b.isDescendant=r.isDescendant;b.setSelectable=r.setSelectable;b.getAttr=u.get;b.setAttr=u.set;b.hasAttr=u.has;b.removeAttr=u.remove;b.getNodeProp=u.getNodeProp;b.attr=function(b,a,f){return 2==arguments.length?u["string"==typeof a?"get":"set"](b,a):u.set(b,a,f)};b.hasClass=m.contains;b.addClass=m.add;b.removeClass=m.remove;b.toggleClass=m.toggle;b.replaceClass=m.replace;b._toDom=b.toDom=p.toDom;b.place=p.place;b.create=p.create;b.empty=function(b){p.empty(b)};b._destroyElement=b.destroy=function(b){p.destroy(b)};b._getPadExtents=b.getPadExtents=o.getPadExtents;b._getBorderExtents=b.getBorderExtents=o.getBorderExtents;b._getPadBorderExtents=b.getPadBorderExtents=o.getPadBorderExtents;b._getMarginExtents=b.getMarginExtents=o.getMarginExtents;b._getMarginSize=b.getMarginSize=o.getMarginSize;b._getMarginBox=b.getMarginBox=o.getMarginBox;b.setMarginBox=o.setMarginBox;b._getContentBox=b.getContentBox=o.getContentBox;b.setContentSize=o.setContentSize;b._isBodyLtr=b.isBodyLtr=o.isBodyLtr;b._docScroll=b.docScroll=o.docScroll;b._getIeDocumentElementOffset=b.getIeDocumentElementOffset=o.getIeDocumentElementOffset;b._fixIeBiDiScrollLeft=b.fixIeBiDiScrollLeft=o.fixIeBiDiScrollLeft;b.position=o.position;b.marginBox=function(b,a){return a?o.setMarginBox(b,a):o.getMarginBox(b)};b.contentBox=function(b,a){return a?o.setContentSize(b,a):o.getContentBox(b)};b.coords=function(m,a){b.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var m=r.byId(m),f=k.getComputedStyle(m),f=o.getMarginBox(m,f),i=o.position(m,a);f.x=i.x;f.y=i.y;return f};b.getProp=t.get;b.setProp=t.set;b.prop=function(b,a,f){return 2==arguments.length?t["string"==typeof a?"get":"set"](b,a):t.set(b,a,f)};b.getStyle=k.get;b.setStyle=k.set;b.getComputedStyle=k.getComputedStyle;b.__toPixelValue=b.toPixelValue=k.toPixelValue;b.style=function(b,a,f){switch(arguments.length){case 1:return k.get(b);case 2:return k["string"==typeof a?"get":"set"](b,a)}return k.set(b,a,f)};return b})},"dojo/dom-attr":function(){define("exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(b,r,k,u,t,m){function p(a,b){var i=a.getAttributeNode&&a.getAttributeNode(b);return i&&i.specified}var o={innerHTML:1,className:1,htmlFor:r("ie"),value:1},s={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};b.has=function(a,b){var i=b.toLowerCase();return o[m.names[i]||b]||p(u.byId(a),s[i]||b)};b.get=function(a,b){var a=u.byId(a),i=b.toLowerCase(),c=m.names[i]||b,e=a[c];if(o[c]&&"undefined"!=typeof e||"href"!=c&&("boolean"==typeof e||k.isFunction(e)))return e;i=s[i]||b;return p(a,i)?a.getAttribute(i):null};b.set=function(a,f,i){a=u.byId(a);if(2==arguments.length){for(var c in f)b.set(a,c,f[c]);return a}c=f.toLowerCase();var e=m.names[c]||f,g=o[e];if("style"==e&&"string"!=typeof i)return t.set(a,i),a;if(g||"boolean"==typeof i||k.isFunction(i))return m.set(a,f,i);a.setAttribute(s[c]||f,i);return a};b.remove=function(a,b){u.byId(a).removeAttribute(s[b.toLowerCase()]||b)};b.getNodeProp=function(a,b){var a=u.byId(a),i=b.toLowerCase(),c=m.names[i]||b;if(c in a&&"href"!=c)return a[c];i=s[i]||b;return p(a,i)?a.getAttribute(i):null}})},"dojo/dom-prop":function(){define("exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(b,r,k,u,t,m,p,o){var s={},a=0,f=r._scopeName+"attrid";b.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};b.get=function(a,c){var a=t.byId(a),e=c.toLowerCase();return a[b.names[e]||c]};b.set=function(i,c,e){i=t.byId(i);if(2==arguments.length&&"string"!=typeof c){for(var g in c)b.set(i,g,c[g]);return i}g=c.toLowerCase();g=b.names[g]||c;if("style"==g&&"string"!=typeof e)return m.set(i,e),i;if("innerHTML"==g)return k("ie")&&i.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(p.empty(i),i.appendChild(p.toDom(e,i.ownerDocument))):i[g]=e,i;if(u.isFunction(e)){var d=i[f];d||(d=a++,i[f]=d);s[d]||(s[d]={});var v=s[d][g];if(v)o.disconnect(v);else try{delete i[g]}catch(E){}e?s[d][g]=o.connect(i,g,e):i[g]=null;return i}i[g]=e;return i}})},"dojo/dom-construct":function(){define("exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),function(b,r,k,u,t,m){function p(a,c){var e=c.parentNode;e&&e.insertBefore(a,c)}var o={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},s=/<\s*([\w\:]+)/,a={},f=0,i="__"+r._scopeName+"ToDomId",c;for(c in o)if(o.hasOwnProperty(c))r=o[c],r.pre="option"==c?'<select multiple="multiple">':"<"+r.join("><")+">",r.post="</"+r.reverse().join("></")+">";b.toDom=function(c,d){var d=d||u.doc,e=d[i];e||(d[i]=e=++f+"",a[e]=d.createElement("div"));var c=c+"",b=c.match(s),m=b?b[1].toLowerCase():"",e=a[e];if(b&&o[m]){b=o[m];e.innerHTML=b.pre+c+b.post;for(b=b.length;b;--b)e=e.firstChild}else e.innerHTML=c;if(1==e.childNodes.length)return e.removeChild(e.firstChild);for(m=d.createDocumentFragment();b=e.firstChild;)m.appendChild(b);return m};b.place=function(a,c,e){c=t.byId(c);"string"==typeof a&&(a=/^\s*</.test(a)?b.toDom(a,c.ownerDocument):t.byId(a));if("number"==typeof e){var f=c.childNodes;!f.length||f.length<=e?c.appendChild(a):p(a,f[0>e?0:e])}else switch(e){case"before":p(a,c);break;case"after":e=a;(f=c.parentNode)&&(f.lastChild==c?f.appendChild(e):f.insertBefore(e,c.nextSibling));break;case"replace":c.parentNode.replaceChild(a,c);break;case"only":b.empty(c);c.appendChild(a);break;case"first":if(c.firstChild){p(a,c.firstChild);break}default:c.appendChild(a)}return a};b.create=function(a,c,e,f){var i=u.doc;if(e)e=t.byId(e),i=e.ownerDocument;"string"==typeof a&&(a=i.createElement(a));c&&m.set(a,c);e&&b.place(a,e,f);return a};var e=k("ie")?function(a){try{a.innerHTML=""}catch(c){for(var b;b=a.lastChild;){var f=a;b.firstChild&&e(b);f&&f.removeChild(b)}}}:function(a){a.innerHTML=""};b.empty=function(a){e(t.byId(a))};b.destroy=function(a){if(a=t.byId(a)){var c=a,a=a.parentNode;c.firstChild&&e(c);a&&a.removeChild(c)}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(b,r,k){function u(b){if("string"==typeof b||b instanceof String){if(b&&!m.test(b))return p[0]=b,p;b=b.split(m);b.length&&!b[0]&&b.shift();b.length&&!b[b.length-1]&&b.pop();return b}return!b?[]:r.filter(b,function(a){return a})}var t,m=/\s+/,p=[""],o={};return t={contains:function(b,a){return 0<=(" "+k.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){var b=k.byId(b),a=u(a),f=b.className,i,f=f?" "+f+" ":" ";i=f.length;for(var c=0,e=a.length,g;c<e;++c)(g=a[c])&&0>f.indexOf(" "+g+" ")&&(f+=g+" ");
i<f.length&&(b.className=f.substr(1,f.length-2))},remove:function(m,a){var m=k.byId(m),f;if(void 0!==a){a=u(a);f=" "+m.className+" ";for(var i=0,c=a.length;i<c;++i)f=f.replace(" "+a[i]+" "," ");f=b.trim(f)}else f="";m.className!=f&&(m.className=f)},replace:function(b,a,f){b=k.byId(b);o.className=b.className;t.remove(o,f);t.add(o,a);b.className!==o.className&&(b.className=o.className)},toggle:function(b,a,f){b=k.byId(b);if(void 0===f)for(var a=u(a),i=0,c=a.length,e;i<c;++i)e=a[i],t[t.contains(b,e)?"remove":"add"](b,e);else t[f?"add":"remove"](b,a);return f}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(b,r,k){var r=r.NodeList,u=r.prototype;u.connect=r._adaptAsForEach(function(){return b.connect.apply(this,arguments)});u.coords=r._adaptAsMap(b.coords);r.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");k.forEach(r.events,function(b){var m="on"+b;u[m]=function(b,o){return this.connect(m,b,o)}});return b.NodeList=r})},"dojo/query":function(){define("./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(b,r,k,u,t,m,p,o){function s(a,c){var d=function(d,e){if("string"==typeof e&&(e=k.byId(e),!e))return new c([]);var b="string"==typeof d?a(d,e):d?d.orphan?d:[d]:[];return b.orphan?b:new c(b)};d.matches=a.match||function(a,c,e){return 0<d.filter([a],c,e).length};d.filter=a.filter||function(a,c,e){return d(c,e).filter(function(c){return-1<t.indexOf(a,c)})};if("function"!=typeof a)var e=a.search,a=function(a,c){return e(c||document,a)};return d}r.add("array-extensible",function(){return 1==m.delegate([],{length:1}).length&&!r("bug-for-in-skips-shadowed")});var a=Array.prototype,f=a.slice,i=a.concat,c=t.forEach,e=function(a,c,d){c=[0].concat(f.call(c,0));d=d||b.global;return function(e){c[0]=e;return a.apply(d,c)}},g=function(a){var c=this instanceof d&&r("array-extensible");"number"==typeof a&&(a=Array(a));var e=a&&"length"in a?a:arguments;if(c||!e.sort){for(var b=c?this:[],g=b.length=e.length,f=0;f<g;f++)b[f]=e[f];if(c)return b;e=b}m._mixin(e,v);e._NodeListCtor=function(a){return d(a)};return e},d=g,v=d.prototype=r("array-extensible")?[]:{};d._wrap=v._wrap=function(a,c,e){a=new(e||this._NodeListCtor||d)(a);return c?a._stash(c):a};d._adaptAsMap=function(a,c){return function(){return this.map(e(a,arguments,c))}};d._adaptAsForEach=function(a,c){return function(){this.forEach(e(a,arguments,c));return this}};d._adaptAsFilter=function(a,c){return function(){return this.filter(e(a,arguments,c))}};d._adaptWithCondition=function(a,c,d){return function(){var g=arguments,f=e(a,g,d);if(c.call(d||b.global,g))return this.map(f);this.forEach(f);return this}};c(["slice","splice"],function(c){var d=a[c];v[c]=function(){return this._wrap(d.apply(this,arguments),"slice"==c?this:null)}});c(["indexOf","lastIndexOf","every","some"],function(a){var c=t[a];v[a]=function(){return c.apply(b,[this].concat(f.call(arguments,0)))}});m.extend(g,{constructor:d,_NodeListCtor:d,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,c){var d=this.map(function(d){return u(d,a,c)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var c=f.call(this,0),d=t.map(arguments,function(a){return f.call(a,0)});return this._wrap(i.apply(c,d),this)},map:function(a,c){return this._wrap(t.map(this,a,c),this)},forEach:function(a,d){c(this,a,d);return this},filter:function(a){var c=arguments,d=this,e=0;if("string"==typeof a){d=E._filterResult(this,c[0]);if(1==c.length)return d._stash(this);e=1}return this._wrap(t.filter(d,c[e],c[e+1]),this)},instantiate:function(a,c){var d=m.isFunction(a)?a:m.getObject(a),c=c||{};return this.forEach(function(a){new d(c,a)})},at:function(){var a=new this._NodeListCtor(0);c(arguments,function(c){0>c&&(c=this.length+c);this[c]&&a.push(this[c])},this);return a._stash(this)}});var E=s(o,g);b.query=s(o,function(a){return g(a)});E.load=function(a,c,d){p.load(a,c,function(a){d(s(a,g))})};b._filterQueryResult=E._filterResult=function(a,c,d){return new g(E.filter(a,c,d))};b.NodeList=E.NodeList=g;return E})},"dojo/selector/_loader":function(){define(["../has","require"],function(b,r){var k=document.createElement("div");b.add("dom-qsa2.1",!!k.querySelectorAll);b.add("dom-qsa3",function(){try{return k.innerHTML="<p class='TEST'></p>",1==k.querySelectorAll(".TEST:empty").length}catch(b){}});var u;return{load:function(k,m,p){var o=r,k="default"==k?b("config-selectorEngine")||"css3":k,k="css2"==k||"lite"==k?"./lite":"css2.1"==k?b("dom-qsa2.1")?"./lite":"./acme":"css3"==k?b("dom-qsa3")?"./lite":"./acme":"acme"==k?"./acme":(o=m)&&k;if("?"==k.charAt(k.length-1))var k=k.substring(0,k.length-1),s=!0;if(s&&(b("dom-compliant-qsa")||u))return p(u);o([k],function(a){"./lite"!=k&&(u=a);p(a)})}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(b,r,k,u,t){var m=u.trim,p=k.forEach,o="BackCompat"==t.doc.compatMode,s=!1,a=function(){return!0},f=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",c=function(c,d){return m(a.slice(c,d))},d=[],e=-1,b=-1,g=-1,f=-1,x=-1,i=-1,v=-1,B,z="",k="",o,p=0,N=a.length,H=null,t=null,P=function(){if(0<=i)H.id=c(i,p).replace(/\\/g,""),i=-1;if(0<=v){var a=v==p?null:c(v,p);H[0>">~+".indexOf(a)?"tag":"oper"]=a;v=-1}0<=x&&(H.classes.push(c(x+1,p).replace(/\\/g,"")),x=-1)};z=k,k=a.charAt(p),p<N;p++)if("\\"!=z)if(H||(o=p,H={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return s?this.otag:this.tag}},v=p),B)k==B&&(B=null);else if("'"==k||'"'==k)B=k;else if(0<=e)if("]"==k){t.attr?t.matchFor=c(g||e+1,p):t.attr=c(e+1,p);if((e=t.matchFor)&&('"'==e.charAt(0)||"'"==e.charAt(0)))t.matchFor=e.slice(1,-1);if(t.matchFor)t.matchFor=t.matchFor.replace(/\\/g,"");H.attrs.push(t);t=null;e=g=-1}else{if("="==k)g=0<="|~^$*".indexOf(z)?z:"",t.type=g+k,t.attr=c(e+1,p-g.length),g=p+1}else if(0<=b){if(")"==k){if(0<=f)t.value=c(b+1,p);f=b=-1}}else if("#"==k)P(),i=p+1;else if("."==k)P(),x=p;else if(":"==k)P(),f=p;else if("["==k)P(),e=p,t={};else if("("==k)0<=f&&(t={name:c(f+1,p),value:null},H.pseudos.push(t)),b=p;else if(" "==k&&z!=k){P();0<=f&&H.pseudos.push({name:c(f+1,p)});H.loops=H.pseudos.length||H.attrs.length||H.classes.length;H.oquery=H.query=c(o,p);H.otag=H.tag=H.oper?null:H.tag||"*";if(H.tag)H.tag=H.tag.toUpperCase();if(d.length&&d[d.length-1].oper)H.infixOper=d.pop(),H.query=H.infixOper.query+" "+H.query;d.push(H);H=null}return d},i=function(a,c){return!a?c:!c?a:function(){return a.apply(window,arguments)&&c.apply(window,arguments)}},c=function(a,c){var d=c||[];a&&d.push(a);return d},e=function(a){return 1==a.nodeType},g=function(a,c){return!a?"":"class"==c?a.className||"":"for"==c?a.htmlFor||"":"style"==c?a.style.cssText||"":(s?a.getAttribute(c):a.getAttribute(c,2))||""},d={"*=":function(a,c){return function(d){return 0<=g(d,a).indexOf(c)}},"^=":function(a,c){return function(d){return 0==g(d,a).indexOf(c)}},"$=":function(a,c){return function(d){var d=" "+g(d,a),e=d.lastIndexOf(c);return-1<e&&e==d.length-c.length}},"~=":function(a,c){var d=" "+c+" ";return function(c){return 0<=(" "+g(c,a)+" ").indexOf(d)}},"|=":function(a,c){var d=c+"-";return function(e){e=g(e,a);return e==c||0==e.indexOf(d)}},"=":function(a,c){return function(d){return g(d,a)==c}}},v="undefined"==typeof t.doc.firstChild.nextElementSibling,E=!v?"nextElementSibling":"nextSibling",J=!v?"previousElementSibling":"previousSibling",C=v?e:a,G=function(a){for(;a=a[J];)if(C(a))return!1;return!0},z=function(a){for(;a=a[E];)if(C(a))return!1;return!0},x=function(a){var c=a.parentNode,c=7!=c.nodeType?c:c.nextSibling,d=0,e=c.children||c.childNodes,b=a._i||a.getAttribute("_i")||-1,g=c._l||("undefined"!==typeof c.getAttribute?c.getAttribute("_l"):-1);if(!e)return-1;e=e.length;if(g==e&&0<=b&&0<=g)return b;r("ie")&&"undefined"!==typeof c.setAttribute?c.setAttribute("_l",e):c._l=e;b=-1;for(c=c.firstElementChild||c.firstChild;c;c=c[E])if(C(c))r("ie")?c.setAttribute("_i",++d):c._i=++d,a===c&&(b=d);return b},P=function(a){return!(x(a)%2)},N=function(a){return x(a)%2},B={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return G},"last-child":function(){return z},"only-child":function(){return function(a){return G(a)&&z(a)}},empty:function(){return function(a){for(var c=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var d=c[a].nodeType;if(1===d||3==d)return!1}return!0}},contains:function(a,c){var d=c.charAt(0);if('"'==d||"'"==d)c=c.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(c)}},not:function(a,c){var d=f(c)[0],e={el:1};if("*"!=d.tag)e.tag=1;if(!d.classes.length)e.classes=1;var b=S(d,e);return function(a){return!b(a)}},"nth-child":function(a,c){var d=parseInt;if("odd"==c)return N;if("even"==c)return P;if(-1!=c.indexOf("n")){var e=c.split("n",2),b=e[0]?"-"==e[0]?-1:d(e[0]):1,g=e[1]?d(e[1]):0,f=0,i=-1;0<b?0>g?g=g%b&&b+g%b:0<g&&(g>=b&&(f=g-g%b),g%=b):0>b&&(b*=-1,0<g&&(i=g,g%=b));if(0<b)return function(a){a=x(a);return a>=f&&(0>i||a<=i)&&a%b==g};c=g}var v=d(c);return function(a){return x(a)==v}}},H=9>r("ie")||9==r("ie")&&r("quirks")?function(a){var c=a.toLowerCase();"class"==c&&(a="className");return function(d){return s?d.getAttribute(a):d[a]||d[c]}}:function(a){return function(c){return c&&c.getAttribute&&c.hasAttribute(a)}},S=function(c,b){if(!c)return a;var b=b||{},g=null;"el"in b||(g=i(g,e));"tag"in b||"*"!=c.tag&&(g=i(g,function(a){return a&&(s?a.tagName:a.tagName.toUpperCase())==c.getTag()}));"classes"in b||p(c.classes,function(a,c){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");g=i(g,function(a){return d.test(a.className)});g.count=c});"pseudos"in b||p(c.pseudos,function(a){var c=a.name;B[c]&&(g=i(g,B[c](c,a.value)))});"attrs"in b||p(c.attrs,function(a){var c,e=a.attr;a.type&&d[a.type]?c=d[a.type](e,a.matchFor):e.length&&(c=H(e));c&&(g=i(g,c))});"id"in b||c.id&&(g=i(g,function(a){return!!a&&a.id==c.id}));g||"default"in b||(g=a);return g},T=function(a){return function(c,d,b){for(;c=c[E];)if(!v||e(c)){(!b||da(c,b))&&a(c)&&d.push(c);break}return d}},$=function(a){return function(c,d,e){for(c=c[E];c;){if(C(c)){if(e&&!da(c,e))break;a(c)&&d.push(c)}c=c[E]}return d}},M=function(c){c=c||a;return function(a,d,e){for(var b=0,g=a.children||a.childNodes;a=g[b++];)C(a)&&(!e||da(a,e))&&c(a,b)&&d.push(a);return d}},U={},Q=function(d){var e=U[d.query];if(e)return e;var g=d.infixOper,g=g?g.oper:"",f=S(d,{el:1}),x="*"==d.tag,i=t.doc.getElementsByClassName;if(g){i={el:1};if(x)i.tag=1;f=S(d,i);"+"==g?e=T(f):"~"==g?e=$(f):">"==g&&(e=M(f))}else if(d.id)f=!d.loops&&x?a:S(d,{el:1,id:1}),e=function(a,e){var g=b.byId(d.id,a.ownerDocument||a);if(g&&f(g)){if(9==a.nodeType)return c(g,e);for(var x=g.parentNode;x&&!(x==a);)x=x.parentNode;if(x)return c(g,e)}};else if(i&&/\{\s*\[native code\]\s*\}/.test(""+i)&&d.classes.length&&!o)var f=S(d,{el:1,classes:1,id:1}),v=d.classes.join(" "),e=function(a,d,e){for(var d=c(0,d),b,g=0,x=a.getElementsByClassName(v);b=x[g++];)f(b,a)&&da(b,e)&&d.push(b);return d};else!x&&!d.loops?e=function(a,e,b){for(var e=c(0,e),g=0,f=d.getTag(),f=f?a.getElementsByTagName(f):[];a=f[g++];)da(a,b)&&e.push(a);return e}:(f=S(d,{el:1,tag:1,id:1}),e=function(a,e,b){for(var e=c(0,e),g,x=0,i=(g=d.getTag())?a.getElementsByTagName(g):[];g=i[x++];)f(g,a)&&da(g,b)&&e.push(g);return e});return U[d.query]=e},F={},L={},O=function(a){var d=f(m(a));if(1==d.length){var e=Q(d[0]);return function(a){if(a=e(a,[]))a.nozip=!0;return a}}return function(a){for(var a=c(a),e,b,g=d.length,f,x,i=0;i<g;i++){x=[];e=d[i];b=a.length-1;if(0<b)f={},x.nozip=!0;b=Q(e);for(var v=0;e=a[v];v++)b(e,x,f);if(!x.length)break;a=x}return x}},X=r("ie")?"commentStrip":"nozip",R=!!t.doc.querySelectorAll,Y=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,ca=function(a,c,d,e){return d?(c?c+" ":"")+d+(e?" "+e:""):a},Z=/([^[]*)([^\]]*])?/g,ma=function(a,c,d){return c.replace(Y,ca)+(d||"")},V=function(a,c){a=a.replace(Z,ma);if(R){var d=L[a];if(d&&!c)return d}if(d=F[a])return d;var d=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&e&&(c=!0);if(R&&!c&&-1==">~+".indexOf(d)&&(!r("ie")||-1==a.indexOf(":"))&&!(o&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var b=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return L[a]=function(c){try{if(!(9==c.nodeType||e))throw"";var d=c.querySelectorAll(b);d[X]=!0;return d}catch(g){return V(a,!0)(c)}}}var g=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return F[a]=2>g.length?O(a):function(a){for(var c=0,d=[],e;e=g[c++];)d=d.concat(O(e)(a));return d}},W=0,ba=r("ie")?function(a){return s?a.getAttribute("_uid")||a.setAttribute("_uid",++W)||W:a.uniqueID}:function(a){return a._uid||(a._uid=++W)},da=function(a,c){if(!c)return 1;var d=ba(a);return!c[d]?c[d]=1:0},ea=function(a){if(a&&a.nozip)return a;var c=[];if(!a||!a.length)return c;a[0]&&c.push(a[0]);if(2>a.length)return c;W++;var d,b;if(r("ie")&&s){var g=W+"";a[0].setAttribute("_zipIdx",g);for(d=1;b=a[d];d++)a[d].getAttribute("_zipIdx")!=g&&c.push(b),b.setAttribute("_zipIdx",g)}else if(r("ie")&&a.commentStrip)try{for(d=1;b=a[d];d++)e(b)&&c.push(b)}catch(f){}else{a[0]&&(a[0]._zipIdx=W);for(d=1;b=a[d];d++)a[d]._zipIdx!=W&&c.push(b),b._zipIdx=W}return c},ja=function(a,c){c=c||t.doc;s="div"===(c.ownerDocument||c).createElement("div").tagName;var d=V(a)(c);return d&&d.nozip?d:ea(d)};ja.filter=function(a,c,d){for(var e=[],g=f(c),g=1==g.length&&!/[^\w#\.]/.test(c)?S(g[0]):function(a){return-1!=k.indexOf(ja(c,b.byId(d)),a)},x=0,i;i=a[x];x++)g(i)&&e.push(i);return e};return ja})},"dojo/NodeList-dom":function(){define("./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(b,r,k,u,t,m,p,o,s){function a(a){return function(c,d,e){return 2==arguments.length?a["string"==typeof d?"get":"set"](c,d):a.set(c,d,e)}}var f=function(a){return 1==a.length&&"string"==typeof a[0]},i=function(a){var c=a.parentNode;c&&c.removeChild(a)},c=r.NodeList,e=c._adaptWithCondition,g=c._adaptAsForEach,d=c._adaptAsMap;u.extend(c,{_normalize:function(a,c){var d=!0===a.parse;if("string"==typeof a.template)var e=a.templateFunc||b.string&&b.string.substitute,a=e?e(a.template,a):a;e=typeof a;"string"==e||"number"==e?(a=m.toDom(a,c&&c.ownerDocument),a=11==a.nodeType?u._toArray(a.childNodes):[a]):u.isArrayLike(a)?u.isArray(a)||(a=u._toArray(a)):a=[a];if(d)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,c,d,e){if(!(1!=c.nodeType&&"only"==d))for(var g,f=a.length,x=f-1;0<=x;x--){var i=e?this._cloneNode(a[x]):a[x];if(a._runParse&&b.parser&&b.parser.parse){g||(g=c.ownerDocument.createElement("div"));g.appendChild(i);b.parser.parse(g);for(i=g.firstChild;g.firstChild;)g.removeChild(g.firstChild)}x==f-1?m.place(i,c,d):c.parentNode.insertBefore(i,c);c=i}},position:d(p.position),attr:e(a(o),f),style:e(a(s),f),addClass:g(t.add),removeClass:g(t.remove),toggleClass:g(t.toggle),replaceClass:g(t.replace),empty:g(m.empty),removeAttr:g(o.remove),marginBox:d(p.getMarginBox),place:function(a,c){var d=r(a)[0];return this.forEach(function(a){m.place(a,d,c)})},orphan:function(a){return(a?r._filterResult(this,a):this).forEach(i)},adopt:function(a,c){return r(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;var d=new c;this.map(function(c){r(a,c).forEach(function(a){void 0!==a&&d.push(a)})});return d._stash(this)},filter:function(a){var c=arguments,d=this,e=0;if("string"==typeof a){d=r._filterResult(this,c[0]);if(1==c.length)return d._stash(this);e=1}return this._wrap(k.filter(d,c[e],c[e+1]),this)},addContent:function(a,c){for(var a=this._normalize(a,this[0]),d=0,e;e=this[d];d++)this._place(a,e,c,0<d);return this}});return c})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(b,r,k,u,t,m,p,o,s,a,f,i,c,e,g,d){b._xhrObj=g._create;var v=b.config;b.objectToQuery=u.objectToQuery;b.queryToObject=u.queryToObject;b.fieldToObject=m.fieldToObject;b.formToObject=m.toObject;b.formToQuery=m.toQuery;b.formToJson=m.toJson;b._blockAsync=!1;var E=b._contentHandlers=b.contentHandlers={text:function(a){return a.responseText},json:function(a){return s.fromJson(a.responseText||null)},"json-comment-filtered":function(a){var a=a.responseText,c=a.indexOf("/*"),d=a.lastIndexOf("*/");if(-1==c||-1==d)throw Error("JSON was not comment filtered");return s.fromJson(a.substring(c+2,d))},javascript:function(a){return b.eval(a.responseText)},xml:function(a){var c=a.responseXML;if(r("ie")&&(!c||!c.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),d(3),d(2)];f.some(d,function(d){try{var e=new ActiveXObject(d);e.async=!1;e.loadXML(a.responseText);c=e}catch(b){return!1}return!0})}return c},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?E["json-comment-filtered"](a):E.json(a)}};b._ioSetArgs=function(c,d,e,g){var f={args:c,url:c.url},i=null;if(c.form){var i=t.byId(c.form),z=i.getAttributeNode("action");f.url=f.url||(z?z.value:null);i=m.toObject(i)}z=[{}];i&&z.push(i);c.content&&z.push(c.content);c.preventCache&&z.push({"dojo.preventCache":(new Date).valueOf()});f.query=u.objectToQuery(a.mixin.apply(null,z));f.handleAs=c.handleAs||"text";var k=new p(function(a){a.canceled=!0;d&&d(a);var c=a.ioArgs.error;if(!c)c=Error("request cancelled"),c.dojoType="cancel",a.ioArgs.error=c;return c});k.addCallback(e);var o=c.load;o&&a.isFunction(o)&&k.addCallback(function(a){return o.call(c,a,f)});var s=c.error;s&&a.isFunction(s)&&k.addErrback(function(a){return s.call(c,a,f)});var r=c.handle;r&&a.isFunction(r)&&k.addBoth(function(a){return r.call(c,a,f)});k.addErrback(function(a){return g(a,k)});v.ioPublish&&b.publish&&!1!==f.args.ioPublish&&(k.addCallbacks(function(a){b.publish("/dojo/io/load",[k,a]);return a},function(a){b.publish("/dojo/io/error",[k,a]);return a}),k.addBoth(function(a){b.publish("/dojo/io/done",[k,a]);return a}));k.ioArgs=f;return k};var J=function(a){a=E[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},C=function(a,c){c.ioArgs.args.failOk||console.error(a);return a},G=function(a){0>=z&&(z=0,v.ioPublish&&b.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&b.publish("/dojo/io/stop"))},z=0;c.after(e,"_onAction",function(){z-=1});c.after(e,"_onInFlight",G);b._ioCancelAll=e.cancelAll;b._ioNotifyStart=function(a){v.ioPublish&&b.publish&&!1!==a.ioArgs.args.ioPublish&&(z||b.publish("/dojo/io/start"),z+=1,b.publish("/dojo/io/send",[a]))};b._ioWatch=function(c,d,b,g){c.ioArgs.options=c.ioArgs.args;a.mixin(c,{response:c.ioArgs,isValid:function(){return d(c)},isReady:function(){return b(c)},handleResponse:function(){return g(c)}});e(c);G(c)};b._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};b.xhr=function(a,c,d){var e,f=b._ioSetArgs(c,function(){e&&e.cancel()},J,C),i=f.ioArgs;"postData"in c?i.query=c.postData:"putData"in c?i.query=c.putData:"rawBody"in c?i.query=c.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&b._ioAddQueryToUrl(i);var m={method:a,handleAs:"text",timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:i};if("undefined"!==typeof c.headers)m.headers=c.headers;if("undefined"!==typeof c.contentType){if(!m.headers)m.headers={};m.headers["Content-Type"]=c.contentType}if("undefined"!==typeof i.query)m.data=i.query;if("undefined"!==typeof c.sync)m.sync=c.sync;b._ioNotifyStart(f);try{e=g(i.url,m,!0)}catch(v){return f.cancel(),f}f.ioArgs.xhr=e.response.xhr;e.then(function(){f.resolve(f)}).otherwise(function(a){i.error=a;if(a.response)a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr;f.reject(a)});return f};b.xhrGet=function(a){return b.xhr("GET",a)};b.rawXhrPost=b.xhrPost=function(a){return b.xhr("POST",a,!0)};b.rawXhrPut=b.xhrPut=function(a){return b.xhr("PUT",a,!0)};b.xhrDelete=function(a){return b.xhr("DELETE",a)};b._isDocumentOk=function(a){return d.checkStatus(a.status)};b._getText=function(a){var c;b.xhrGet({url:a,sync:!0,load:function(a){c=a}});return c};a.mixin(b.xhr,{_xhrObj:b._xhrObj,fieldToObject:m.fieldToObject,formToObject:m.toObject,objectToQuery:u.objectToQuery,formToQuery:m.toQuery,formToJson:m.toJson,queryToObject:u.queryToObject,contentHandlers:E,_ioSetArgs:b._ioSetArgs,_ioCancelAll:b._ioCancelAll,_ioNotifyStart:b._ioNotifyStart,_ioWatch:b._ioWatch,_ioAddQueryToUrl:b._ioAddQueryToUrl,_isDocumentOk:b._isDocumentOk,_getText:b._getText,get:b.xhrGet,post:b.xhrPost,put:b.xhrPut,del:b.xhrDelete});return b.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(b){var r={};return{objectToQuery:function(k){var u=encodeURIComponent,t=[],m;for(m in k){var p=k[m];if(p!=r[m]){var o=u(m)+"=";if(b.isArray(p))for(var s=0,a=p.length;s<a;++s)t.push(o+u(p[s]));else t.push(o+u(p))}}return t.join("&")},queryToObject:function(k){for(var r=decodeURIComponent,k=k.split("&"),t={},m,p,o=0,s=k.length;o<s;++o)if(p=k[o],p.length){var a=p.indexOf("=");0>a?(m=r(p),p=""):(m=r(p.slice(0,a)),p=r(p.slice(a+1)));"string"==typeof t[m]&&(t[m]=[t[m]]);b.isArray(t[m])?t[m].push(p):t[m]=p}return t}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(b,r,k,u){var t={fieldToObject:function(b){var k=null;if(b=r.byId(b)){var o=b.name,s=(b.type||"").toLowerCase();if(o&&s&&!b.disabled)if("radio"==s||"checkbox"==s){if(b.checked)k=b.value}else if(b.multiple){k=[];for(b=[b.firstChild];b.length;)for(o=b.pop();o;o=o.nextSibling)if(1==o.nodeType&&"option"==o.tagName.toLowerCase())o.selected&&k.push(o.value);else{o.nextSibling&&b.push(o.nextSibling);o.firstChild&&b.push(o.firstChild);break}}else k=b.value}return k},toObject:function(m){for(var k={},m=r.byId(m).elements,o=0,s=m.length;o<s;++o){var a=m[o],f=a.name,i=(a.type||"").toLowerCase();if(f&&i&&0>"file|submit|image|reset|button".indexOf(i)&&!a.disabled){var c=k,e=f,a=t.fieldToObject(a);if(null!==a){var g=c[e];"string"==typeof g?c[e]=[g,a]:b.isArray(g)?g.push(a):c[e]=a}if("image"==i)k[f+".x"]=k[f+".y"]=k[f].x=k[f].y=0}}return k},toQuery:function(b){return k.objectToQuery(t.toObject(b))},toJson:function(b,k){return u.stringify(t.toObject(b),null,k?4:0)}};return t})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),function(b,r,k,u,t,m){function p(){for(var b=+new Date,i=0,c;i<a.length&&(c=a[i]);i++){var e=c.response,g=e.options;if(c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(e))a.splice(i--,1),o._onAction&&o._onAction();else if(c.isReady&&c.isReady(e))a.splice(i--,1),c.handleResponse(e),o._onAction&&o._onAction();else if(c.startTime&&c.startTime+(g.timeout||0)<b)a.splice(i--,1),c.cancel(new r("Timeout exceeded",e)),o._onAction&&o._onAction()}o._onInFlight&&o._onInFlight(c);a.length||(clearInterval(s),s=null)}function o(b){if(b.response.options.timeout)b.startTime=+new Date;b.isFulfilled()||(a.push(b),s||(s=setInterval(p,50)),b.response.options.sync&&p())}var s=null,a=[];o.cancelAll=function(){try{u.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(c){}})}catch(b){}};t&&m&&t.doc.attachEvent&&m(t.global,"unload",function(){o.cancelAll()});return o})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang".split(","),function(b,r,k,u,t,m,p){function o(a){return s(a)}b.deepCopy=function(a,f){for(var i in f){var c=a[i],e=f[i];c!==e&&(c&&"object"===typeof c&&e&&"object"===typeof e?b.deepCopy(c,e):a[i]=e)}return a};b.deepCreate=function(a,f){var f=f||{},i=p.delegate(a),c,e;for(c in a)(e=a[c])&&"object"===typeof e&&(i[c]=b.deepCreate(e,f[c]));return b.deepCopy(i,f)};var s=Object.freeze||function(a){return a};b.deferred=function(a,f,i,c,e,g){var d=new u(function(c){f&&f(d,a);return!c||!(c instanceof r)&&!(c instanceof k)?new k("Request canceled",a):c});d.response=a;d.isValid=i;d.isReady=c;d.handleResponse=e;i=d.then(o).otherwise(function(c){c.response=a;throw c});b.notify&&i.then(p.hitch(b.notify,"emit","load"),p.hitch(b.notify,"emit","error"));c=i.then(function(a){return a.data||a.text});i=s(p.delegate(c,{response:i}));g&&d.then(function(a){g.call(d,a)},function(c){g.call(d,a,c)});d.promise=i;d.then=i.then;return d};b.addCommonMethods=function(a,b){m.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,e){e=p.delegate(e||{});e.method=b;return a(c,e)}})};b.parseArgs=function(a,b,i){var c=b.data,e=b.query;if(c&&!i&&"object"===typeof c)b.data=t.objectToQuery(c);e?("object"===typeof e&&(e=t.objectToQuery(e)),b.preventCache&&(e+=(e?"&":"")+"request.preventCache="+ +new Date)):b.preventCache&&(e="request.preventCache="+ +new Date);a&&e&&(a+=(~a.indexOf("?")?"&":"?")+e);return{url:a,options:b,getHeader:function(){return null}}};b.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(b){return b("RequestError",function(b,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(b,r){return b("RequestTimeoutError",null,r,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(b,r,k,u,t){function m(a,c){var e=a.xhr;a.status=a.xhr.status;a.text=e.responseText;if("xml"===a.options.handleAs)a.data=e.responseXML;if(!c)try{k(a)}catch(g){c=g}c?this.reject(c):u.checkStatus(e.status)?this.resolve(a):(c=new b("Unable to load "+a.url+" status: "+e.status,a),this.reject(c))}function p(d,e,g){var k=u.parseArgs(d,u.deepCreate(c,e),t("native-formdata")&&e&&e.data&&e.data instanceof FormData),d=k.url,e=k.options,C,G=u.deferred(k,f,o,s,m,function(){C&&C()}),z=k.xhr=p._create();if(!z)return G.cancel(new b("XHR was not created")),g?G:G.promise;k.getHeader=function(a){return this.xhr.getResponseHeader(a)};a&&(C=a(z,G,k));var x=e.data,P=!e.sync,N=e.method;try{z.open(N,d,P,e.user||i,e.password||i);if(e.withCredentials)z.withCredentials=e.withCredentials;var B=e.headers,H;if(B)for(var S in B)"content-type"===S.toLowerCase()?H=B[S]:B[S]&&z.setRequestHeader(S,B[S]);H&&!1!==H&&z.setRequestHeader("Content-Type",H);(!B||!("X-Requested-With"in B))&&z.setRequestHeader("X-Requested-With","XMLHttpRequest");u.notify&&u.notify.emit("send",k,G.promise.cancel);z.send(x)}catch(T){G.reject(T)}r(G);z=null;return g?G:G.promise}t.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});t.add("dojo-force-activex-xhr",function(){return t("activex")&&!document.addEventListener&&"file:"===window.location.protocol});t.add("native-xhr2",function(){if(t("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});t.add("native-formdata",function(){return"function"===typeof FormData});var o,s,a,f;t("native-xhr2")?(o=function(){return!this.isFulfilled()},f=function(a,c){c.xhr.abort()},a=function(a,c,e){function g(){c.handleResponse(e)}function f(a){a=new b("Unable to load "+e.url+" status: "+a.target.status,e);c.handleResponse(e,a)}function i(a){if(a.lengthComputable)e.loaded=a.loaded,e.total=a.total,c.progress(e)}a.addEventListener("load",g,!1);a.addEventListener("error",f,!1);a.addEventListener("progress",i,!1);return function(){a.removeEventListener("load",g,!1);a.removeEventListener("error",f,!1);a.removeEventListener("progress",i,!1)}}):(o=function(a){return a.xhr.readyState},s=function(a){return 4===a.xhr.readyState},f=function(a,c){var e=c.xhr,b=typeof e.abort;("function"===b||"object"===b||"unknown"===b)&&e.abort()});var i,c={data:null,query:null,sync:!1,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}};p._create=function(){throw Error("XMLHTTP not available")};if(t("native-xhr")&&!t("dojo-force-activex-xhr"))p._create=function(){return new XMLHttpRequest};else if(t("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),p._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP"),p._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(g){}}u.addCommonMethods(p);return p})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(b,r,k,u){function t(b){var a=o[b.options.handleAs];b.data=a?a(b):b.data||b.text;return b}u.add("activex","undefined"!==typeof ActiveXObject);var m;if(u("activex")){var p=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];m=function(b){var a=b.data;if(!a||!a.documentElement){var f=b.text;k.some(p,function(b){try{var c=new ActiveXObject(b);c.async=!1;c.loadXML(f);a=c}catch(e){return!1}return!0})}return a}}var o={javascript:function(b){return r.eval(b.text||"")},json:function(m){return b.parse(m.text||null)},xml:m};t.register=function(b,a){o[b]=a};return t})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),function(b,r,k,u,t,m,p,o,s){var a=k.mixin,f={},i=f._Line=function(a,c){this.start=a;this.end=c};i.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var c=f.Animation=function(c){a(this,c);if(k.isArray(this.curve))this.curve=new i(this.curve[0],this.curve[1])};c.prototype=new u;k.extend(c,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,c=this.easing;return c?c(a):a},_fire:function(a,c){var d=c||[];if(this[a])if(r.debugAtAllCosts)this[a].apply(this,d);else try{this[a].apply(this,d)}catch(e){console.error("exception in animation handler for:",a),console.error(e)}return this},play:function(a,c){this._delayTimer&&this._clearTimer();if(c)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var d=a||this.delay,e=k.hitch(this,"_play",c);if(0<d)return this._delayTimer=setTimeout(e,d),this;e();return this},_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,c){this._stopTimer();this._active=this._paused=!0;this._percent=a;c&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;
this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var e=0,g=null,d={run:function(){}};k.extend(c,{_startTimer:function(){if(!this._timer)this._timer=m.connect(d,"run",this,"_cycle"),e++;g||(g=setInterval(k.hitch(d,"run"),this.rate))},_stopTimer:function(){if(this._timer)m.disconnect(this._timer),this._timer=null,e--;0>=e&&(clearInterval(g),g=null,e=0)}});var v=p("ie")?function(a){var c=a.style;if(!c.width.length&&"auto"==s.get(a,"width"))c.width="auto"}:function(){};f._fade=function(c){c.node=o.byId(c.node);var d=a({properties:{}},c),c=d.properties.opacity={};c.start=!("start"in d)?function(){return+s.get(d.node,"opacity")||0}:d.start;c.end=d.end;c=f.animateProperty(d);m.connect(c,"beforeBegin",k.partial(v,d.node));return c};f.fadeIn=function(c){return f._fade(a({end:1},c))};f.fadeOut=function(c){return f._fade(a({end:0},c))};f._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var E=function(a){this._properties=a;for(var c in a){var d=a[c];if(d.start instanceof t)d.tempColor=new t}};E.prototype.getValue=function(a){var c={},d;for(d in this._properties){var e=this._properties[d],b=e.start;b instanceof t?c[d]=t.blendColors(b,e.end,a,e.tempColor).toCss():k.isArray(b)||(c[d]=(e.end-b)*a+b+("opacity"!=d?e.units||"px":0))}return c};f.animateProperty=function(d){var e=d.node=o.byId(d.node);if(!d.easing)d.easing=b._defaultEasing;d=new c(d);m.connect(d,"beforeBegin",d,function(){var c={},d;for(d in this.properties){if("width"==d||"height"==d)this.node.display="block";var b=this.properties[d];k.isFunction(b)&&(b=b(e));b=c[d]=a({},k.isObject(b)?b:{end:b});if(k.isFunction(b.start))b.start=b.start(e);if(k.isFunction(b.end))b.end=b.end(e);var g=0<=d.toLowerCase().indexOf("color"),f=function(a,c){var d={height:a.offsetHeight,width:a.offsetWidth}[c];if(void 0!==d)return d;d=s.get(a,c);return"opacity"==c?+d:g?d:parseFloat(d)};if("end"in b){if(!("start"in b))b.start=f(e,d)}else b.end=f(e,d);g?(b.start=new t(b.start),b.end=new t(b.end)):b.start="opacity"==d?+b.start:parseFloat(b.start)}this.curve=new E(c)});m.connect(d,"onAnimate",k.hitch(s,"set",d.node));return d};f.anim=function(a,d,e,b,g,i){return f.animateProperty({node:a,duration:e||c.prototype.duration,properties:d,easing:b,onEnd:g}).play(i||0)};a(b,f);b._Animation=c;return f})}}});require({cache:{moo:function(){define([],1)},"dojo/fx":function(){define("./_base/lang,./Evented,./_base/kernel,./_base/array,./_base/connect,./_base/fx,./dom,./dom-style,./dom-geometry,./ready,require".split(","),function(b,r,k,u,t,m,p,o,s,a,f){k.isAsync||a(0,function(){f(["./fx/Toggler"])});var k=k.fx={},a={_fire:function(a,c){this[a]&&this[a].apply(this,c||[]);return this}},i=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;u.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};i.prototype=new r;b.extend(i,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){t.disconnect(this._onAnimateCtx);t.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=t.connect(this._current,"onAnimate",this,"_onAnimate"),this._onEndCtx=t.connect(this._current,"onEnd",this,"_onEnd"),this._current.play(0,!0))},play:function(a,c){if(!this._current)this._current=this._animations[this._index=0];if(!c&&"playing"==this._current.status())return this;var d=t.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),b=t.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),f=t.connect(this._current,"onPlay",this,function(a){this._fire("onPlay",arguments);t.disconnect(d);t.disconnect(b);t.disconnect(f)});this._onAnimateCtx&&t.disconnect(this._onAnimateCtx);this._onAnimateCtx=t.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&t.disconnect(this._onEndCtx);this._onEndCtx=t.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=t.connect(this._current,"onPause",this,function(c){this._fire("onPause",arguments);t.disconnect(a)});this._current.pause()}return this},gotoPercent:function(a,c){this.pause();var d=this.duration*a;this._current=null;u.some(this._animations,function(a){if(a.duration<=d)return this._current=a,!0;d-=a.duration;return!1});this._current&&this._current.gotoPercent(d/this._current.duration,c);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var c=t.connect(this._current,"onStop",this,function(a){this._fire("onStop",arguments);t.disconnect(c)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&t.disconnect(this._onAnimateCtx);this._onEndCtx&&t.disconnect(this._onEndCtx)}});b.extend(i,a);k.chain=function(a){return new i(a)};var c=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;u.forEach(a,function(a){var c=a.duration;a.delay&&(c+=a.delay);if(this.duration<c)this.duration=c;this._connects.push(t.connect(a,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new m.Animation({curve:[0,1],duration:this.duration});var c=this;u.forEach("beforeBegin,onBegin,onPlay,onAnimate,onPause,onStop,onEnd".split(","),function(a){c._connects.push(t.connect(c._pseudoAnimation,a,function(){c._fire(a,arguments)}))})};b.extend(c,{_doAction:function(a,c){u.forEach(this._animations,function(d){d[a].apply(d,c)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,c){var d=this._pseudoAnimation;d[a].apply(d,c)},play:function(a,c){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,c){var d=this.duration*a;u.forEach(this._animations,function(a){a.gotoPercent(a.duration<d?1:d/a.duration,c)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){u.forEach(this._connects,t.disconnect)}});b.extend(c,a);k.combine=function(a){return new c(a)};k.wipeIn=function(a){var c=a.node=p.byId(a.node),d=c.style,f,a=m.animateProperty(b.mixin({properties:{height:{start:function(){f=d.overflow;d.overflow="hidden";if("hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",1;var a=o.get(c,"height");return Math.max(a,1)},end:function(){return c.scrollHeight}}}},a)),i=function(){d.height="auto";d.overflow=f};t.connect(a,"onStop",i);t.connect(a,"onEnd",i);return a};k.wipeOut=function(a){var c=(a.node=p.byId(a.node)).style,d,a=m.animateProperty(b.mixin({properties:{height:{end:1}}},a));t.connect(a,"beforeBegin",function(){d=c.overflow;c.overflow="hidden";c.display=""});var f=function(){c.overflow=d;c.height="auto";c.display="none"};t.connect(a,"onStop",f);t.connect(a,"onEnd",f);return a};k.slideTo=function(a){var c=null,d=null,f=function(a){return function(){var b=o.getComputedStyle(a),e=b.position;c="absolute"==e?a.offsetTop:parseInt(b.top)||0;d="absolute"==e?a.offsetLeft:parseInt(b.left)||0;if("absolute"!=e&&"relative"!=e)b=s.position(a,!0),c=b.y,d=b.x,a.style.position="absolute",a.style.top=c+"px",a.style.left=d+"px"}}(a.node=p.byId(a.node));f();a=m.animateProperty(b.mixin({properties:{top:a.top||0,left:a.left||0}},a));t.connect(a,"beforeBegin",a,f);return a};return k})},"gojs/main":function(){require(["dojox/gfx"],function(b){b.createSurface("surfaceElement",400,400).createRect({x:100,y:50,width:200,height:100}).setFill("blue")})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(b,r,k){r.switchTo(k);return r})},"dojox/gfx/_base":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/Color,dojo/_base/sniff,dojo/_base/window,dojo/_base/array,dojo/dom,dojo/dom-construct,dojo/dom-geometry".split(","),function(b,r,k,u,t,m,p,o,s){var a=r.getObject("dojox.gfx",!0),f=a._base={};a._hasClass=function(a,c){var b=a.getAttribute("className");return b&&0<=(" "+b+" ").indexOf(" "+c+" ")};a._addClass=function(a,c){var b=a.getAttribute("className")||"";if(!b||0>(" "+b+" ").indexOf(" "+c+" "))a.setAttribute("className",b+(b?" ":"")+c)};a._removeClass=function(a,c){var b=a.getAttribute("className");b&&a.setAttribute("className",b.replace(RegExp("(^|\\s+)"+c+"(\\s+|$)"),"$1$2"))};f._getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},c;if(u("ie"))t.doc.documentElement.style.fontSize="100%";var b=o.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},t.body());for(c in a)b.style.fontSize=c,a[c]=16*Math.round(12*b.offsetHeight/16)/12/1e3;t.body().removeChild(b);return a};var i=null;f._getCachedFontMeasurements=function(a){if(a||!i)i=f._getFontMeasurements();return i};var c=null,e={};f._getTextBox=function(a,b,g){var f,i,m=arguments.length,k;c||(c=o.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},t.body()));f=c;f.className="";i=f.style;i.borderWidth="0";i.margin="0";i.padding="0";i.outline="0";if(1<m&&b)for(k in b)k in e||(i[k]=b[k]);if(2<m&&g)f.className=g;f.innerHTML=a;return f.getBoundingClientRect?(f=f.getBoundingClientRect(),{l:f.left,t:f.top,w:f.width||f.right-f.left,h:f.height||f.bottom-f.top}):s.getMarginBox(f)};var g=0;f._getUniqueId=function(){var a;do a=b._scopeName+"xUnique"+ ++g;while(p.byId(a));return a};r.mixin(a,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var c={};return function(b){var e=c[b];if(e)return new e;e=c[b]=new Function;e.prototype=a["default"+b];return new e}}(),normalizeColor:function(a){return a instanceof k?a:new k(a)},normalizeParameters:function(a,c){var b;if(c){var e={};for(b in a)b in c&&!(b in e)&&(a[b]=c[b])}return a},makeParameters:function(a,c){var b=null;if(!c)return r.delegate(a);var e={};for(b in a)b in e||(e[b]=r.clone(b in c?c[b]:a[b]));return e},formatNumber:function(a,c){var b=a.toString();if(0<=b.indexOf("e"))b=a.toFixed(4);else{var e=b.indexOf(".");0<=e&&5<b.length-e&&(b=a.toFixed(4))}return 0>a?b:c?" "+b:b},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(c){var b=a.getDefault("Font"),c=c.split(/\s+/);if(!(5>c.length)){b.style=c[0];b.variant=c[1];b.weight=c[2];var e=c[3].indexOf("/");b.size=0>e?c[3]:c[3].substring(0,e);var g=4;0>e&&("/"==c[4]?g=6:"/"==c[4].charAt(0)&&(g=5));if(g<c.length)b.family=c.slice(g).join(" ")}return b},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return a._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(c){return c*a.px_in_pt()},px2pt:function(c){return c/a.px_in_pt()},normalizedLength:function(c){if(0===c.length)return 0;if(2<c.length){var b=a.px_in_pt(),e=parseFloat(c);switch(c.slice(-2)){case"px":return e;case"pt":return e*b;case"in":return 72*e*b;case"pc":return 12*e*b;case"mm":return e*a.mm_in_pt*b;case"cm":return e*a.cm_in_pt*b}}return parseFloat(c)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,c){return a&&c&&a===c},switchTo:function(c){var b="string"==typeof c?a[c]:c;b&&m.forEach("Group,Rect,Ellipse,Circle,Line,Polyline,Image,Text,Path,TextPath,Surface,createSurface,fixTarget".split(","),function(c){a[c]=b[c]})}});return a})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(b,r,k,u,t){var m=null;return{load:function(p,o,s){function a(){o(["dojox/gfx/"+f],function(a){b.renderer=f;m=a;s(a)})}if(m&&"force"!=p)s(m);else{for(var f=t.forceGfxRenderer,p=!f&&(r.isString(t.gfxRenderer)?t.gfxRenderer:"svg,vml,canvas,silverlight").split(","),i,c;!f&&p.length;)switch(p.shift()){case"svg":"SVGAngle"in u.global&&(f="svg");break;case"vml":k("ie")&&(f="vml");break;case"silverlight":try{k("ie")?(i=new ActiveXObject("AgControl.AgControl"))&&i.IsVersionSupported("1.0")&&(c=!0):navigator.plugins["Silverlight Plug-In"]&&(c=!0)}catch(e){c=!1}finally{i=null}c&&(f="silverlight");break;case"canvas":u.global.CanvasRenderingContext2D&&(f="canvas")}"canvas"===f&&!1!==t.canvasEvents&&(f="canvasWithEvents");"svg"==f&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(a):a()}}}})},"dojox/gfx/_gfxBidiSupport":function(){define("./_base,dojo/_base/lang,dojo/_base/sniff,dojo/dom,dojo/_base/html,dojo/_base/array,./utils,./shape,dojox/string/BidiEngine".split(","),function(b,r,k,u,t,m,p,o,s){function a(a,e){var g=f(e);g&&b.utils.forEach(a,function(a){if(a instanceof b.Surface||a instanceof b.Group)a.textDir=g;a instanceof b.Text&&a.setShape({textDir:g});a instanceof b.TextPath&&a.setText({textDir:g})},a);return a}function f(a){var b=["ltr","rtl","auto"];return a&&(a=a.toLowerCase(),0>m.indexOf(b,a))?null:a}r.getObject("dojox.gfx._gfxBidiSupport",!0);switch(b.renderer){case"vml":b.isVml=!0;break;case"svg":b.isSvg=!0;if(b.svg.useSvgWeb)b.isSvgWeb=!0;break;case"silverlight":b.isSilverlight=!0;break;case"canvas":b.isCanvas=!0}var i=new s;r.extend(b.shape.Surface,{textDir:"",setTextDir:function(c){a(this,c)},getTextDir:function(){return this.textDir}});r.extend(b.Group,{textDir:"",setTextDir:function(c){a(this,c)},getTextDir:function(){return this.textDir}});r.extend(b.Text,{textDir:"",formatText:function(a,e){if(e&&a&&1<a.length){var g="ltr",d=e;if("auto"==d){if(b.isVml)return a;d=i.checkContextual(a)}if(b.isVml)return g=i.checkContextual(a),d!=g?"rtl"==d?!i.hasBidiChar(a)?i.bidiTransform(a,"IRNNN","ILNNN"):""+a:""+a:a;if(b.isSvgWeb)return"rtl"==d?i.bidiTransform(a,"IRNNN","ILNNN"):a;if(b.isSilverlight)return"rtl"==d?i.bidiTransform(a,"IRNNN","VLYNN"):i.bidiTransform(a,"ILNNN","VLYNN");if(b.isCanvas)return"rtl"==d?""+a+"":""+a+"";if(b.isSvg)return 4>k("ff")?"rtl"==d?i.bidiTransform(a,"IRYNN","VLNNN"):i.bidiTransform(a,"ILYNN","VLNNN"):""+("rtl"==d?"":"")+a+""}return a},bidiPreprocess:function(a){return a}});r.extend(b.TextPath,{textDir:"",formatText:function(a,e){if(e&&a&&1<a.length){var g="ltr",d=e;if("auto"==d){if(b.isVml)return a;d=i.checkContextual(a)}if(b.isVml)return g=i.checkContextual(a),d!=g?"rtl"==d?!i.hasBidiChar(a)?i.bidiTransform(a,"IRNNN","ILNNN"):""+a:""+a:a;if(b.isSvgWeb)return"rtl"==d?i.bidiTransform(a,"IRNNN","ILNNN"):a;b.isSvg&&(a=k("opera")||4<=k("ff")?""+("rtl"==d?"":"")+a+"":"rtl"==d?i.bidiTransform(a,"IRYNN","VLNNN"):i.bidiTransform(a,"ILYNN","VLNNN"))}return a},bidiPreprocess:function(a){if(a&&"string"==typeof a)this.origText=a,a=this.formatText(a,this.textDir);return a}});p=function(a,b,g,d){var f=a.prototype[b];a.prototype[b]=function(){var a;g&&(a=g.apply(this,arguments));a=f.call(this,a);d&&(a=d.call(this,a,arguments));return a}};o=function(a){if(a){if(a.textDir)a.textDir=f(a.textDir);if(a.text&&a.text instanceof Array)a.text=a.text.join(",")}if(a&&(void 0!=a.text||a.textDir)&&(this.textDir!=a.textDir||a.text!=this.origText)){this.origText=void 0!=a.text?a.text:this.origText;if(a.textDir)this.textDir=a.textDir;a.text=this.formatText(this.origText,this.textDir)}return this.bidiPreprocess(a)};p(b.Text,"setShape",o,null);p(b.TextPath,"setText",o,null);o=function(a){if((a=r.clone(a))&&this.origText)a.text=this.origText;return a};p(b.Text,"getShape",null,o);p(b.TextPath,"getText",null,o);o=function(a,b){var g;b&&b[0]&&(g=f(b[0]));a.setTextDir(g?g:this.textDir);return a};p(b.Surface,"createGroup",null,o);p(b.Group,"createGroup",null,o);o=function(a){if(a){var b=a.textDir?f(a.textDir):this.textDir;if(b)a.textDir=b}return a};p(b.Surface,"createText",o,null);p(b.Surface,"createTextPath",o,null);p(b.Group,"createText",o,null);p(b.Group,"createTextPath",o,null);b.createSurface=function(a,e,g,d){e=b[b.renderer].createSurface(a,e,g);d=f(d);if(b.isSvgWeb)return e.textDir=d?d:t.style(u.byId(a),"direction"),e;if(b.isVml||b.isSvg||b.isCanvas)e.textDir=d?d:t.style(e.rawNode,"direction");if(b.isSilverlight)e.textDir=d?d:t.style(e._nodes[1],"direction");return e};return b})},"dojox/gfx/utils":function(){define("dojo/_base/kernel,dojo/_base/lang,./_base,dojo/_base/html,dojo/_base/array,dojo/_base/window,dojo/_base/json,dojo/_base/Deferred,dojo/_base/sniff,require,dojo/_base/config".split(","),function(b,r,k,u,t,m,p,o,s,a,f){var i=k.utils={};r.mixin(i,{forEach:function(a,e,g){g=g||b.global;e.call(g,a);(a instanceof k.Surface||a instanceof k.Group)&&t.forEach(a.children,function(a){i.forEach(a,e,g)})},serialize:function(a){var b={},g;if((g=a instanceof k.Surface)||a instanceof k.Group){if(b.children=t.map(a.children,i.serialize),g)return b.children}else b.shape=a.getShape();if(a.getTransform&&(g=a.getTransform()))b.transform=g;if(a.getStroke&&(g=a.getStroke()))b.stroke=g;if(a.getFill&&(g=a.getFill()))b.fill=g;if(a.getFont&&(g=a.getFont()))b.font=g;return b},toJson:function(a,b){return p.toJson(i.serialize(a),b)},deserialize:function(a,b){if(b instanceof Array)return t.map(b,r.hitch(null,i.deserialize,a));var g="shape"in b?a.createShape(b.shape):a.createGroup();"transform"in b&&g.setTransform(b.transform);"stroke"in b&&g.setStroke(b.stroke);"fill"in b&&g.setFill(b.fill);"font"in b&&g.setFont(b.font);"children"in b&&t.forEach(b.children,r.hitch(null,i.deserialize,g));return g},fromJson:function(a,b){return i.deserialize(a,p.fromJson(b))},toSvg:function(a){var b=new o;if("svg"===k.renderer)try{var g=i._cleanSvg(i._innerXML(a.rawNode));b.callback(g)}catch(d){b.errback(d)}else{i._initSvgSerializerDeferred||i._initSvgSerializer();var f=i.toJson(a),g=function(){try{var d=a.getDimensions(),g=d.width,k=d.height,o=i._gfxSvgProxy.document.createElement("div");i._gfxSvgProxy.document.body.appendChild(o);m.withDoc(i._gfxSvgProxy.document,function(){u.style(o,"width",g);u.style(o,"height",k)},this);i._gfxSvgProxy[dojox._scopeName].gfx.createSurface(o,g,k).whenLoaded(null,function(a){try{i._gfxSvgProxy[dojox._scopeName].gfx.utils.fromJson(a,f);var c=i._cleanSvg(o.innerHTML);a.clear();a.destroy();i._gfxSvgProxy.document.body.removeChild(o);b.callback(c)}catch(d){b.errback(d)}})}catch(p){b.errback(p)}};0<i._initSvgSerializerDeferred.fired?g():i._initSvgSerializerDeferred.addCallback(g)}return b},_gfxSvgProxy:null,_initSvgSerializerDeferred:null,_svgSerializerInitialized:function(){i._initSvgSerializerDeferred.callback(!0)},_initSvgSerializer:function(){if(!i._initSvgSerializerDeferred){i._initSvgSerializerDeferred=new o;var c=m.doc.createElement("iframe");u.style(c,{display:"none",position:"absolute",width:"1em",height:"1em",top:"-10000px"});var e;s("ie")?c.onreadystatechange=function(){if("complete"==c.contentWindow.document.readyState)c.onreadystatechange=function(){},e=setInterval(function(){if(c.contentWindow[b.scopeMap.dojo[1]._scopeName]&&c.contentWindow[b.scopeMap.dojox[1]._scopeName].gfx&&c.contentWindow[b.scopeMap.dojox[1]._scopeName].gfx.utils)clearInterval(e),c.contentWindow.parent[b.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=c.contentWindow,c.contentWindow.parent[b.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized()},50)}:c.onload=function(){c.onload=function(){};e=setInterval(function(){if(c.contentWindow[b.scopeMap.dojo[1]._scopeName]&&c.contentWindow[b.scopeMap.dojox[1]._scopeName].gfx&&c.contentWindow[b.scopeMap.dojox[1]._scopeName].gfx.utils)clearInterval(e),c.contentWindow.parent[b.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=c.contentWindow,c.contentWindow.parent[b.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized()},50)};var g=f.dojoxGfxSvgProxyFrameUrl||a.toUrl("dojox/gfx/resources/gfxSvgProxyFrame.html");c.setAttribute("src",g.toString());m.body().appendChild(c)}},_innerXML:function(a){return a.innerXML?a.innerXML:a.xml?a.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(a):null},_cleanSvg:function(a){a&&(-1==a.indexOf('xmlns="http://www.w3.org/2000/svg"')&&(a=a.substring(4,a.length),a='<svg xmlns="http://www.w3.org/2000/svg"'+a),-1==a.indexOf('xmlns:xlink="http://www.w3.org/1999/xlink"')&&(a=a.substring(4,a.length),a='<svg xmlns:xlink="http://www.w3.org/1999/xlink"'+a),-1===a.indexOf("xlink:href")&&(a=a.replace(/href\s*=/g,"xlink:href=")),a=a.replace(/<img\b([^>]*)>/gi,"<image $1 />"),a=a.replace(/\bdojoGfx\w*\s*=\s*(['"])\w*\1/g,""),a=a.replace(/\b__gfxObject__\s*=\s*(['"])\w*\1/g,""),a=a.replace(/[=]([^"']+?)(\s|>)/g,'="$1"$2'));return a}});return i})},"dojox/gfx/shape":function(){define("./_base,dojo/_base/lang,dojo/_base/declare,dojo/_base/kernel,dojo/_base/sniff,dojo/_base/connect,dojo/_base/array,dojo/dom-construct,dojo/_base/Color,./matrix".split(","),function(b,r,k,u,t,m,p,o,s,a){var f=b.shape={},i={},c={};f.register=function(a){var b=a.declaredClass.split(".").pop(),d=b in i?++i[b]:i[b]=0,b=b+d;c[b]=a;return b};f.byId=function(a){return c[a]};f.dispose=function(a,b){if(b&&a.children)for(var d=0;d<a.children.length;++d)f.dispose(a.children[d],!0);delete c[a.getUID()]};f.Shape=k("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;var a=f.register(this);this.getUID=function(){return a}},destroy:function(){f.dispose(this)},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var c=this.getBoundingBox();if(!c)return null;var b=this._getRealMatrix();return[a.multiplyPoint(b,c.x,c.y),a.multiplyPoint(b,c.x+c.width,c.y),a.multiplyPoint(b,c.x+c.width,c.y+c.height),a.multiplyPoint(b,c.x,c.y+c.height)]},getEventSource:function(){return this.rawNode},setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=b.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;var c=null;if("object"==typeof a&&"type"in a)switch(a.type){case"linear":c=b.makeParameters(b.defaultLinearGradient,a);break;case"radial":c=b.makeParameters(b.defaultRadialGradient,a);break;case"pattern":c=b.makeParameters(b.defaultPattern,a)}else c=b.normalizeColor(a);this.fillStyle=c;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this;if("string"==typeof a||r.isArray(a)||a instanceof s)a={color:a};a=this.strokeStyle=b.makeParameters(b.defaultStroke,a);a.color=b.normalizeColor(a.color);return this},setTransform:function(c){this.matrix=a.clone(c?a.normalize(c):a.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,c){this.parent=a;return this._updateParentMatrix(c)},_updateParentMatrix:function(c){this.parentMatrix=c?a.clone(c):null;return this._applyTransform()},_getRealMatrix:function(){for(var c=this.matrix,b=this.parent;b;)b.matrix&&(c=a.multiply(b.matrix,c)),b=b.parent;return c}});f._eventsProcessing={connect:function(a,c,d){return m.connect(this.getEventSource(),a,f.fixCallback(this,b.fixTarget,c,d))},disconnect:function(a){m.disconnect(a)}};f.fixCallback=function(a,c,b,f){f||(f=b,b=null);if(r.isString(f)){b=b||u.global;if(!b[f])throw['dojox.gfx.shape.fixCallback: scope["',f,'"] is null (scope="',b,'")'].join("");return function(i){return c(i,a)?b[f].apply(b,arguments||[]):void 0}}return!b?function(i){return c(i,a)?f.apply(b,arguments):void 0}:function(i){return c(i,a)?f.apply(b,arguments||[]):void 0}};r.extend(f.Shape,f._eventsProcessing);f.Container={_init:function(){this.children=[]},openBatch:function(){},closeBatch:function(){},add:function(a){var c=a.getParent();c&&c.remove(a,!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,c){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){if(!c)a.parent=null,a.parentMatrix=null;this.children.splice(b,1);break}return this},clear:function(a){for(var c,b=0;b<this.children.length;++b)c=this.children[b],c.parent=null,c.parentMatrix=null,a&&c.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var c=null;p.forEach(this.children,function(b){var d=b.getBoundingBox();if(d)(b=b.getTransform())&&(d=a.multiplyRectangle(b,d)),c?(c.x=Math.min(c.x,d.x),c.y=Math.min(c.y,d.y),c.endX=Math.max(c.endX,d.x+d.width),c.endY=Math.max(c.endY,d.y+d.height)):c={x:d.x,y:d.y,endX:d.x+d.width,endY:d.y+d.height}});if(c)c.width=c.endX-c.x,c.height=c.endY-c.y;return c}return null},_moveChildToFront:function(a){for(var c=0;c<this.children.length;++c)if(this.children[c]==a){this.children.splice(c,1);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var c=0;c<this.children.length;++c)if(this.children[c]==a){this.children.splice(c,1);this.children.unshift(a);break}return this}};f.Surface=k("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){p.forEach(this._nodes,o.destroy);this._nodes=[];p.forEach(this._events,m.disconnect);this._events=[];this.rawNode=null;if(t("ie"))for(;this._parent.lastChild;)o.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(){},whenLoaded:function(a,c){var b=r.hitch(a,c);if(this.isLoaded)b(this);else var f=m.connect(this,"onLoad",function(a){m.disconnect(f);b(a)})}});r.extend(f.Surface,f._eventsProcessing);f.Rect=k("dojox.gfx.shape.Rect",f.Shape,{constructor:function(a){this.shape=b.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});f.Ellipse=k("dojox.gfx.shape.Ellipse",f.Shape,{constructor:function(a){this.shape=b.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});f.Circle=k("dojox.gfx.shape.Circle",f.Shape,{constructor:function(a){this.shape=b.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});f.Line=k("dojox.gfx.shape.Line",f.Shape,{constructor:function(a){this.shape=b.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});f.Polyline=k("dojox.gfx.shape.Polyline",f.Shape,{constructor:function(a){this.shape=b.getDefault("Polyline");this.rawNode=a},setShape:function(a,c){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);return this},_normalizePoints:function(){var a=this.shape.points,c=a&&a.length;if(c&&"number"==typeof a[0]){for(var b=[],f=0;f<c;f+=2)b.push({x:a[f],y:a[f+1]});this.shape.points=b}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,c=a.length,b=a[0],f=b.x,i=b.y,k=b.x,m=b.y,o=1;o<c;++o){b=a[o];if(f>b.x)f=b.x;if(k<b.x)k=b.x;if(i>b.y)i=b.y;if(m<b.y)m=b.y}this.bbox={x:f,y:i,width:k-f,height:m-i}}return this.bbox}});f.Image=k("dojox.gfx.shape.Image",f.Shape,{constructor:function(a){this.shape=b.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});f.Text=k(f.Shape,{constructor:function(a){this.fontStyle=null;this.shape=b.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?b.splitFontString(a):b.makeParameters(b.defaultFont,a);this._setFont();return this}});f.Creator={createShape:function(a){switch(a.type){case b.defaultPath.type:return this.createPath(a);case b.defaultRect.type:return this.createRect(a);case b.defaultCircle.type:return this.createCircle(a);case b.defaultEllipse.type:return this.createEllipse(a);case b.defaultLine.type:return this.createLine(a);case b.defaultPolyline.type:return this.createPolyline(a);case b.defaultImage.type:return this.createImage(a);case b.defaultText.type:return this.createText(a);case b.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(b.Group)},createRect:function(a){return this.createObject(b.Rect,a)},createEllipse:function(a){return this.createObject(b.Ellipse,a)},createCircle:function(a){return this.createObject(b.Circle,a)},createLine:function(a){return this.createObject(b.Line,a)},createPolyline:function(a){return this.createObject(b.Polyline,a)},createImage:function(a){return this.createObject(b.Image,a)},createText:function(a){return this.createObject(b.Text,a)},createPath:function(a){return this.createObject(b.Path,a)},createTextPath:function(a){return this.createObject(b.TextPath,{}).setText(a)},createObject:function(){return null}};return f})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(b,r){var k=b.matrix={},u={};k._degToRad=function(b){return u[b]||(u[b]=Math.PI*b/180)};k._radToDeg=function(b){return 180*(b/Math.PI)};k.Matrix2D=function(b){if(b)if("number"==typeof b)this.xx=this.yy=b;else if(b instanceof Array){if(0<b.length){for(var m=k.normalize(b[0]),p=1;p<b.length;++p){var o=m,s=k.normalize(b[p]),m=new k.Matrix2D;m.xx=o.xx*s.xx+o.xy*s.yx;m.xy=o.xx*s.xy+o.xy*s.yy;m.yx=o.yx*s.xx+o.yy*s.yx;m.yy=o.yx*s.xy+o.yy*s.yy;m.dx=o.xx*s.dx+o.xy*s.dy+o.dx;m.dy=o.yx*s.dx+o.yy*s.dy+o.dy}r.mixin(this,m)}}else r.mixin(this,b)};r.extend(k.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});r.mixin(k,{identity:new k.Matrix2D,flipX:new k.Matrix2D({xx:-1}),flipY:new k.Matrix2D({yy:-1}),flipXY:new k.Matrix2D({xx:-1,yy:-1}),translate:function(b,m){return 1<arguments.length?new k.Matrix2D({dx:b,dy:m}):new k.Matrix2D({dx:b.x,dy:b.y})
},scale:function(b,m){return 1<arguments.length?new k.Matrix2D({xx:b,yy:m}):"number"==typeof b?new k.Matrix2D({xx:b,yy:b}):new k.Matrix2D({xx:b.x,yy:b.y})},rotate:function(b){var m=Math.cos(b),b=Math.sin(b);return new k.Matrix2D({xx:m,xy:-b,yx:b,yy:m})},rotateg:function(b){return k.rotate(k._degToRad(b))},skewX:function(b){return new k.Matrix2D({xy:Math.tan(b)})},skewXg:function(b){return k.skewX(k._degToRad(b))},skewY:function(b){return new k.Matrix2D({yx:Math.tan(b)})},skewYg:function(b){return k.skewY(k._degToRad(b))},reflect:function(b,m){if(1==arguments.length)m=b.y,b=b.x;var p=b*b,o=m*m,s=p+o,a=2*b*m/s;return new k.Matrix2D({xx:2*p/s-1,xy:a,yx:a,yy:2*o/s-1})},project:function(b,m){if(1==arguments.length)m=b.y,b=b.x;var p=b*b,o=m*m,s=p+o,a=b*m/s;return new k.Matrix2D({xx:p/s,xy:a,yx:a,yy:o/s})},normalize:function(b){return b instanceof k.Matrix2D?b:new k.Matrix2D(b)},isIdentity:function(b){return 1==b.xx&&0==b.xy&&0==b.yx&&1==b.yy&&0==b.dx&&0==b.dy},clone:function(b){var m=new k.Matrix2D,p;for(p in b)"number"==typeof b[p]&&"number"==typeof m[p]&&m[p]!=b[p]&&(m[p]=b[p]);return m},invert:function(b){var b=k.normalize(b),m=b.xx*b.yy-b.xy*b.yx;return b=new k.Matrix2D({xx:b.yy/m,xy:-b.xy/m,yx:-b.yx/m,yy:b.xx/m,dx:(b.xy*b.dy-b.yy*b.dx)/m,dy:(b.yx*b.dx-b.xx*b.dy)/m})},_multiplyPoint:function(b,k,p){return{x:b.xx*k+b.xy*p+b.dx,y:b.yx*k+b.yy*p+b.dy}},multiplyPoint:function(b,m,p){b=k.normalize(b);return"number"==typeof m&&"number"==typeof p?k._multiplyPoint(b,m,p):k._multiplyPoint(b,m.x,m.y)},multiplyRectangle:function(b,m){var p=k.normalize(b),m=m||{x:0,y:0,width:0,height:0};if(k.isIdentity(p))return{x:m.x,y:m.y,width:m.width,height:m.height};var o=k.multiplyPoint(p,m.x,m.y),s=k.multiplyPoint(p,m.x,m.y+m.height),a=k.multiplyPoint(p,m.x+m.width,m.y),f=k.multiplyPoint(p,m.x+m.width,m.y+m.height),p=Math.min(o.x,s.x,a.x,f.x),i=Math.min(o.y,s.y,a.y,f.y),c=Math.max(o.x,s.x,a.x,f.x),o=Math.max(o.y,s.y,a.y,f.y);return{x:p,y:i,width:c-p,height:o-i}},multiply:function(b){for(var m=k.normalize(b),p=1;p<arguments.length;++p){var o=m,s=k.normalize(arguments[p]),m=new k.Matrix2D;m.xx=o.xx*s.xx+o.xy*s.yx;m.xy=o.xx*s.xy+o.xy*s.yy;m.yx=o.yx*s.xx+o.yy*s.yx;m.yy=o.yx*s.xy+o.yy*s.yy;m.dx=o.xx*s.dx+o.xy*s.dy+o.dx;m.dy=o.yx*s.dx+o.yy*s.dy+o.dy}return m},_sandwich:function(b,m,p){return k.multiply(k.translate(m,p),b,k.translate(-m,-p))},scaleAt:function(b,m,p,o){switch(arguments.length){case 4:return k._sandwich(k.scale(b,m),p,o);case 3:return"number"==typeof p?k._sandwich(k.scale(b),m,p):k._sandwich(k.scale(b,m),p.x,p.y)}return k._sandwich(k.scale(b),m.x,m.y)},rotateAt:function(b,m,p){return 2<arguments.length?k._sandwich(k.rotate(b),m,p):k._sandwich(k.rotate(b),m.x,m.y)},rotategAt:function(b,m,p){return 2<arguments.length?k._sandwich(k.rotateg(b),m,p):k._sandwich(k.rotateg(b),m.x,m.y)},skewXAt:function(b,m,p){return 2<arguments.length?k._sandwich(k.skewX(b),m,p):k._sandwich(k.skewX(b),m.x,m.y)},skewXgAt:function(b,m,p){return 2<arguments.length?k._sandwich(k.skewXg(b),m,p):k._sandwich(k.skewXg(b),m.x,m.y)},skewYAt:function(b,m,p){return 2<arguments.length?k._sandwich(k.skewY(b),m,p):k._sandwich(k.skewY(b),m.x,m.y)},skewYgAt:function(b,m,p){return 2<arguments.length?k._sandwich(k.skewYg(b),m,p):k._sandwich(k.skewYg(b),m.x,m.y)}});b.Matrix2D=k.Matrix2D;return k})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(b,r){var k,u,t,m,p,o,s,a,f,i;function c(a,b,f,i){void 0==b&&(b=k);void 0==f&&(f=u);void 0==i&&(i=t);if(b==f)return a;var x,l=b.substring(0,1),B=b.substring(1,4),n=f.substring(0,1),z=f.substring(1,4);"C"==B.charAt(0)&&(x=e(a),B="ltr"==x||"rtl"==x?x.toUpperCase():"L"==b.charAt(2)?"LTR":"RTL",b=l+B);if("C"==z.charAt(0)){x=e(a);if("rtl"==x)z="RTL";else if("ltr"==x){a:{f=a;x=null;for(z=f.length-1;0<=z;z--){x=d(f.charAt(z));if(x==da||x==qa){x="rtl";break a}if(x==ba){x="ltr";break a}if(x==pa)break}x=""}z=x.toUpperCase()}else z="L"==f.charAt(2)?"LTR":"RTL";f=n+z}if(b==f)return a;m=b;p=i;if("L"==l&&"VLTR"==f){if("LTR"==B)return o=S,g(a);if("RTL"==B)return o=T,g(a)}if("V"==l&&"V"==n)return v(a);if("L"==l&&"VRTL"==f)return o="LTR"==B?S:T,a=g(a),v(a);if("VLTR"==b&&"LLTR"==f)return o=S,g(a);if("V"==l&&"L"==n&&B!=z)return a=v(a),"RTL"==B?c(a,"LLTR","VLTR",i):c(a,"LRTL","VRTL",i);if("VRTL"==b&&"LRTL"==f)return c(a,"LRTL","VRTL",i);if("L"==l&&"L"==n)return b=p,p=b.substr(0,1)+"N","RTL"==B?(o=T,a=g(a),p="N"+b.substr(1,2),o=S,a=g(a)):(o=S,a=g(a),p="N"+b.substr(1,2),a=c(a,"VLTR","LRTL",p)),a}function e(a){for(var c=null,b=c=null,d=0;d<a.length;d++){c=a.charAt(d).charCodeAt(0);b=xa[c>>8];c=b<aa?b:Ja[b-aa][c&255];if(c==da||c==qa)return"rtl";if(c==ba)return"ltr";if(c==pa)break}return""}function g(c){var c=c.split(""),b=[],e=c.length,g=o?W:V,x=null,k=null,x=null,k=0,l=null,l=null,m=-1,n=l=null,z=[],N=[];s=o;i=f=a=!1;for(l=0;l<e;l++)z[l]=d(c[l]);for(n=0;n<e;n++){x=k;N[n]=k=G(c,z,N,n);k=g[x][k];l=k&240;k&=15;b[n]=x=g[k][B];if(0<l){if(16==l)for(l=m;l<n;l++)b[l]=1;m=-1}if(l=g[k][H])-1==m&&(m=n);else if(-1<m){for(l=m;l<n;l++)b[l]=x;m=-1}z[n]==pa&&(b[n]=0);s|=x}if(i)for(l=0;l<e;l++)if(z[l]==oa){b[l]=o;for(g=l-1;0<=g;g--)if(z[g]==ka)b[g]=o;else break}if(!(0==s||p.substr(0,1)==p.substr(1,2)))for(e=0;e<c.length;e++)if(1==b[e]){z=c;g=e;b:{m=c[e];n=void 0;N=0;for(x=$.length-1;N<=x;)if(n=Math.floor((N+x)/2),m<$[n][0])x=n-1;else if(m>$[n][0])N=n+1;else{m=$[n][1];break b}}z[g]=m}C(2,c,b);C(1,c,b);return c.join("")}function d(a){var a=a.charCodeAt(0),c=xa[a>>8];return c<aa?c:Ja[c-aa][a&255]}function v(a){a=a.split("");a.reverse();return a.join("")}function E(a){for(var c=0;c<Z.length;c++)if(a>=Z[c]&&a<=ma[c])return!0;return!1}function J(a,c,b,d){for(;c*b<d&&x(a[c]);)c+=b;return c*b<d&&E(a[c])?!0:!1}function C(a,c,b){if(!(s<a))if(1==a&&o==T&&!f)c.reverse();else for(var d=c.length,e=0,g,i,x;e<d;){if(b[e]>=a){for(g=e+1;g<d&&b[g]>=a;)g++;for(i=g-1;e<i;e++,i--)x=c[e],c[e]=c[i],c[i]=x;e=g}e++}}function G(c,b,d,e){var g=b[e],x,l;switch(g){case ba:case da:a=!1;case la:case ja:return g;case ea:return a?ja:ea;case qa:return a=!0,da;case ka:return la;case Ka:if(1>e||e+1>=b.length||(x=d[e-1])!=ea&&x!=ja||(l=b[e+1])!=ea&&l!=ja)return la;a&&(l=ja);return l==x?l:la;case ua:return x=0<e?d[e-1]:pa,x==ea&&e+1<b.length&&b[e+1]==ea?ea:la;case Da:if(0<e&&d[e-1]==ea)return ea;if(a)return la;x=e+1;for(g=b.length;x<g&&b[x]==Da;)x++;return x<g&&b[x]==ea?ea:la;case va:if("VLTR"==m){g=b.length;for(x=e+1;x<g&&b[x]==va;)x++;if(x<g&&(c=c[e],x=b[x],(1425<=c&&2303>=c||64286==c)&&(x==da||x==qa)))return da}return 1>e||b[e-1]==pa?la:d[e-1];case pa:return lastArabic=!1,f=!0,o;case oa:return i=!0,la;case Ea:case ta:case sa:case Ga:case Fa:lastArabic=!1;case Ha:return la}}function z(a,c){for(var b=0;b<F.length;b++)if(a==F[b])return c[b];return a}function x(a){return""<=a&&"">=a?!0:!1}function P(a){if("L"==a)return"LTR";if("R"==a)return"RTL";if("C"==a)return"CLR";if("D"==a)return"CRL"}function N(a,c){for(var b=0;b<M.length;b++)if(a==M[b])return c[b];return a}b.getObject("string",!0,dojox);r("dojox.string.BidiEngine",null,{bidiTransform:function(a,b,d){if(!a)return"";if(!b&&!d)return a;var f=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/;if(!f.test(b)||!f.test(d))throw Error("dojox.string.BidiEngine: the bidi layout string is wrong!");if(b==d)return a;var f=P(b.charAt(1)),e=P(d.charAt(1)),g="I"==b.charAt(0)?"L":b.charAt(0),i="I"==d.charAt(0)?"L":d.charAt(0),l=g+f,m=i+e,B=b.charAt(2)+d.charAt(2);l&&(k=l);m&&(u=m);B&&(t=B);f=c(a,g+f,i+e,b.charAt(2)+d.charAt(2));a=!1;if("R"==d.charAt(1))a=!0;else if("C"==d.charAt(1)||"D"==d.charAt(1))a=this.checkContextual(f);if(b.charAt(3)==d.charAt(3))return f;if("S"==d.charAt(3)){d=f;b=!0;if(0==d.length)b=void 0;else{void 0==a&&(a=!0);void 0==b&&(b=!0);d=new String(d);d=d.split("");i=0;f=1;e=d.length;a||(i=d.length-1,f=-1,e=1);l=0;a=[];for(g=0;i*f<e;i+=f)if(E(d[i])||x(d[i])){if(m=""==d[i])b:{for(var B=d,n=i+f,o=f,p=e;n*o<p&&x(B[n]);)n+=o;m=" ";if(n*o<p){m=B[n];for(B=0;B<M.length;B++)if(M[B]==m){m=!0;break b}}m=!1}if(m){d[i]=0==l?N(d[i+f],U):N(d[i+f],Q);i+=f;l=d;m=i;B=f;for(n=e;m*B<n&&x(l[m]);)m+=B;m*B<n&&(l[m]=" ");b&&(a[g]=i,g++);l=0}else{m=d[i];B=d;n=i;if(1==l)if(J(d,i+f,f,e))b:{o=d[i];for(p=0;p<F.length;p++)if(o==F[p]){o=X[p];break b}}else o=z(d[i],O);else o=!0==J(d,i+f,f,e)?z(d[i],R):z(d[i],L);B[n]=o;x(m)||(l=1);b:{for(B=0;B<Y.length;B++)if(Y[B]==m){m=!0;break b}m=!1}!0==m&&(l=0)}}else l=0;f="";for(idx=0;idx<d.length;idx++){if(e=b){b:{for(e=0;e<a.length;e++)if(a[e]==idx)break b;e=-1}e=-1<e}e||(f+=d[idx])}b=f}return b}if("N"==d.charAt(3)){b=a;g=!0;if(0==f.length)b=void 0;else{void 0==g&&(g=!0);void 0==b&&(b=!0);f=new String(f);d="";e=[];a="";if(g)for(e=0;e<f.length;e++){if(" "==f.charAt(e))if(b){if(0<e&&""<=f.charAt(e-1)&&"">=f.charAt(e-1))continue}else if(e+1<f.length&&""<=f.charAt(e+1)&&"">=f.charAt(e+1))continue;a+=f.charAt(e)}else a=new String(f);e=a.split("");for(f=0;f<a.length;f++)""<=e[f]&&"">e[f]?(g=a.charCodeAt(f),""<=e[f]&&"">=e[f]?b?(d+="",d+=M[parseInt((g-65269)/2)]):(d+=M[parseInt((g-65269)/2)],d+=""):d+=ca[g-65136]):d+=e[f];b=d}return b}},checkContextual:function(a){a=e(a);"ltr"!=a&&"rtl"!=a&&(a=document.dir.toLowerCase(),"ltr"!=a&&"rtl"!=a&&(a="ltr"));return a},hasBidiChar:function(a){for(var c=null,b=c=null,d=0;d<a.length;d++){c=a.charAt(d).charCodeAt(0);b=xa[c>>8];c=b<aa?b:Ja[b-aa][c&255];if(c==da||c==qa)return!0;if(c==pa)break}return!1}});o=0;k="LLTR";t="YN";m="LLTR";p="YN";s=0;a=!1;u=void 0;f=void 0;i=void 0;var B=5,H=6,S=0,T=1,$=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],M=["","","",""],U=["","","",""],Q=["","","",""],F=",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,".split(","),L=",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,".split(","),O=",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,".split(","),X=",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,".split(","),R=",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,".split(","),Y=",,,,,,,,,,,,,".split(","),ca=",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,".split(","),Z=["",""],ma=["",""],V=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],W=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ba=0,da=1,ea=2,ja=3,la=4,pa=5,oa=6,qa=7,ka=8,Ka=9,ua=10,Da=11,va=12,Ea=13,ta=14,Fa=15,sa=16,Ga=17,Ha=18,aa=100,ya=aa+0,Ba=aa+1,Ia=aa+2,Ma=aa+3,Na=aa+4,Oa=aa+5,wa=aa+6,za=aa+7,q=ba,A=da,K=ea,fa=ja,l=la,na=pa,ra=oa,n=qa,ga=ka,ha=Ka,ia=ua,I=Da,y=va,Pa=Ea,Ca=ta,Aa=Fa,Qa=sa,La=Ga,D=Ha,xa=[ya,q,q,q,q,Ba,Ia,Ma,A,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,Na,l,l,l,q,l,q,l,q,l,l,l,q,q,l,l,q,q,q,q,q,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,l,l,q,q,l,l,q,q,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,q,q,q,Oa,n,n,wa,za];delete ya;delete Ba;delete Ia;delete Ma;delete Na;delete Oa;delete wa;delete za;var Ja=[[D,D,D,D,D,D,D,D,D,ra,na,ra,ga,na,D,D,D,D,D,D,D,D,D,D,D,D,D,D,na,na,na,ra,ga,l,l,I,I,I,l,l,l,l,l,ia,ha,ia,ha,ha,K,K,K,K,K,K,K,K,K,K,ha,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,l,D,D,D,D,D,D,na,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,ha,l,I,I,I,I,l,l,l,l,q,l,l,D,l,l,I,I,K,K,l,q,l,l,l,K,q,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,q,q,q,q,q,q,q,q],[q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,q,q,q,q,q,q,q,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,q,l,l,l,l,l,l,l,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,A,y,A,y,y,A,y,y,A,y,l,l,l,l,l,l,l,l,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,l,l,l,l,l,A,A,A,A,A,l,l,l,l,l,l,l,l,l,l,l],[fa,fa,fa,fa,l,l,l,l,n,I,I,n,ha,n,l,l,y,y,y,y,y,y,y,y,y,y,y,n,l,l,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,fa,fa,fa,fa,fa,fa,fa,fa,fa,fa,I,fa,fa,n,n,n,y,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,y,y,y,y,y,y,y,fa,l,y,y,y,y,y,y,n,n,y,y,l,y,y,y,y,n,n,K,K,K,K,K,K,K,K,K,K,n,n,n,n,n,n],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,l,n,n,y,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,l,l,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,y,y,y,y,y,y,y,y,y,y,y,n,l,l,l,l,l,l,l,l,l,l,l,l,l,l,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,y,y,y,y,y,y,y,y,y,A,A,l,l,l,l,A,l,l,l,l,l],[ga,ga,ga,ga,ga,ga,ga,ga,ga,ga,ga,D,D,D,q,A,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ga,na,Pa,Ca,Aa,Qa,La,ha,I,I,I,I,I,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ha,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ga,D,D,D,D,D,l,l,l,l,l,D,D,D,D,D,D,K,q,l,l,K,K,K,K,K,K,ia,ia,l,l,l,q,K,K,K,K,K,K,K,K,K,K,ia,ia,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l],[q,q,q,q,q,q,q,l,l,l,l,l,l,l,l,l,l,l,l,q,q,q,q,q,l,l,l,l,l,A,y,A,A,A,A,A,A,A,A,A,A,ia,A,A,A,A,A,A,A,A,A,A,A,A,A,l,A,A,A,A,A,l,A,l,A,A,l,A,A,l,A,A,A,A,A,A,A,A,A,A,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,y,y,y,y,y,y,y,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,ha,l,ha,l,l,ha,l,l,l,l,l,l,l,l,l,I,l,l,ia,ia,l,l,l,l,l,I,I,l,l,l,l,l,n,n,n,n,n,l,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,l,l,D],[l,l,l,I,I,I,l,l,l,l,l,ia,ha,ia,ha,ha,K,K,K,K,K,K,K,K,K,K,ha,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,l,l,l,l,l,l,l,l,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,l,l,l,q,q,q,q,q,q,l,l,q,q,q,q,q,q,l,l,q,q,q,q,q,q,l,l,q,q,q,l,l,l,I,I,l,l,l,I,I,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l]];delete q;delete A;delete K;delete fa;delete l;delete na;delete ra;delete n;delete ga;delete ha;delete ia;delete I;delete y;delete Pa;delete Ca;delete Aa;delete Qa;delete La;delete D;return dojox.string.BidiEngine})},"dojox/gfx/decompose":function(){define(["./_base","dojo/_base/lang","./matrix"],function(b,r,k){function u(b,a){return Math.abs(b-a)<=1e-6*(Math.abs(b)+Math.abs(a))}function t(b,a,f,i){if(isFinite(b)){if(!isFinite(f))return b}else return f;a=Math.abs(a);i=Math.abs(i);return(a*b+i*f)/(a+i)}function m(b){var b=k.normalize(b),a=-b.xx-b.yy,f=b.xx*b.yy-b.xy*b.yx,i=Math.sqrt(a*a-4*f),a=-(a+(0>a?-i:i))/2,f=f/a,i=b.xy/(a-b.xx),c=1,e=b.xy/(f-b.xx),g=1;u(a,f)&&(i=1,c=0,e=0,g=1);isFinite(i)||(i=1,c=(a-b.xx)/b.xy,isFinite(c)||(i=(a-b.yy)/b.yx,c=1,isFinite(i)||(i=1,c=b.yx/(a-b.yy))));isFinite(e)||(e=1,g=(f-b.xx)/b.xy,isFinite(g)||(e=(f-b.yy)/b.yx,g=1,isFinite(e)||(e=1,g=b.yx/(f-b.yy))));var b=Math.sqrt(i*i+c*c),d=Math.sqrt(e*e+g*g);if(!isFinite(i/=b))i=0;if(!isFinite(c/=b))c=0;if(!isFinite(e/=d))e=0;if(!isFinite(g/=d))g=0;return{value1:a,value2:f,vector1:{x:i,y:c},vector2:{x:e,y:g}}}function p(b,a){var f=0>b.xx*b.yy||0<b.xy*b.yx?-1:1,i=a.angle1=(Math.atan2(b.yx,b.yy)+Math.atan2(-f*b.xy,f*b.xx))/2,f=Math.cos(i),i=Math.sin(i);a.sx=t(b.xx/f,f,-b.xy/i,i);a.sy=t(b.yy/f,f,b.yx/i,i);return a}function o(b,a){var f=0>b.xx*b.yy||0<b.xy*b.yx?-1:1,i=a.angle2=(Math.atan2(f*b.yx,f*b.xx)+Math.atan2(-b.xy,b.yy))/2,f=Math.cos(i),i=Math.sin(i);a.sx=t(b.xx/f,f,b.yx/i,i);a.sy=t(b.yy/f,f,-b.xy/i,i);return a}return b.decompose=function(b){var a=k.normalize(b),b={dx:a.dx,dy:a.dy,sx:1,sy:1,angle1:0,angle2:0};if(u(a.xy,0)&&u(a.yx,0))return r.mixin(b,{sx:a.xx,sy:a.yy});if(u(a.xx*a.yx,-a.xy*a.yy))return p(a,b);if(u(a.xx*a.xy,-a.yx*a.yy))return o(a,b);var f,i=new k.Matrix2D(a);f=r.mixin(i,{dx:0,dy:0,xy:i.yx,yx:i.xy});i=m([a,f]);f=m([f,a]);i=new k.Matrix2D({xx:i.vector1.x,xy:i.vector2.x,yx:i.vector1.y,yy:i.vector2.y});f=new k.Matrix2D({xx:f.vector1.x,xy:f.vector1.y,yx:f.vector2.x,yy:f.vector2.y});a=new k.Matrix2D([k.invert(i),a,k.invert(f)]);p(f,b);a.xx*=b.sx;a.yy*=b.sy;o(i,b);a.xx*=b.sx;a.yy*=b.sy;return r.mixin(b,{sx:a.xx,sy:a.yy})}})},"dojox/gfx/fx":function(){define("dojo/_base/lang,./_base,./matrix,dojo/_base/Color,dojo/_base/array,dojo/_base/fx,dojo/_base/connect".split(","),function(b,r,k,u,t,m,p){function o(a,c){this.start=a;this.end=c}function s(a,c,b){this.start=a;this.end=c;this.units=b}function a(a,c){this.start=a;this.end=c;this.temp=new u}function f(a){this.values=a;this.length=a.length}function i(a,c){this.values=a;this.def=c?c:{}}function c(a,c){this.stack=a;this.original=c}function e(c,b,d,e){if(c.values)return new f(c.values);var g,i;i=c.start?r.normalizeColor(c.start):g=b?d?b[d]:b:e;c.end?c=r.normalizeColor(c.end):(g||(g=b?d?b[d]:b:e),c=g);return new a(i,c)}var g=r.fx={};o.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};s.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};a.prototype.getValue=function(a){return u.blendColors(this.start,this.end,a,this.temp)};f.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};i.prototype.getValue=function(a){var c=b.clone(this.def),d;for(d in this.values)c[d]=this.values[d].getValue(a);return c};c.prototype.getValue=function(a){var c=[];t.forEach(this.stack,function(b){if(b instanceof k.Matrix2D)c.push(b);else if("original"==b.name&&this.original)c.push(this.original);else if("matrix"==b.name){if(b.start instanceof k.Matrix2D&&b.end instanceof k.Matrix2D){var d=new k.Matrix2D,f;for(f in b.start)d[f]=(b.end[f]-b.start[f])*a+b.start[f];c.push(d)}}else b.name in k&&(d=k[b.name],"function"!=typeof d?c.push(d):(f=t.map(b.start,function(c,d){return(b.end[d]-c)*a+c}),d=d.apply(k,f),d instanceof k.Matrix2D&&c.push(d)))},this);return c};var d=new u(0,0,0,0);g.animateStroke=function(a){if(!a.easing)a.easing=m._defaultEasing;var c=new m.Animation(a),b=a.shape,g;p.connect(c,"beforeBegin",c,function(){g=b.getStroke();var c=a.color,m={},x;if(c)m.color=e(c,g,"color",d);if((c=a.style)&&c.values)m.style=new f(c.values);if(c=a.width){var k=c;k.values?x=new f(k.values):(c=k.start?k.start:x=g?g.width:1,k.end?x=k.end:"number"!=typeof x&&(x=g?g.width:1),x=new o(c,x));m.width=x}if((c=a.cap)&&c.values)m.cap=new f(c.values);if(c=a.join)if(c.values)m.join=new f(c.values);else if(x=c.start?c.start:g&&g.join||0,c=c.end?c.end:g&&g.join||0,"number"==typeof x&&"number"==typeof c)m.join=new o(x,c);this.curve=new i(m,g)});p.connect(c,"onAnimate",b,"setStroke");return c};g.animateFill=function(a){if(!a.easing)a.easing=m._defaultEasing;var c=new m.Animation(a),b=a.shape,f;p.connect(c,"beforeBegin",c,function(){f=b.getFill();var c=a.color;if(c)this.curve=e(c,f,"",d)});p.connect(c,"onAnimate",b,"setFill");return c};g.animateFont=function(a){if(!a.easing)a.easing=m._defaultEasing;var c=new m.Animation(a),b=a.shape,d;p.connect(c,"beforeBegin",c,function(){d=b.getFont();var c=a.style,e={},g,m;if(c&&c.values)e.style=new f(c.values);if((c=a.variant)&&c.values)e.variant=new f(c.values);if((c=a.weight)&&c.values)e.weight=new f(c.values);if((c=a.family)&&c.values)e.family=new f(c.values);if((c=a.size)&&c.units)g=parseFloat(c.start?c.start:b.font&&b.font.size||"0"),m=parseFloat(c.end?c.end:b.font&&b.font.size||"0"),e.size=new s(g,m,c.units);this.curve=new i(e,d)});p.connect(c,"onAnimate",b,"setFont");return c};g.animateTransform=function(a){if(!a.easing)a.easing=m._defaultEasing;var b=new m.Animation(a),d=a.shape,f;p.connect(b,"beforeBegin",b,function(){f=d.getTransform();this.curve=new c(a.transform,f)});p.connect(b,"onAnimate",d,"setTransform");return b};return g})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(b,r,k,u){function t(b,k){if(0>=b)return k[0].color;var o=k.length;if(1<=b)return k[o-1].color;for(var s=0;s<o;++s){var a=k[s];if(a.offset>=b)return s?(o=k[s-1],u.blendColors(new u(o.color),new u(a.color),(b-o.offset)/(a.offset-o.offset))):a.color}return k[o-1].color}b=b.gradutils={};b.getColor=function(b,p){var o;if(b){switch(b.type){case"linear":o=Math.atan2(b.y2-b.y1,b.x2-b.x1);o=k.rotate(-o);var s=k.project(b.x2-b.x1,b.y2-b.y1),a=k.multiplyPoint(s,p),f=k.multiplyPoint(s,b.x1,b.y1),s=k.multiplyPoint(s,b.x2,b.y2),s=k.multiplyPoint(o,s.x-f.x,s.y-f.y).x;o=k.multiplyPoint(o,a.x-f.x,a.y-f.y).x/s;break;case"radial":o=p.x-b.cx,a=p.y-b.cy,o=Math.sqrt(o*o+a*a)/b.r}return t(o,b.colors)}return new u(b||[0,0,0,0])};b.reverse=function(b){if(b)switch(b.type){case"linear":case"radial":if(b=r.delegate(b),b.colors){for(var k=b.colors,o=k.length,s=0,a,f=b.colors=Array(k.length);s<o;++s)a=k[s],f[s]={offset:1-a.offset,color:a.color};f.sort(function(a,c){return a.offset-c.offset})}}return b};return b})},"dojox/gfx/move":function(){define(["dojo/_base/lang","./Mover","./Moveable"],function(b){return b.getObject("dojox.gfx.move",!0)})},"dojox/gfx/Mover":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/declare,dojo/on,dojo/has,dojo/_base/event".split(","),function(b,r,k,u,t,m){return k("dojox.gfx.Mover",null,{constructor:function(k,o,s){this.shape=k;this.lastX=t("touch")?(o.changedTouches?o.changedTouches[0]:o).clientX:o.clientX;this.lastY=t("touch")?(o.changedTouches?o.changedTouches[0]:o).clientY:o.clientY;k=this.host=s;o=document;s=u(o,t("touch")?"touchmove":"mousemove",b.hitch(this,"onFirstMove"));this.events=[u(o,t("touch")?"touchmove":"mousemove",b.hitch(this,"onMouseMove")),u(o,t("touch")?"touchend":"mouseup",b.hitch(this,"destroy")),u(o,"dragstart",b.hitch(m,"stop")),u(o,"selectstart",b.hitch(m,"stop")),s];if(k&&k.onMoveStart)k.onMoveStart(this)},onMouseMove:function(b){var k=t("touch")?(b.changedTouches?b.changedTouches[0]:b).clientX:b.clientX,s=t("touch")?(b.changedTouches?b.changedTouches[0]:b).clientY:b.clientY;this.host.onMove(this,{dx:k-this.lastX,dy:s-this.lastY});this.lastX=k;this.lastY=s;m.stop(b)},onFirstMove:function(){this.host.onFirstMove(this);this.events.pop().remove()},destroy:function(){r.forEach(this.events,function(b){b.remove()});var b=this.host;if(b&&b.onMoveStop)b.onMoveStop(this);this.events=this.shape=null}})})},"dojox/gfx/Moveable":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/array,dojo/_base/event,dojo/topic,dojo/has,dojo/dom-class,dojo/_base/window,./Mover".split(","),function(b,r,k,u,t,m,p,o,s){return r("dojox.gfx.Moveable",null,{constructor:function(a,b){this.shape=a;this.delay=b&&0<b.delay?b.delay:0;this.mover=b&&b.mover?b.mover:s;this.events=[this.shape.connect(m("touch")?"touchstart":"mousedown",this,"onMouseDown")]},destroy:function(){k.forEach(this.events,this.shape.disconnect,this.shape);this.events=this.shape=null},onMouseDown:function(a){this.delay?(this.events.push(this.shape.connect(m("touch")?"touchmove":"mousemove",this,"onMouseMove"),this.shape.connect(m("touch")?"touchend":"mouseup",this,"onMouseUp")),this._lastX=m("touch")?(a.changedTouches?a.changedTouches[0]:a).clientX:a.clientX,this._lastY=m("touch")?(a.changedTouches?a.changedTouches[0]:a).clientY:a.clientY):new this.mover(this.shape,a,this);u.stop(a)},onMouseMove:function(a){var b=m("touch")?(a.changedTouches?a.changedTouches[0]:a).clientX:a.clientX,i=m("touch")?(a.changedTouches?a.changedTouches[0]:a).clientY:a.clientY;if(Math.abs(b-this._lastX)>this.delay||Math.abs(i-this._lastY)>this.delay)this.onMouseUp(a),new this.mover(this.shape,a,this);u.stop(a)},onMouseUp:function(){this.shape.disconnect(this.events.pop())},onMoveStart:function(a){t.publish("/gfx/move/start",a);p.add(o.body(),"dojoMove")},onMoveStop:function(a){t.publish("/gfx/move/stop",a);p.remove(o.body(),"dojoMove")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);this.shape.applyLeftTransform(b);this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojox/gfx/svg":function(){define("dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/dom,dojo/_base/declare,dojo/_base/array,dojo/dom-geometry,dojo/dom-attr,dojo/_base/Color,./_base,./shape,./path".split(","),function(b,r,k,u,t,m,p,o,s,a,f,i){function c(a,c){return k.doc.createElementNS?k.doc.createElementNS(a,c):k.doc.createElement(c)}function e(a){return g.useSvgWeb?k.doc.createTextNode(a,!0):k.doc.createTextNode(a)}var g=a.svg={};g.useSvgWeb="undefined"!=typeof window.svgweb;var d=navigator.userAgent,v=r("ios"),E=r("android"),J=r("chrome")||E&&4<=E?"auto":"optimizeLegibility";g.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};g.getRef=function(a){return!a||"none"==a?null:a.match(/^url\(#.+\)$/)?u.byId(a.slice(5,-1)):a.match(/^#dojoUnique\d+$/)?u.byId(a.slice(1)):null};g.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var C=0;g.Shape=t("dojox.gfx.svg.Shape",f.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var a=this.rawNode.getAttribute("fill");(a=g.getRef(a))&&a.parentNode.removeChild(a)}if(this.clip&&(a=this.rawNode.getAttribute("clip-path")))(a=u.byId(a.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);this.rawNode=null;f.Shape.prototype.destroy.apply(this,arguments)},setFill:function(c){if(!c)return this.fillStyle=null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var b,d=function(a){this.setAttribute(a,b[a].toFixed(8))};if("object"==typeof c&&"type"in c){switch(c.type){case"linear":b=a.makeParameters(a.defaultLinearGradient,c);c=this._setFillObject(b,"linearGradient");m.forEach(["x1","y1","x2","y2"],d,c);break;case"radial":b=a.makeParameters(a.defaultRadialGradient,c);c=this._setFillObject(b,"radialGradient");m.forEach(["cx","cy","r"],d,c);break;case"pattern":b=a.makeParameters(a.defaultPattern,c),c=this._setFillObject(b,"pattern"),m.forEach(["x","y","width","height"],d,c)}this.fillStyle=b;return this}this.fillStyle=b=a.normalizeColor(c);this.rawNode.setAttribute("fill",b.toCss());this.rawNode.setAttribute("fill-opacity",b.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(c){var d=this.rawNode;if(!c)return this.strokeStyle=null,d.setAttribute("stroke","none"),d.setAttribute("stroke-opacity",0),this;if("string"==typeof c||b.isArray(c)||c instanceof s)c={color:c};c=this.strokeStyle=a.makeParameters(a.defaultStroke,c);c.color=a.normalizeColor(c.color);if(c){d.setAttribute("stroke",c.color.toCss());d.setAttribute("stroke-opacity",c.color.a);d.setAttribute("stroke-width",c.width);d.setAttribute("stroke-linecap",c.cap);"number"==typeof c.join?(d.setAttribute("stroke-linejoin","miter"),d.setAttribute("stroke-miterlimit",c.join)):d.setAttribute("stroke-linejoin",c.join);var f=c.style.toLowerCase();f in g.dasharray&&(f=g.dasharray[f]);if(f instanceof Array){for(var f=b._toArray(f),e=0;e<f.length;++e)f[e]*=c.width;if("butt"!=c.cap){for(e=0;e<f.length;e+=2)f[e]-=c.width,1>f[e]&&(f[e]=1);for(e=1;e<f.length;e+=2)f[e]+=c.width}f=f.join(",")}d.setAttribute("stroke-dasharray",f);d.setAttribute("dojoGfxStrokeStyle",c.style)}return this},_getParentSurface:function(){for(var c=this.parent;c&&!(c instanceof a.Surface);c=c.parent);return c},_setFillObject:function(b,d){var f=g.xmlns.svg;this.fillStyle=b;var e=this._getParentSurface().defNode,i=this.rawNode.getAttribute("fill");if(i=g.getRef(i))if(i.tagName.toLowerCase()!=d.toLowerCase()){var k=i.id;i.parentNode.removeChild(i);i=c(f,d);i.setAttribute("id",k);e.appendChild(i)}else for(;i.childNodes.length;)i.removeChild(i.lastChild);else i=c(f,d),i.setAttribute("id",a._base._getUniqueId()),e.appendChild(i);if("pattern"==d)i.setAttribute("patternUnits","userSpaceOnUse"),f=c(f,"image"),f.setAttribute("x",0),f.setAttribute("y",0),f.setAttribute("width",b.width.toFixed(8)),f.setAttribute("height",b.height.toFixed(8)),f.setAttributeNS?f.setAttributeNS(g.xmlns.xlink,"xlink:href",b.src):f.setAttribute("xlink:href",b.src),i.appendChild(f);else{i.setAttribute("gradientUnits","userSpaceOnUse");for(e=0;e<b.colors.length;++e){var k=b.colors[e],m=c(f,"stop"),o=k.color=a.normalizeColor(k.color);m.setAttribute("offset",k.offset.toFixed(8));m.setAttribute("stop-color",o.toCss());m.setAttribute("stop-opacity",o.a);i.appendChild(m)}}this.rawNode.setAttribute("fill","url(#"+i.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return i},_applyTransform:function(){if(this.matrix){var a=this.matrix;this.rawNode.setAttribute("transform","matrix("+a.xx.toFixed(8)+","+a.yx.toFixed(8)+","+a.xy.toFixed(8)+","+a.yy.toFixed(8)+","+a.dx.toFixed(8)+","+a.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(a){a=this.rawNode=a;"image"!=this.shape.type&&a.setAttribute("fill","none");a.setAttribute("fill-opacity",0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this.getUID()},setShape:function(c){this.shape=a.makeParameters(this.shape,c);for(var b in this.shape)"type"!=b&&this.rawNode.setAttribute(b,this.shape[b]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this},setClip:function(a){this.inherited(arguments);var d=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!d)return this;if("polyline"===d)a=b.clone(a),a.points=a.points.join(",");var f,e=o.get(this.rawNode,"clip-path");e&&(f=u.byId(e.match(/gfx_clip[\d]+/)[0]))&&f.removeChild(f.childNodes[0]);a?(f?(d=c(g.xmlns.svg,d),f.appendChild(d)):(e="gfx_clip"+ ++C,this.rawNode.setAttribute("clip-path","url(#"+e+")"),f=c(g.xmlns.svg,"clipPath"),d=c(g.xmlns.svg,d),f.appendChild(d),this.rawNode.parentNode.appendChild(f),o.set(f,"id",e)),o.set(d,a)):(this.rawNode.removeAttribute("clip-path"),f&&f.parentNode.removeChild(f));
return this},_removeClipNode:function(){var a,c=o.get(this.rawNode,"clip-path");c&&(a=u.byId(c.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);return a}});g.Group=t("dojox.gfx.svg.Group",g.Shape,{constructor:function(){f.Container._init.call(this)},setRawNode:function(a){this.rawNode=a;this.rawNode.__gfxObject__=this.getUID()},destroy:function(){this.clear(!0);g.Shape.prototype.destroy.apply(this,arguments)}});g.Group.nodeType="g";g.Rect=t("dojox.gfx.svg.Rect",[g.Shape,f.Rect],{setShape:function(c){this.shape=a.makeParameters(this.shape,c);this.bbox=null;for(var b in this.shape)"type"!=b&&"r"!=b&&this.rawNode.setAttribute(b,this.shape[b]);null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));return this}});g.Rect.nodeType="rect";g.Ellipse=t("dojox.gfx.svg.Ellipse",[g.Shape,f.Ellipse],{});g.Ellipse.nodeType="ellipse";g.Circle=t("dojox.gfx.svg.Circle",[g.Shape,f.Circle],{});g.Circle.nodeType="circle";g.Line=t("dojox.gfx.svg.Line",[g.Shape,f.Line],{});g.Line.nodeType="line";g.Polyline=t("dojox.gfx.svg.Polyline",[g.Shape,f.Polyline],{setShape:function(c,b){c&&c instanceof Array?(this.shape=a.makeParameters(this.shape,{points:c}),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=a.makeParameters(this.shape,c);this.bbox=null;this._normalizePoints();for(var d=[],f=this.shape.points,e=0;e<f.length;++e)d.push(f[e].x.toFixed(8),f[e].y.toFixed(8));this.rawNode.setAttribute("points",d.join(" "));return this}});g.Polyline.nodeType="polyline";g.Image=t("dojox.gfx.svg.Image",[g.Shape,f.Image],{setShape:function(c){this.shape=a.makeParameters(this.shape,c);this.bbox=null;var c=this.rawNode,b;for(b in this.shape)"type"!=b&&"src"!=b&&c.setAttribute(b,this.shape[b]);c.setAttribute("preserveAspectRatio","none");c.setAttributeNS?c.setAttributeNS(g.xmlns.xlink,"xlink:href",this.shape.src):c.setAttribute("xlink:href",this.shape.src);c.__gfxObject__=this.getUID();return this}});g.Image.nodeType="image";g.Text=t("dojox.gfx.svg.Text",[g.Shape,f.Text],{setShape:function(c){this.shape=a.makeParameters(this.shape,c);this.bbox=null;var c=this.rawNode,b=this.shape;c.setAttribute("x",b.x);c.setAttribute("y",b.y);c.setAttribute("text-anchor",b.align);c.setAttribute("text-decoration",b.decoration);c.setAttribute("rotate",b.rotated?90:0);c.setAttribute("kerning",b.kerning?"auto":0);c.setAttribute("text-rendering",J);c.firstChild?c.firstChild.nodeValue=b.text:c.appendChild(e(b.text));return this},getTextWidth:function(){var a=this.rawNode,c=a.parentNode,a=a.cloneNode(!0);a.style.visibility="hidden";var b=0,d=a.firstChild.nodeValue;c.appendChild(a);if(""!=d)for(;!b;)b=a.getBBox?parseInt(a.getBBox().width):68;c.removeChild(a);return b}});g.Text.nodeType="text";g.Path=t("dojox.gfx.svg.Path",[g.Shape,i.Path],{_updateWithSegment:function(a){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(a){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});g.Path.nodeType="path";g.TextPath=t("dojox.gfx.svg.TextPath",[g.Shape,i.TextPath],{_updateWithSegment:function(a){this.inherited(arguments);this._setTextPath()},setShape:function(a){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var b=this.rawNode;if(!b.firstChild){var d=c(g.xmlns.svg,"textPath"),f=e("");d.appendChild(f);b.appendChild(d)}d=(d=b.firstChild.getAttributeNS(g.xmlns.xlink,"href"))&&g.getRef(d);if(!d&&(f=this._getParentSurface())){var f=f.defNode,d=c(g.xmlns.svg,"path"),i=a._base._getUniqueId();d.setAttribute("id",i);f.appendChild(d);b.firstChild.setAttributeNS?b.firstChild.setAttributeNS(g.xmlns.xlink,"xlink:href","#"+i):b.firstChild.setAttribute("xlink:href","#"+i)}d&&d.setAttribute("d",this.shape.path)}},_setText:function(){var a=this.rawNode;if(!a.firstChild){var b=c(g.xmlns.svg,"textPath"),d=e("");b.appendChild(d);a.appendChild(b)}a=a.firstChild;b=this.text;a.setAttribute("alignment-baseline","middle");switch(b.align){case"middle":a.setAttribute("text-anchor","middle");a.setAttribute("startOffset","50%");break;case"end":a.setAttribute("text-anchor","end");a.setAttribute("startOffset","100%");break;default:a.setAttribute("text-anchor","start"),a.setAttribute("startOffset","0%")}a.setAttribute("baseline-shift","0.5ex");a.setAttribute("text-decoration",b.decoration);a.setAttribute("rotate",b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.firstChild.data=b.text}});g.TextPath.nodeType="text";var G=534<function(){var a=/WebKit\/(\d*)/.exec(d);return a?a[1]:0}();g.Surface=t("dojox.gfx.svg.Surface",f.Surface,{constructor:function(){f.Container._init.call(this)},destroy:function(){f.Container.clear.call(this,!0);this.defNode=null;this.inherited(arguments)},setDimensions:function(a,c){if(!this.rawNode)return this;this.rawNode.setAttribute("width",a);this.rawNode.setAttribute("height",c);if(G)this.rawNode.style.width=a,this.rawNode.style.height=c;return this},getDimensions:function(){return this.rawNode?{width:a.normalizedLength(this.rawNode.getAttribute("width")),height:a.normalizedLength(this.rawNode.getAttribute("height"))}:null}});g.createSurface=function(a,b,d){var f=new g.Surface;f.rawNode=c(g.xmlns.svg,"svg");f.rawNode.setAttribute("overflow","hidden");b&&f.rawNode.setAttribute("width",b);d&&f.rawNode.setAttribute("height",d);b=c(g.xmlns.svg,"defs");f.rawNode.appendChild(b);f.defNode=b;f._parent=u.byId(a);f._parent.appendChild(f.rawNode);return f};var r={_setFont:function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)}},z=f.Container,t={openBatch:function(){this.fragment=g.useSvgWeb?k.doc.createDocumentFragment(!0):k.doc.createDocumentFragment()},closeBatch:function(){this.fragment&&(this.rawNode.appendChild(this.fragment),delete this.fragment)},add:function(a){this!=a.getParent()&&(this.fragment?this.fragment.appendChild(a.rawNode):this.rawNode.appendChild(a.rawNode),z.add.apply(this,arguments),a.setClip(a.clip));return this},remove:function(a,c){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),this.fragment&&this.fragment==a.rawNode.parentNode&&this.fragment.removeChild(a.rawNode),a._removeClipNode(),z.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.lastChild;)a.removeChild(a.lastChild);var c=this.defNode;if(c){for(;c.lastChild;)c.removeChild(c.lastChild);a.appendChild(c)}return z.clear.apply(this,arguments)},getBoundingBox:z.getBoundingBox,_moveChildToFront:z._moveChildToFront,_moveChildToBack:z._moveChildToBack},i={createObject:function(a,b){if(!this.rawNode)return null;var d=new a,f=c(g.xmlns.svg,a.nodeType);d.setRawNode(f);d.setShape(b);this.add(d);return d}};b.extend(g.Text,r);b.extend(g.TextPath,r);b.extend(g.Group,t);b.extend(g.Group,f.Creator);b.extend(g.Group,i);b.extend(g.Surface,t);b.extend(g.Surface,f.Creator);b.extend(g.Surface,i);g.fixTarget=function(a){if(!a.gfxTarget)a.gfxTarget=v&&a.target.wholeText?f.byId(a.target.parentElement.__gfxObject__):f.byId(a.target.__gfxObject__);return!0};if(g.useSvgWeb)g.createSurface=function(b,d,f){var e=new g.Surface;if(!d||!f)var i=p.position(b),d=d||i.w,f=f||i.h;var b=u.byId(b),i=b.id?b.id+"_svgweb":a._base._getUniqueId(),k=c(g.xmlns.svg,"svg");k.id=i;k.setAttribute("width",d);k.setAttribute("height",f);svgweb.appendChild(k,b);k.addEventListener("SVGLoad",function(){e.rawNode=this;e.isLoaded=!0;var a=c(g.xmlns.svg,"defs");e.rawNode.appendChild(a);e.defNode=a;if(e.onLoad)e.onLoad(e)},!1);e.isLoaded=!1;return e},g.Surface.extend({destroy:function(){var a=this.rawNode;svgweb.removeChild(a,a.parentNode)}}),r={connect:function(a,c,d){"on"===a.substring(0,2)&&(a=a.substring(2));d=2==arguments.length?c:b.hitch(c,d);this.getEventSource().addEventListener(a,d,!1);return[this,a,d]},disconnect:function(a){this.getEventSource().removeEventListener(a[1],a[2],!1);delete a[0]}},b.extend(g.Shape,r),b.extend(g.Surface,r);return g})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(b,r,k,u,t){t=k("dojox.gfx.path.Path",t.Shape,{constructor:function(k){this.shape=r.clone(b.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=k;this.segmented=!1},setAbsoluteMode:function(b){this._confirmSegmented();this.absolute="string"==typeof b?"absolute"==b:b;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var b=this.bbox,k=this._getRealMatrix();this.bbox=null;for(var o=0,s=this.segments.length;o<s;++o)this._updateWithSegment(this.segments[o],k);k=this.bbox;this.bbox=b;return this.tbbox=k?[{x:k.l,y:k.t},{x:k.r,y:k.t},{x:k.r,y:k.b},{x:k.l,y:k.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(b,k,o){if(o)k=u.multiplyPoint(o,b,k),b=k.x,k=k.y;if(this.bbox&&"l"in this.bbox){if(this.bbox.l>b)this.bbox.l=b;if(this.bbox.r<b)this.bbox.r=b;if(this.bbox.t>k)this.bbox.t=k;if(this.bbox.b<k)this.bbox.b=k}else this.bbox={l:b,b:k,r:b,t:k}},_updateWithSegment:function(k,p){var o=k.args,s=o.length,a;switch(k.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(a=0;a<s;a+=2)this._updateBBox(o[a],o[a+1],p);this.last.x=o[s-2];this.last.y=o[s-1];this.absolute=!0;break;case"H":for(a=0;a<s;++a)this._updateBBox(o[a],this.last.y,p);this.last.x=o[s-1];this.absolute=!0;break;case"V":for(a=0;a<s;++a)this._updateBBox(this.last.x,o[a],p);this.last.y=o[s-1];this.absolute=!0;break;case"m":a=0;if(!("x"in this.last))this._updateBBox(this.last.x=o[0],this.last.y=o[1],p),a=2;for(;a<s;a+=2)this._updateBBox(this.last.x+=o[a],this.last.y+=o[a+1],p);this.absolute=!1;break;case"l":case"t":for(a=0;a<s;a+=2)this._updateBBox(this.last.x+=o[a],this.last.y+=o[a+1],p);this.absolute=!1;break;case"h":for(a=0;a<s;++a)this._updateBBox(this.last.x+=o[a],this.last.y,p);this.absolute=!1;break;case"v":for(a=0;a<s;++a)this._updateBBox(this.last.x,this.last.y+=o[a],p);this.absolute=!1;break;case"c":for(a=0;a<s;a+=6)this._updateBBox(this.last.x+o[a],this.last.y+o[a+1],p),this._updateBBox(this.last.x+o[a+2],this.last.y+o[a+3],p),this._updateBBox(this.last.x+=o[a+4],this.last.y+=o[a+5],p);this.absolute=!1;break;case"s":case"q":for(a=0;a<s;a+=4)this._updateBBox(this.last.x+o[a],this.last.y+o[a+1],p),this._updateBBox(this.last.x+=o[a+2],this.last.y+=o[a+3],p);this.absolute=!1;break;case"A":for(a=0;a<s;a+=7)this._updateBBox(o[a+5],o[a+6],p);this.last.x=o[s-2];this.last.y=o[s-1];this.absolute=!0;break;case"a":for(a=0;a<s;a+=7)this._updateBBox(this.last.x+=o[a+5],this.last.y+=o[a+6],p);this.absolute=!1}var f=[k.action];for(a=0;a<s;++a)f.push(b.formatNumber(o[a],!0));"string"==typeof this.shape.path?this.shape.path+=f.join(""):Array.prototype.push.apply(this.shape.path,f)},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(b,k){this.tbbox=null;var o=this._validSegments[b.toLowerCase()];"number"==typeof o&&(o?k.length>=o&&(o={action:b,args:k.slice(0,k.length-k.length%o)},this.segments.push(o),this._updateWithSegment(o)):(o={action:b,args:[]},this.segments.push(o),this._updateWithSegment(o)))},_collectArgs:function(b,k){for(var o=0;o<k.length;++o){var s=k[o];"boolean"==typeof s?b.push(s?1:0):"number"==typeof s?b.push(s):s instanceof Array?this._collectArgs(b,s):"x"in s&&"y"in s&&b.push(s.x,s.y)}},moveTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"M":"m",b);return this},lineTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"L":"l",b);return this},hLineTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"H":"h",b);return this},vLineTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"V":"v",b);return this},curveTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"C":"c",b);return this},smoothCurveTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"S":"s",b);return this},qCurveTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"Q":"q",b);return this},qSmoothCurveTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"T":"t",b);return this},arcTo:function(){this._confirmSegmented();var b=[];this._collectArgs(b,arguments);this._pushSegment(this.absolute?"A":"a",b);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var b=this.shape.path;this.shape.path=[];this._setPath(b);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(k){k=r.isArray(k)?k:k.match(b.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(k){for(var p="",o=[],s=k.length,a=0;a<s;++a){var f=k[a],i=parseFloat(f);isNaN(i)?(p&&this._pushSegment(p,o),o=[],p=f):o.push(i)}this._pushSegment(p,o)}},setShape:function(k){this.inherited(arguments,["string"==typeof k?{path:k}:k]);this.segmented=!1;this.segments=[];b.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});k=k("dojox.gfx.path.TextPath",t,{constructor:function(){if(!("text"in this))this.text=r.clone(b.defaultTextPath);if(!("fontStyle"in this))this.fontStyle=r.clone(b.defaultFont)},getText:function(){return this.text},setText:function(k){this.text=b.makeParameters(this.text,"string"==typeof k?{text:k}:k);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(k){this.fontStyle="string"==typeof k?b.splitFontString(k):b.makeParameters(b.defaultFont,k);this._setFont();return this}});return b.path={Path:t,TextPath:k}})},"dojox/gfx/svg_attach":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/array,dojo/_base/Color,./_base,./svg,./matrix".split(","),function(b,r,k,u,t,m,p){function o(a){var b=a.rawNode.getAttribute("fill");if("none"==b)a.fillStyle=null;else{var c=null,e=m.getRef(b);if(e)switch(e.tagName.toLowerCase()){case"lineargradient":c=s(t.defaultLinearGradient,e);k.forEach(["x1","y1","x2","y2"],function(a){c[a]=e.getAttribute(a)});break;case"radialgradient":c=s(t.defaultRadialGradient,e);k.forEach(["cx","cy","r"],function(a){c[a]=e.getAttribute(a)});c.cx=e.getAttribute("cx");c.cy=e.getAttribute("cy");c.r=e.getAttribute("r");break;case"pattern":c=r.clone(t.defaultPattern),k.forEach(["x","y","width","height"],function(a){c[a]=e.getAttribute(a)}),c.src=e.firstChild.getAttributeNS(m.xmlns.xlink,"href")}else if(c=new u(b),b=a.rawNode.getAttribute("fill-opacity"),null!=b)c.a=b;a.fillStyle=c}}function s(a,b){var c=r.clone(a);c.colors=[];for(var e=0;e<b.childNodes.length;++e)c.colors.push({offset:b.childNodes[e].getAttribute("offset"),color:new u(b.childNodes[e].getAttribute("stop-color"))});return c}function a(a,b){var c=a.shape=r.clone(b),e=a.rawNode,g;for(g in c)c[g]=e.getAttribute(g)}b.experimental("dojox.gfx.svg_attach");m.attachNode=function(b){if(!b)return null;var i=null;switch(b.tagName.toLowerCase()){case m.Rect.nodeType:b=i=new m.Rect(b);a(b,t.defaultRect);b.shape.r=Math.min(b.rawNode.getAttribute("rx"),b.rawNode.getAttribute("ry"));break;case m.Ellipse.nodeType:i=new m.Ellipse(b);a(i,t.defaultEllipse);break;case m.Polyline.nodeType:i=new m.Polyline(b);a(i,t.defaultPolyline);break;case m.Path.nodeType:i=new m.Path(b);a(i,t.defaultPath);break;case m.Circle.nodeType:i=new m.Circle(b);a(i,t.defaultCircle);break;case m.Line.nodeType:i=new m.Line(b);a(i,t.defaultLine);break;case m.Image.nodeType:i=new m.Image(b);a(i,t.defaultImage);break;case m.Text.nodeType:if((i=b.getElementsByTagName("textPath"))&&i.length){i=new m.TextPath(b);a(i,t.defaultPath);var c=i,b=c.shape=r.clone(t.defaultTextPath),c=c.rawNode}else c=i=new m.Text(b),b=c.shape=r.clone(t.defaultText),c=c.rawNode,b.x=c.getAttribute("x"),b.y=c.getAttribute("y");b.align=c.getAttribute("text-anchor");b.decoration=c.getAttribute("text-decoration");b.rotated=0!=parseFloat(c.getAttribute("rotate"));b.kerning="auto"==c.getAttribute("kerning");b.text=c.firstChild.nodeValue;c=i;b=c.fontStyle=r.clone(t.defaultFont);c=c.rawNode;b.style=c.getAttribute("font-style");b.variant=c.getAttribute("font-variant");b.weight=c.getAttribute("font-weight");b.size=c.getAttribute("font-size");b.family=c.getAttribute("font-family");break;default:return null}if(!(i instanceof m.Image)){o(i);var e=i,b=e.rawNode,c=b.getAttribute("stroke");if(null==c||"none"==c)e.strokeStyle=null;else if(e=e.strokeStyle=r.clone(t.defaultStroke),c=new u(c)){e.color=c;e.color.a=b.getAttribute("stroke-opacity");e.width=b.getAttribute("stroke-width");e.cap=b.getAttribute("stroke-linecap");e.join=b.getAttribute("stroke-linejoin");if("miter"==e.join)e.join=b.getAttribute("stroke-miterlimit");e.style=b.getAttribute("dojoGfxStrokeStyle")}}b=i;c=b.rawNode.getAttribute("transform");c.match(/^matrix\(.+\)$/)?(c=c.slice(7,-1).split(","),b.matrix=p.normalize({xx:parseFloat(c[0]),xy:parseFloat(c[2]),yx:parseFloat(c[1]),yy:parseFloat(c[3]),dx:parseFloat(c[4]),dy:parseFloat(c[5])})):b.matrix=null;return i};m.attachSurface=function(a){var b=new m.Surface;b.rawNode=a;a=a.getElementsByTagName("defs");if(0==a.length)return null;b.defNode=a[0];return b};return m})},"dojox/gfx/vml_attach":function(){define("dojo/_base/kernel,dojo/_base/lang,./_base,./matrix,./path,dojo/_base/Color,./vml".split(","),function(b,r,k,u,t,m,p){b.experimental("dojox.gfx.vml_attach");p.attachNode=function(b){if(!b)return null;var e=null;switch(b.tagName.toLowerCase()){case p.Rect.nodeType:var b=e=new p.Rect(b),g=b.rawNode,d=g.outerHTML.match(/arcsize = \"(\d*\.?\d+[%f]?)\"/)[1],g=g.style,v=parseFloat(g.width),t=parseFloat(g.height),d=0<=d.indexOf("%")?parseFloat(d)/100:p._parseFloat(d);b.shape=k.makeParameters(k.defaultRect,{x:parseInt(g.left),y:parseInt(g.top),width:v,height:t,r:Math.min(v,t)*d});break;case p.Ellipse.nodeType:b.style.width==b.style.height?(b=e=new p.Circle(b),d=b.rawNode.style,g=parseInt(d.width)/2,b.shape=k.makeParameters(k.defaultCircle,{cx:parseInt(d.left)+g,cy:parseInt(d.top)+g,r:g})):(b=e=new p.Ellipse(b),d=b.rawNode.style,g=parseInt(d.width)/2,v=parseInt(d.height)/2,b.shape=k.makeParameters(k.defaultEllipse,{cx:parseInt(d.left)+g,cy:parseInt(d.top)+v,rx:g,ry:v}));break;case p.Path.nodeType:switch(b.getAttribute("dojoGfxType")){case"line":d=e=new p.Line(b);b=d.shape=r.clone(k.defaultLine);d=d.rawNode.path.v.match(k.pathVmlRegExp);if(!(7>d.length||"m"!=d[0]||"l"!=d[3]||"e"!=d[6]))b.x1=parseInt(d[1]),b.y1=parseInt(d[2]),b.x2=parseInt(d[4]),b.y2=parseInt(d[5]);break;case"polyline":d=e=new p.Polyline(b);b=d.shape=r.clone(k.defaultPolyline);d=d.rawNode.path.v.match(k.pathVmlRegExp);do if(!(3>d.length||"m"!=d[0]))if(g=parseInt(d[0]),v=parseInt(d[1]),!isNaN(g)&&!isNaN(v)&&(b.points.push({x:g,y:v}),!(6>d.length||"l"!=d[3])))for(t=4;t<d.length;t+=2){g=parseInt(d[t]);v=parseInt(d[t+1]);if(isNaN(g)||isNaN(v))break;b.points.push({x:g,y:v})}while(0);break;case"path":e=new p.Path(b);i(e);break;case"text":e=new p.Text(b);a(e);f(e);b=e;s(b);d=b.matrix;g=b.fontStyle;if(d&&g)b.matrix=u.multiply(d,{dy:.35*k.normalizedLength(g.size)});break;case"textpath":e=new p.TextPath(b),i(e),a(e),f(e)}break;case p.Image.nodeType:switch(b.getAttribute("dojoGfxType")){case"image":b=e=new p.Image(b),b.shape=r.clone(k.defaultImage),b.shape.src=b.rawNode.firstChild.src,b=e.rawNode.filters["DXImageTransform.Microsoft.Matrix"],e.matrix=u.normalize({xx:b.M11,xy:b.M12,yx:b.M21,yy:b.M22,dx:b.Dx,dy:b.Dy})}break;default:return null}if(!(e instanceof p.Image)){b=e;d=null;g=b.rawNode;v=g.fill;if(v.on&&"gradient"==v.type){d=r.clone(k.defaultLinearGradient);rad=u._degToRad(v.angle);d.x2=Math.cos(rad);d.y2=Math.sin(rad);d.colors=[];g=v.colors.value.split(";");for(v=0;v<g.length;++v)(t=g[v].match(/\S+/g))&&2==t.length&&d.colors.push({offset:p._parseFloat(t[0]),color:new m(t[1])})}else if(v.on&&"gradientradial"==v.type){d=r.clone(k.defaultRadialGradient);w=parseFloat(g.style.width);h=parseFloat(g.style.height);d.cx=isNaN(w)?0:v.focusposition.x*w;d.cy=isNaN(h)?0:v.focusposition.y*h;d.r=isNaN(w)?1:w/2;d.colors=[];g=v.colors.value.split(";");for(v=g.length-1;0<=v;--v)(t=g[v].match(/\S+/g))&&2==t.length&&d.colors.push({offset:p._parseFloat(t[0]),color:new m(t[1])})}else if(v.on&&"tile"==v.type)d=r.clone(k.defaultPattern),d.width=k.pt2px(v.size.x),d.height=k.pt2px(v.size.y),d.x=v.origin.x*d.width,d.y=v.origin.y*d.height,d.src=v.src;else if(v.on&&g.fillcolor)d=new m(g.fillcolor+""),d.a=v.opacity;b.fillStyle=d;o(e);e instanceof p.Text||s(e)}return e};p.attachSurface=function(a){var b=new p.Surface;b.clipNode=a;var a=b.rawNode=a.firstChild,f=a.firstChild;if(!f||"rect"!=f.tagName)return null;b.bgNode=a;return b};var o=function(a){var b=a.rawNode;if(b.stroked){var a=a.strokeStyle=r.clone(k.defaultStroke),f=b.stroke;a.color=new m(b.strokecolor.value);a.width=k.normalizedLength(b.strokeweight+"");a.color.a=f.opacity;a.cap=this._translate(this._capMapReversed,f.endcap);a.join="miter"==f.joinstyle?f.miterlimit:f.joinstyle;a.style=f.dashstyle}else a.strokeStyle=null},s=function(a){var b=a.rawNode.skew,f=b.matrix,b=b.offset;a.matrix=u.normalize({xx:f.xtox,xy:f.ytox,yx:f.xtoy,yy:f.ytoy,dx:k.pt2px(b.x),dy:k.pt2px(b.y)})},a=function(a){var b=a.shape=r.clone(k.defaultText),f=a.rawNode,d=f.path.v.match(k.pathVmlRegExp);do if(d&&7==d.length){for(var i=f.childNodes,o=0;o<i.length&&"textpath"!=i[o].tagName;++o);if(!(o>=i.length)){a=i[o].style;b.text=i[o].string;switch(a["v-text-align"]){case"left":b.x=parseInt(d[1]);b.align="start";break;case"center":b.x=(parseInt(d[1])+parseInt(d[4]))/2;b.align="middle";break;case"right":b.x=parseInt(d[4]),b.align="end"}b.y=parseInt(d[2]);b.decoration=a["text-decoration"];b.rotated=a["v-rotate-letters"].toLowerCase()in p._bool;b.kerning=a["v-text-kern"].toLowerCase()in p._bool;return}}while(0);a.shape=null},f=function(a){for(var b=a.fontStyle=r.clone(k.defaultFont),f=a.rawNode.childNodes,d=0;d<f.length&&"textpath"==f[d].tagName;++d);d>=f.length?a.fontStyle=null:(a=f[d].style,b.style=a.fontstyle,b.variant=a.fontvariant,b.weight=a.fontweight,b.size=a.fontsize,b.family=a.fontfamily)},i=function(a){for(var b=a.shape=r.clone(k.defaultPath),f=a.rawNode.path.v.match(k.pathVmlRegExp),a=[],d=!1,i=t._pathVmlToSvgMap;0<f.length;++f){var o=f[0];o in i?(d=!1,a.push(i[o])):d||(o=parseInt(o),isNaN(o)?d=!0:a.push(o))}f=a.length;4<=f&&""==a[f-1]&&0==a[f-2]&&0==a[f-3]&&"l"==a[f-4]&&a.splice(f-4,4);if(f)b.path=a.join(" ")};return p})},"dojox/gfx/vml":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/array,dojo/_base/Color,dojo/_base/sniff,dojo/_base/config,dojo/dom,dojo/dom-geometry,dojo/_base/kernel,./_base,./shape,./path,./arc,./gradient,./matrix".split(","),function(b,r,k,u,t,m,p,o,s,a,f,i,c,e,g){function d(b,c,f){f=f||s.global;c.call(f,b);(b instanceof a.Surface||b instanceof a.Group)&&k.forEach(b.children,function(a){d(a,c,f)})}var v=a.vml={};v.xmlns="urn:schemas-microsoft-com:vml";document.namespaces.add("v",v.xmlns);var e="*,group,roundrect,oval,shape,rect,imagedata,path,textpath,text".split(","),E=0,J=1,C=document.createStyleSheet();if(8<=t("ie"))E=1,J=e.length;for(;E<J;++E)C.addRule("v\\:"+e[E],"behavior:url(#default#VML); display:inline-block");v.text_alignment={start:"left",middle:"center",end:"right"};v._parseFloat=function(a){return a.match(/^\d+f$/i)?parseInt(a)/65536:parseFloat(a)};v._bool={t:1,"true":1};v._reparentEvents=function(a,b){for(var c in b)"on"==c.substr(0,2).toLowerCase()&&(a[c]=b[c],b[c]=null)};v.Shape=r("dojox.gfx.vml.Shape",f.Shape,{destroy:function(){this.rawNode=null;f.Shape.prototype.destroy.apply(this,arguments)},setFill:function(b){if(!b)return this.fillStyle=null,this.rawNode.filled="f",this;var c,d,f;if("object"==typeof b&&"type"in b){switch(b.type){case"linear":var e=this._getRealMatrix(),i=this.getBoundingBox(),o=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();f=[];if(this.fillStyle!==b)this.fillStyle=a.makeParameters(a.defaultLinearGradient,b);b=a.gradient.project(e,this.fillStyle,{x:i.x,y:i.y},{x:i.x+i.width,y:i.y+i.height},o[0],o[2]);d=b.colors;"0.00000"!=d[0].offset.toFixed(5)&&f.push("0 "+a.normalizeColor(d[0].color).toHex());for(c=0;c<d.length;++c)f.push(d[c].offset.toFixed(5)+" "+a.normalizeColor(d[c].color).toHex());c=d.length-1;"1.00000"!=d[c].offset.toFixed(5)&&f.push("1 "+a.normalizeColor(d[c].color).toHex());c=this.rawNode.fill;c.colors.value=f.join(";");c.method="sigma";c.type="gradient";c.angle=(270-g._radToDeg(b.angle))%360;c.on=!0;break;case"radial":this.fillStyle=b=a.makeParameters(a.defaultRadialGradient,b);var e=parseFloat(this.rawNode.style.left),i=parseFloat(this.rawNode.style.top),o=parseFloat(this.rawNode.style.width),m=parseFloat(this.rawNode.style.height),p=isNaN(o)?1:2*b.r/o;d=[];0<b.colors[0].offset&&d.push({offset:1,color:a.normalizeColor(b.colors[0].color)});k.forEach(b.colors,function(b){d.push({offset:1-b.offset*p,color:a.normalizeColor(b.color)})});for(c=d.length-1;0<=c&&0>d[c].offset;)--c;if(c<d.length-1){f=d[c];var s=d[c+1];s.color=u.blendColors(f.color,s.color,f.offset/(f.offset-s.offset));for(s.offset=0;2<d.length-c;)d.pop()}c=d.length-1;f=[];for(0<d[c].offset&&f.push("0 "+d[c].color.toHex());0<=c;--c)f.push(d[c].offset.toFixed(5)+" "+d[c].color.toHex());c=this.rawNode.fill;c.colors.value=f.join(";");c.method="sigma";c.type="gradientradial";c.focusposition=isNaN(o)||isNaN(m)||isNaN(e)||isNaN(i)?"0.5 0.5":((b.cx-e)/o).toFixed(5)+" "+((b.cy-i)/m).toFixed(5);c.focussize="0 0";c.on=!0;break;case"pattern":this.fillStyle=b=a.makeParameters(a.defaultPattern,b);c=this.rawNode.fill;c.type="tile";c.src=b.src;if(b.width&&b.height)c.size.x=a.px2pt(b.width),c.size.y=a.px2pt(b.height);c.alignShape="f";c.position.x=0;c.position.y=0;c.origin.x=b.width?b.x/b.width:0;c.origin.y=b.height?b.y/b.height:0;c.on=!0}this.rawNode.fill.opacity=1;return this}this.fillStyle=a.normalizeColor(b);(c=this.rawNode.fill)||(c=this.rawNode.ownerDocument.createElement("v:fill"));c.method="any";c.type="solid";c.opacity=this.fillStyle.a;if(f=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"])f.opacity=Math.round(100*this.fillStyle.a);this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=!0;return this},setStroke:function(c){if(!c)return this.strokeStyle=null,this.rawNode.stroked="f",this;if("string"==typeof c||b.isArray(c)||c instanceof u)c={color:c};c=this.strokeStyle=a.makeParameters(a.defaultStroke,c);c.color=a.normalizeColor(c.color);var d=this.rawNode;d.stroked=!0;d.strokecolor=c.color.toCss();d.strokeweight=c.width+"px";if(d.stroke)d.stroke.opacity=c.color.a,d.stroke.endcap=this._translate(this._capMap,c.cap),"number"==typeof c.join?(d.stroke.joinstyle="miter",d.stroke.miterlimit=c.join):d.stroke.joinstyle=c.join,d.stroke.dashstyle="none"==c.style?"Solid":c.style;return this},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(a,b){return b in a?a[b]:b},_applyTransform:function(){var a=this._getRealMatrix();if(a){var b=this.rawNode.skew;if("undefined"==typeof b)for(var c=0;c<this.rawNode.childNodes.length;++c)if("skew"==this.rawNode.childNodes[c].tagName){b=this.rawNode.childNodes[c];break}if(b){b.on="f";var c=a.xx.toFixed(8)+" "+a.xy.toFixed(8)+" "+a.yx.toFixed(8)+" "+a.yy.toFixed(8)+" 0 0",a=Math.floor(a.dx).toFixed()+"px "+Math.floor(a.dy).toFixed()+"px",d=this.rawNode.style,f=parseFloat(d.left),e=parseFloat(d.top),g=parseFloat(d.width),d=parseFloat(d.height);isNaN(f)&&(f=0);isNaN(e)&&(e=0);if(isNaN(g)||!g)g=1;if(isNaN(d)||!d)d=1;f=(-f/g-.5).toFixed(8)+" "+(-e/d-.5).toFixed(8);b.matrix=c;b.origin=f;b.offset=a;b.on=!0}}this.fillStyle&&"linear"==this.fillStyle.type&&this.setFill(this.fillStyle);this.clip&&this.setClip(this.clip);return this},_setDimensions:function(){return this},setRawNode:function(a){a.stroked="f";a.filled="f";this.rawNode=a;this.rawNode.__gfxObject__=this.getUID()},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){var a=this.rawNode,b=a.parentNode,c=b.firstChild;b.insertBefore(a,c);"rect"==c.tagName&&c.swapNode(a);return this},_getRealMatrix:function(){return this.parentMatrix?new g.Matrix2D([this.parentMatrix,this.matrix]):this.matrix},setClip:function(a){this.inherited(arguments);var b=this.rawNode.style;if(a){if("width"in a){var c=this._getRealMatrix(),d=parseFloat(b.left),f=parseFloat(b.top);isNaN(d)&&(d=0);isNaN(f)&&(f=0);var e=g.multiplyRectangle(c,a),c=g.multiplyPoint(c,{x:d,y:f});b.clip="rect("+Math.round(e.y-c.y)+"px "+Math.round(e.x-c.x+e.width)+"px "+Math.round(e.y-c.y+e.height)+"px "+Math.round(e.x-c.x)+"px)"}}else b.position="absolute",b.clip="rect(0px "+b.width+" "+b.height+" 0px)";return this}});v.Group=r("dojox.gfx.vml.Group",v.Shape,{constructor:function(){f.Container._init.call(this)},_applyTransform:function(){for(var a=this._getRealMatrix(),b=0;b<this.children.length;++b)this.children[b]._updateParentMatrix(a);this.clip&&this.setClip(this.clip);return this},_setDimensions:function(a,b){var c=this.rawNode,d=c.style,f=this.bgNode.style;d.width=a;d.height=b;c.coordsize=a+" "+b;f.width=a;f.height=b;for(c=0;c<this.children.length;++c)this.children[c]._setDimensions(a,b);return this},setClip:function(a){this.clip=a;var b=this.rawNode.style;if(a){if("width"in a){var c=this._getRealMatrix(),a=g.multiplyRectangle(c,a),d=this.getBoundingBox(),c=(d=d?g.multiplyRectangle(c,d):null)&&0>d.x?d.x:0,d=d&&0>d.y?d.y:0;b.position="absolute";b.clip="rect("+Math.round(a.y-d)+"px "+Math.round(a.x+a.width-c)+"px "+Math.round(a.y+a.height-d)+"px "+Math.round(a.x-c)+"px)"}}else b.position="absolute",b.clip="rect(0px "+b.width+" "+b.height+" 0px)";return this},destroy:function(){this.clear(!0);v.Shape.prototype.destroy.apply(this,arguments)}});v.Group.nodeType="group";v.Rect=r("dojox.gfx.vml.Rect",[v.Shape,f.Rect],{setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;var c=Math.min(1,b.r/Math.min(parseFloat(b.width),parseFloat(b.height))).toFixed(8),d=this.rawNode.parentNode,f=null;if(d){if(d.lastChild!==this.rawNode)for(var e=0;e<d.childNodes.length;++e)if(d.childNodes[e]===this.rawNode){f=d.childNodes[e+1];break}d.removeChild(this.rawNode)}7<t("ie")?(e=this.rawNode.ownerDocument.createElement("v:roundrect"),e.arcsize=c,e.style.display="inline-block",v._reparentEvents(e,this.rawNode),this.rawNode=e,this.rawNode.__gfxObject__=this.getUID()):this.rawNode.arcsize=c;d&&(f?d.insertBefore(this.rawNode,f):d.appendChild(this.rawNode));c=this.rawNode.style;c.left=b.x.toFixed();c.top=b.y.toFixed();c.width="string"==typeof b.width&&0<=b.width.indexOf("%")?b.width:Math.max(b.width.toFixed(),0);c.height="string"==typeof b.height&&0<=b.height.indexOf("%")?b.height:Math.max(b.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle)}});v.Rect.nodeType="roundrect";v.Ellipse=r("dojox.gfx.vml.Ellipse",[v.Shape,f.Ellipse],{setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;var c=this.rawNode.style;c.left=(b.cx-b.rx).toFixed();c.top=(b.cy-b.ry).toFixed();c.width=(2*b.rx).toFixed();c.height=(2*b.ry).toFixed();return this.setTransform(this.matrix)}});v.Ellipse.nodeType="oval";v.Circle=r("dojox.gfx.vml.Circle",[v.Shape,f.Circle],{setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);
this.bbox=null;var c=this.rawNode.style;c.left=(b.cx-b.r).toFixed();c.top=(b.cy-b.r).toFixed();c.width=(2*b.r).toFixed();c.height=(2*b.r).toFixed();return this}});v.Circle.nodeType="oval";v.Line=r("dojox.gfx.vml.Line",[v.Shape,f.Line],{constructor:function(a){a&&a.setAttribute("dojoGfxType","line")},setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;this.rawNode.path.v="m"+b.x1.toFixed()+" "+b.y1.toFixed()+"l"+b.x2.toFixed()+" "+b.y2.toFixed()+"e";return this.setTransform(this.matrix)}});v.Line.nodeType="shape";v.Polyline=r("dojox.gfx.vml.Polyline",[v.Shape,f.Polyline],{constructor:function(a){a&&a.setAttribute("dojoGfxType","polyline")},setShape:function(b,c){b&&b instanceof Array?(this.shape=a.makeParameters(this.shape,{points:b}),c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=a.makeParameters(this.shape,b);this.bbox=null;this._normalizePoints();var d=[],f=this.shape.points;if(0<f.length&&(d.push("m"),d.push(f[0].x.toFixed(),f[0].y.toFixed()),1<f.length)){d.push("l");for(var e=1;e<f.length;++e)d.push(f[e].x.toFixed(),f[e].y.toFixed())}d.push("e");this.rawNode.path.v=d.join(" ");return this.setTransform(this.matrix)}});v.Polyline.nodeType="shape";v.Image=r("dojox.gfx.vml.Image",[v.Shape,f.Image],{setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;this.rawNode.firstChild.src=b.src;return this.setTransform(this.matrix)},_applyTransform:function(){var a=this._getRealMatrix(),b=this.rawNode,c=b.style,d=this.shape,a=a?g.multiply(a,{dx:d.x,dy:d.y}):g.normalize({dx:d.x,dy:d.y});if(0==a.xy&&0==a.yx&&0<a.xx&&0<a.yy)c.filter="",c.width=Math.floor(a.xx*d.width),c.height=Math.floor(a.yy*d.height),c.left=Math.floor(a.dx),c.top=Math.floor(a.dy);else{var f=b.parentNode.style;c.left="0px";c.top="0px";c.width=f.width;c.height=f.height;a=g.multiply(a,{xx:d.width/parseInt(c.width),yy:d.height/parseInt(c.height)});(b=b.filters["DXImageTransform.Microsoft.Matrix"])?(b.M11=a.xx,b.M12=a.xy,b.M21=a.yx,b.M22=a.yy,b.Dx=a.dx,b.Dy=a.dy):c.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+a.xx+", M12="+a.xy+", M21="+a.yx+", M22="+a.yy+", Dx="+a.dx+", Dy="+a.dy+")"}return this},_setDimensions:function(a,b){var c=this.rawNode;return c.filters["DXImageTransform.Microsoft.Matrix"]?(c=c.style,c.width=a,c.height=b,this._applyTransform()):this}});v.Image.nodeType="rect";v.Text=r("dojox.gfx.vml.Text",[v.Shape,f.Text],{constructor:function(a){a&&a.setAttribute("dojoGfxType","text");this.fontStyle=null},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;var c=this.rawNode,b=this.shape,d=b.x,f=b.y.toFixed();switch(b.align){case"middle":d-=5;break;case"end":d-=10}for(var f="m"+d.toFixed()+","+f+"l"+(d+10).toFixed()+","+f+"e",e=null,d=null,g=c.childNodes,i=0;i<g.length;++i){var k=g[i].tagName;if("path"==k){if(e=g[i],d)break}else if("textpath"==k&&(d=g[i],e))break}e||(e=c.ownerDocument.createElement("v:path"),c.appendChild(e));d||(d=c.ownerDocument.createElement("v:textpath"),c.appendChild(d));e.v=f;e.textPathOk=!0;d.on=!0;c=v.text_alignment[b.align];d.style["v-text-align"]=c?c:"left";d.style["text-decoration"]=b.decoration;d.style["v-rotate-letters"]=b.rotated;d.style["v-text-kern"]=b.kerning;d.string=b.text;return this.setTransform(this.matrix)},_setFont:function(){for(var b=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if("textpath"==c[d].tagName){c[d].style.font=a.makeFontString(b);break}this.setTransform(this.matrix)},_getRealMatrix:function(){var b=this.inherited(arguments);b&&(b=g.multiply(b,{dy:.35*-a.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")}));return b},getTextWidth:function(){var b=this.rawNode,c=b.style.display;b.style.display="inline";var d=a.pt2px(parseFloat(b.currentStyle.width));b.style.display=c;return d}});v.Text.nodeType="shape";v.Path=r("dojox.gfx.vml.Path",[v.Shape,i.Path],{constructor:function(a){a&&!a.getAttribute("dojoGfxType")&&a.setAttribute("dojoGfxType","path");this.vmlPath="";this.lastControl={}},_updateWithSegment:function(a){var c=b.clone(this.last);this.inherited(arguments);if(!(1<arguments.length))c=this[this.renderers[a.action]](a,c),"string"==typeof this.vmlPath?(this.vmlPath+=c.join(""),this.rawNode.path.v=this.vmlPath+" r0,0 e"):Array.prototype.push.apply(this.vmlPath,c)},setShape:function(a){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(a,b,c,d){for(b=b instanceof Array?b:b.args;c<d;++c)a.push(" ",b[c].toFixed())},_adjustRelCrd:function(a,b,c){var b=b instanceof Array?b:b.args,d=b.length,f=Array(d),e=0,g=a.x,a=a.y;"number"!=typeof g&&(f[0]=g=b[0],f[1]=a=b[1],e=2);if("number"==typeof c&&2!=c)for(var i=c;i<=d;){for(;e<i;e+=2)f[e]=g+b[e],f[e+1]=a+b[e+1];g=f[i-2];a=f[i-1];i+=c}else for(;e<d;e+=2)f[e]=g+=b[e],f[e+1]=a+=b[e+1];return f},_adjustRelPos:function(a,b){for(var c=b instanceof Array?b:b.args,d=c.length,f=Array(d),e=0;e<d;++e)f[e]=a+=c[e];return f},_moveToA:function(a){var b=[" m"],a=a instanceof Array?a:a.args,c=a.length;this._addArgs(b,a,0,2);2<c&&(b.push(" l"),this._addArgs(b,a,2,c));this.lastControl.type="";return b},_moveToR:function(a,b){return this._moveToA(this._adjustRelCrd(b,a))},_lineToA:function(a){var b=[" l"],a=a instanceof Array?a:a.args;this._addArgs(b,a,0,a.length);this.lastControl.type="";return b},_lineToR:function(a,b){return this._lineToA(this._adjustRelCrd(b,a))},_hLineToA:function(a,b){for(var c=[" l"],d=" "+b.y.toFixed(),f=a instanceof Array?a:a.args,e=f.length,g=0;g<e;++g)c.push(" ",f[g].toFixed(),d);this.lastControl.type="";return c},_hLineToR:function(a,b){return this._hLineToA(this._adjustRelPos(b.x,a),b)},_vLineToA:function(a,b){for(var c=[" l"],d=" "+b.x.toFixed(),f=a instanceof Array?a:a.args,e=f.length,g=0;g<e;++g)c.push(d," ",f[g].toFixed());this.lastControl.type="";return c},_vLineToR:function(a,b){return this._vLineToA(this._adjustRelPos(b.y,a),b)},_curveToA:function(a){for(var b=[],a=a instanceof Array?a:a.args,c=a.length,d=this.lastControl,f=0;f<c;f+=6)b.push(" c"),this._addArgs(b,a,f,f+6);d.x=a[c-4];d.y=a[c-3];d.type="C";return b},_curveToR:function(a,b){return this._curveToA(this._adjustRelCrd(b,a,6))},_smoothCurveToA:function(a,b){var c=[],d=a instanceof Array?a:a.args,f=d.length,e=this.lastControl,g=0;if("C"!=e.type)c.push(" c"),this._addArgs(c,[b.x,b.y],0,2),this._addArgs(c,d,0,4),e.x=d[0],e.y=d[1],e.type="C",g=4;for(;g<f;g+=4)c.push(" c"),this._addArgs(c,[2*b.x-e.x,2*b.y-e.y],0,2),this._addArgs(c,d,g,g+4),e.x=d[g],e.y=d[g+1];return c},_smoothCurveToR:function(a,b){return this._smoothCurveToA(this._adjustRelCrd(b,a,4),b)},_qCurveToA:function(a){for(var b=[],a=a instanceof Array?a:a.args,c=a.length,d=this.lastControl,f=0;f<c;f+=4)b.push(" qb"),this._addArgs(b,a,f,f+4);d.x=a[c-4];d.y=a[c-3];d.type="Q";return b},_qCurveToR:function(a,b){return this._qCurveToA(this._adjustRelCrd(b,a,4))},_qSmoothCurveToA:function(a,b){var c=[],d=a instanceof Array?a:a.args,f=d.length,e=this.lastControl,g=0;if("Q"!=e.type)c.push(" qb"),this._addArgs(c,[e.x=b.x,e.y=b.y],0,2),e.type="Q",this._addArgs(c,d,0,2),g=2;for(;g<f;g+=2)c.push(" qb"),this._addArgs(c,[e.x=2*b.x-e.x,e.y=2*b.y-e.y],0,2),this._addArgs(c,d,g,g+2);return c},_qSmoothCurveToR:function(a,b){return this._qSmoothCurveToA(this._adjustRelCrd(b,a,2),b)},_arcTo:function(a,b){for(var d=[],f=a.args,e=f.length,g="a"==a.action,i=0;i<e;i+=7){var k=f[i+5],o=f[i+6];g&&(k+=b.x,o+=b.y);for(var m=c.arcAsBezier(b,f[i],f[i+1],f[i+2],f[i+3]?1:0,f[i+4]?1:0,k,o),p=0;p<m.length;++p){d.push(" c");var s=m[p];this._addArgs(d,s,0,s.length);this._updateBBox(s[0],s[1]);this._updateBBox(s[2],s[3]);this._updateBBox(s[4],s[5])}b.x=k;b.y=o}this.lastControl.type="";return d},_closePath:function(){this.lastControl.type="";return["x"]}});v.Path.nodeType="shape";v.TextPath=r("dojox.gfx.vml.TextPath",[v.Path,i.TextPath],{constructor:function(c){c&&c.setAttribute("dojoGfxType","textpath");this.fontStyle=null;if(!("text"in this))this.text=b.clone(a.defaultTextPath);if(!("fontStyle"in this))this.fontStyle=b.clone(a.defaultFont)},setText:function(b){this.text=a.makeParameters(this.text,"string"==typeof b?{text:b}:b);this._setText();return this},setFont:function(b){this.fontStyle="string"==typeof b?a.splitFontString(b):a.makeParameters(a.defaultFont,b);this._setFont();return this},_setText:function(){this.bbox=null;for(var a=this.rawNode,b=this.text,c=null,d=null,f=a.childNodes,e=0;e<f.length;++e){var g=f[e].tagName;if("path"==g){if(c=f[e],d)break}else if("textpath"==g&&(d=f[e],c))break}c||(c=this.rawNode.ownerDocument.createElement("v:path"),a.appendChild(c));d||(d=this.rawNode.ownerDocument.createElement("v:textpath"),a.appendChild(d));c.textPathOk=!0;d.on=!0;a=v.text_alignment[b.align];d.style["v-text-align"]=a?a:"left";d.style["text-decoration"]=b.decoration;d.style["v-rotate-letters"]=b.rotated;d.style["v-text-kern"]=b.kerning;d.string=b.text},_setFont:function(){for(var b=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if("textpath"==c[d].tagName){c[d].style.font=a.makeFontString(b);break}}});v.TextPath.nodeType="shape";v.Surface=r("dojox.gfx.vml.Surface",f.Surface,{constructor:function(){f.Container._init.call(this)},destroy:function(){this.clear(!0);this.inherited(arguments)},setDimensions:function(b,c){this.width=a.normalizedLength(b);this.height=a.normalizedLength(c);if(!this.rawNode)return this;var d=this.clipNode.style,f=this.rawNode,e=f.style,g=this.bgNode.style,i=this._parent.style;i.width=b;i.height=c;d.width=b;d.height=c;d.clip="rect(0px "+b+"px "+c+"px 0px)";e.width=b;e.height=c;f.coordsize=b+" "+c;g.width=b;g.height=c;for(d=0;d<this.children.length;++d)this.children[d]._setDimensions(b,c);return this},getDimensions:function(){var b=this.rawNode?{width:a.normalizedLength(this.rawNode.style.width),height:a.normalizedLength(this.rawNode.style.height)}:null;if(0>=b.width)b.width=this.width;if(0>=b.height)b.height=this.height;return b}});v.createSurface=function(b,c,d){if(!c&&!d)var f=o.position(b),c=c||f.w,d=d||f.h;"number"==typeof c&&(c+="px");"number"==typeof d&&(d+="px");var f=new v.Surface,b=p.byId(b),e=f.clipNode=b.ownerDocument.createElement("div"),g=f.rawNode=b.ownerDocument.createElement("v:group"),i=e.style,k=g.style;if(7<t("ie"))k.display="inline-block";f._parent=b;f._nodes.push(e);b.style.width=c;b.style.height=d;i.position="absolute";i.width=c;i.height=d;i.clip="rect(0px "+c+" "+d+" 0px)";k.position="absolute";k.width=c;k.height=d;g.coordsize=("100%"===c?c:parseFloat(c))+" "+("100%"===d?d:parseFloat(d));g.coordorigin="0 0";var i=f.bgNode=g.ownerDocument.createElement("v:rect"),m=i.style;m.left=m.top=0;m.width=k.width;m.height=k.height;i.filled=i.stroked="f";g.appendChild(i);e.appendChild(g);b.appendChild(e);f.width=a.normalizedLength(c);f.height=a.normalizedLength(d);return f};var G=f.Container,r={add:!0===m.fixVmlAdd?function(a){if(this!=a.getParent()){var b=a.getParent();b&&b.remove(a);this.rawNode.appendChild(a.rawNode);G.add.apply(this,arguments);d(this,function(a){"function"==typeof a.getFont&&(a.setShape(a.getShape()),a.setFont(a.getFont()));"function"==typeof a.setFill&&(a.setFill(a.getFill()),a.setStroke(a.getStroke()))})}return this}:function(a){this!=a.getParent()&&(this.rawNode.appendChild(a.rawNode),a.getParent()||(a.setFill(a.getFill()),a.setStroke(a.getStroke())),G.add.apply(this,arguments));return this},remove:function(a,b){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),G.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.firstChild!=a.lastChild;)a.firstChild!=this.bgNode&&a.removeChild(a.firstChild),a.lastChild!=this.bgNode&&a.removeChild(a.lastChild);return G.clear.apply(this,arguments)},getBoundingBox:G.getBoundingBox,_moveChildToFront:G._moveChildToFront,_moveChildToBack:G._moveChildToBack},m={createGroup:function(){var a=this.createObject(v.Group,null),b=a.rawNode.ownerDocument.createElement("v:rect");b.style.left=b.style.top=0;b.style.width=a.rawNode.style.width;b.style.height=a.rawNode.style.height;b.filled=b.stroked="f";a.rawNode.appendChild(b);a.bgNode=b;return a},createImage:function(a){if(!this.rawNode)return null;var b=new v.Image,c=this.rawNode.ownerDocument,d=c.createElement("v:rect");d.stroked="f";d.style.width=this.rawNode.style.width;d.style.height=this.rawNode.style.height;c=c.createElement("v:imagedata");d.appendChild(c);b.setRawNode(d);this.rawNode.appendChild(d);b.setShape(a);this.add(b);return b},createRect:function(a){if(!this.rawNode)return null;var b=new v.Rect,c=this.rawNode.ownerDocument.createElement("v:roundrect");if(7<t("ie"))c.style.display="inline-block";b.setRawNode(c);this.rawNode.appendChild(c);b.setShape(a);this.add(b);return b},createObject:function(a,b){if(!this.rawNode)return null;var c=new a,d=this.rawNode.ownerDocument.createElement("v:"+a.nodeType);c.setRawNode(d);this.rawNode.appendChild(d);switch(a){case v.Group:case v.Line:case v.Polyline:case v.Image:case v.Text:case v.Path:case v.TextPath:this._overrideSize(d)}c.setShape(b);this.add(c);return c},_overrideSize:function(a){var b=this.rawNode.style,c=b.width,b=b.height;a.style.width=c;a.style.height=b;a.coordsize=parseInt(c)+" "+parseInt(b)}};b.extend(v.Group,r);b.extend(v.Group,f.Creator);b.extend(v.Group,m);b.extend(v.Surface,r);b.extend(v.Surface,f.Creator);b.extend(v.Surface,m);v.fixTarget=function(a){if(!a.gfxTarget)a.gfxTarget=f.byId(a.target.__gfxObject__);return!0};return v})},"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(b,r,k){function u(a){var b=Math.cos(a),a=Math.sin(a),i={x:b+4/3*(1-b),y:a-4/3*b*(1-b)/a};return{s:{x:b,y:-a},c1:{x:i.x,y:-i.y},c2:i,e:{x:b,y:a}}}var t=2*Math.PI,m=Math.PI/4,p=Math.PI/8,o=m+p,s=u(p);return b.arc={unitArcAsBezier:u,curvePI4:s,arcAsBezier:function(a,b,i,c,e,g,d,r){var e=Boolean(e),g=Boolean(g),E=k._degToRad(c),c=b*b,J=i*i,C=k.multiplyPoint(k.rotate(-E),{x:(a.x-d)/2,y:(a.y-r)/2}),G=C.x*C.x,z=C.y*C.y,c=Math.sqrt((c*J-c*z-J*G)/(c*z+J*G));isNaN(c)&&(c=0);c={x:c*b*C.y/i,y:-c*i*C.x/b};e==g&&(c={x:-c.x,y:-c.y});c=k.multiplyPoint([k.translate((a.x+d)/2,(a.y+r)/2),k.rotate(E)],c);b=k.normalize([k.translate(c.x,c.y),k.rotate(E),k.scale(b,i)]);c=k.invert(b);a=k.multiplyPoint(c,a);r=k.multiplyPoint(c,d,r);d=Math.atan2(a.y,a.x);r=Math.atan2(r.y,r.x);c=d-r;g&&(c=-c);0>c?c+=t:c>t&&(c-=t);i=p;r=s;i=g?i:-i;a=[];for(e=c;0<e;e-=m)e<o&&(i=e/2,r=u(i),i=g?i:-i,e=0),C=k.normalize([b,k.rotate(d+i)]),g?(c=k.multiplyPoint(C,r.c1),E=k.multiplyPoint(C,r.c2),C=k.multiplyPoint(C,r.e)):(c=k.multiplyPoint(C,r.c2),E=k.multiplyPoint(C,r.c1),C=k.multiplyPoint(C,r.s)),a.push([c.x,c.y,E.x,E.y,C.x,C.y]),d+=2*i;return a}}})},"dojox/gfx/gradient":function(){define(["dojo/_base/lang","./matrix","dojo/_base/Color"],function(b,r,k){function u(b,k,m,a,f,i){b=r.multiplyPoint(m,b,k);a=r.multiplyPoint(a,b);return{r:b,p:a,o:r.multiplyPoint(f,a).x/i}}function t(b,k){return b.o-k.o}var m=b.getObject("dojox.gfx.gradient",!0);m.rescale=function(b,o,m){var a=b.length,f=m<o,i;f&&(i=o,o=m,m=i);if(!a)return[];if(m<=b[0].offset)i=[{offset:0,color:b[0].color},{offset:1,color:b[0].color}];else if(o>=b[a-1].offset)i=[{offset:0,color:b[a-1].color},{offset:1,color:b[a-1].color}];else{var c=m-o,e,g,d;i=[];0>o&&i.push({offset:0,color:new k(b[0].color)});for(d=0;d<a&&!(e=b[d],e.offset>=o);++d);d?(g=b[d-1],i.push({offset:0,color:k.blendColors(new k(g.color),new k(e.color),(o-g.offset)/(e.offset-g.offset))})):i.push({offset:0,color:new k(e.color)});for(;d<a;++d){e=b[d];if(e.offset>=m)break;i.push({offset:(e.offset-o)/c,color:new k(e.color)})}d<a?(g=b[d-1],i.push({offset:1,color:k.blendColors(new k(g.color),new k(e.color),(m-g.offset)/(e.offset-g.offset))})):i.push({offset:1,color:new k(b[a-1].color)})}if(f){i.reverse();for(d=0,a=i.length;d<a;++d)e=i[d],e.offset=1-e.offset}return i};m.project=function(b,k,s,a){var b=b||r.identity,f=r.multiplyPoint(b,k.x1,k.y1),i=r.multiplyPoint(b,k.x2,k.y2),c=Math.atan2(i.y-f.y,i.x-f.x),e=r.project(i.x-f.x,i.y-f.y),f=r.multiplyPoint(e,f),i=r.multiplyPoint(e,i),f=new r.Matrix2D([r.rotate(-c),{dx:-f.x,dy:-f.y}]),i=r.multiplyPoint(f,i).x,b=[u(s.x,s.y,b,e,f,i),u(a.x,a.y,b,e,f,i),u(s.x,a.y,b,e,f,i),u(a.x,s.y,b,e,f,i)].sort(t),k=m.rescale(k.colors,b[0].o,b[3].o);Math.atan2(b[3].r.y-b[0].r.y,b[3].r.x-b[0].r.x);return{type:"linear",x1:b[0].p.x,y1:b[0].p.y,x2:b[3].p.x,y2:b[3].p.y,colors:k,angle:c}};return m})},"dojo/colors":function(){define("dojo/colors",["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(b,r,k,u){var t={};r.setObject("dojo.colors",t);var m=function(b,k,a){0>a&&++a;1<a&&--a;var f=6*a;return 1>f?b+(k-b)*f:1>2*a?k:2>3*a?b+6*(k-b)*(2/3-a):b};b.colorFromRgb=k.fromRgb=function(b,p){var a=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var f=a[2].split(/\s*,\s*/),i=f.length,a=a[1];if("rgb"==a&&3==i||"rgba"==a&&4==i){a=f[0];return"%"==a.charAt(a.length-1)?(a=u.map(f,function(a){return 2.56*parseFloat(a)}),4==i&&(a[3]=f[3]),k.fromArray(a,p)):k.fromArray(f,p)}if("hsl"==a&&3==i||"hsla"==a&&4==i){var a=(parseFloat(f[0])%360+360)%360/360,c=parseFloat(f[1])/100,e=parseFloat(f[2])/100,c=.5>=e?e*(c+1):e+c-e*c,e=2*e-c,a=[256*m(e,c,a+1/3),256*m(e,c,a),256*m(e,c,a-1/3),1];4==i&&(a[3]=f[3]);return k.fromArray(a,p)}}return null};var p=function(b,k,a){b=Number(b);return isNaN(b)?a:b<k?k:b>a?a:b};k.prototype.sanitize=function(){this.r=Math.round(p(this.r,0,255));this.g=Math.round(p(this.g,0,255));this.b=Math.round(p(this.b,0,255));this.a=p(this.a,0,1);return this};t.makeGrey=k.makeGrey=function(b,m){return k.fromArray([b,b,b,m])};r.mixin(k.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return k})},"dojox/gfx/silverlight_attach":function(){define(["dojo/_base/kernel","dojo/_base/lang","./_base","./silverlight"],function(b,r,k,u){r.getObject("dojox.gfx.silverlight_attach",!0);b.experimental("dojox.gfx.silverlight_attach");u.attachNode=function(){return null};u.attachSurface=function(){return null};return u})},"dojox/gfx/silverlight":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/declare,dojo/_base/Color,dojo/_base/array,dojo/dom-geometry,dojo/dom,dojo/_base/sniff,./_base,./shape,./path".split(","),function(b,r,k,u,t,m,p,o,s,a,f){function i(a){var b=s.normalizeColor(a),a=b.toHex(),b=Math.round(255*b.a),b=(0>b?0:255<b?255:b).toString(16);return"#"+(2>b.length?"0"+b:b)+a.slice(1)}function c(b,c){var d={target:b,currentTarget:b,preventDefault:function(){},stopPropagation:function(){}};try{if(c.source)d.target=c.source,d.gfxTarget=a.byId(d.target.tag)}catch(f){}if(c)try{d.ctrlKey=c.ctrl;d.shiftKey=c.shift;var e=c.getPosition(null);d.x=d.offsetX=d.layerX=e.x;d.y=d.offsetY=d.layerY=e.y;var g=G[b.getHost().content.root.name],i=m.position(g);d.clientX=i.x+e.x;d.clientY=i.y+e.y}catch(k){}return d}function e(b,c){var d={keyCode:c.platformKeyCode,ctrlKey:c.ctrl,shiftKey:c.shift};try{if(c.source)d.target=c.source,d.gfxTarget=a.byId(d.target.tag)}catch(f){}return d}var g=s.silverlight={};b.experimental("dojox.gfx.silverlight");var d={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},v={normal:400,bold:700},E={butt:"Flat",round:"Round",square:"Square"},J={bevel:"Bevel",round:"Round"},C={serif:"Times New Roman",times:"Times New Roman","sans-serif":"Arial",helvetica:"Arial",monotone:"Courier New",courier:"Courier New"};g.Shape=k("dojox.gfx.silverlight.Shape",a.Shape,{destroy:function(){this.rawNode=null;a.Shape.prototype.destroy.apply(this,arguments)},setFill:function(a){var b=this.rawNode.getHost().content;if(!a)return this.fillStyle=null,this._setFillAttr(null),this;if("object"==typeof a&&"type"in a){switch(a.type){case"linear":this.fillStyle=a=s.makeParameters(s.defaultLinearGradient,a);var c=b.createFromXaml("<LinearGradientBrush/>");c.mappingMode="Absolute";c.startPoint=a.x1+","+a.y1;c.endPoint=a.x2+","+a.y2;t.forEach(a.colors,function(a){var d=b.createFromXaml("<GradientStop/>");d.offset=a.offset;d.color=i(a.color);c.gradientStops.add(d)});this._setFillAttr(c);break;case"radial":this.fillStyle=a=s.makeParameters(s.defaultRadialGradient,a);var d=b.createFromXaml("<RadialGradientBrush/>"),f=s.matrix.multiplyPoint(s.matrix.invert(this._getAdjustedMatrix()),a.cx,a.cy),f=f.x+","+f.y;d.mappingMode="Absolute";d.gradientOrigin=f;d.center=f;d.radiusX=d.radiusY=a.r;t.forEach(a.colors,function(a){var c=b.createFromXaml("<GradientStop/>");c.offset=a.offset;c.color=i(a.color);d.gradientStops.add(c)});this._setFillAttr(d);break;case"pattern":this.fillStyle=null,this._setFillAttr(null)}return this}this.fillStyle=a=s.normalizeColor(a);f=b.createFromXaml("<SolidColorBrush/>");f.color=a.toHex();f.opacity=a.a;this._setFillAttr(f);return this},_setFillAttr:function(a){this.rawNode.fill=a},setStroke:function(a){var b=this.rawNode.getHost().content,c=this.rawNode;if(!a)return this.strokeStyle=null,c.stroke=null,this;if("string"==typeof a||r.isArray(a)||a instanceof u)a={color:a};a=this.strokeStyle=s.makeParameters(s.defaultStroke,a);a.color=s.normalizeColor(a.color);if(a)if(b=b.createFromXaml("<SolidColorBrush/>"),b.color=a.color.toHex(),b.opacity=a.color.a,c.stroke=b,c.strokeThickness=a.width,c.strokeStartLineCap=c.strokeEndLineCap=c.strokeDashCap=E[a.cap],"number"==typeof a.join?(c.strokeLineJoin="Miter",c.strokeMiterLimit=a.join):c.strokeLineJoin=J[a.join],b=a.style.toLowerCase(),b in d&&(b=d[b]),b instanceof Array){b=r.clone(b);if("butt"!=a.cap){for(a=0;a<b.length;a+=2)--b[a],1>b[a]&&(b[a]=1);for(a=1;a<b.length;a+=2)++b[a]}c.strokeDashArray=b.join(",")}else c.strokeDashArray=null;return this},_getParentSurface:function(){for(var a=this.parent;a&&!(a instanceof s.Surface);a=a.parent);return a},_applyTransform:function(){var a=this._getAdjustedMatrix(),b=this.rawNode;if(a){var c=this.rawNode.getHost().content,d=c.createFromXaml("<MatrixTransform/>"),c=c.createFromXaml("<Matrix/>");c.m11=a.xx;c.m21=a.xy;c.m12=a.yx;c.m22=a.yy;c.offsetX=a.dx;c.offsetY=a.dy;d.matrix=c;b.renderTransform=d}else b.renderTransform=null;return this},setRawNode:function(a){a.fill=null;a.stroke=null;this.rawNode=a;this.rawNode.tag=this.getUID()},_moveToFront:function(){var a=this.parent.rawNode.children,b=this.rawNode;a.remove(b);a.add(b);return this},_moveToBack:function(){var a=this.parent.rawNode.children,b=this.rawNode;a.remove(b);a.insert(0,b);return this},_getAdjustedMatrix:function(){return this.matrix},setClip:function(a){this.inherited(arguments);var b=this.rawNode;if(a){var c=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!c)return this;var d=this.getBoundingBox()||{x:0,y:0,width:0,height:0},f="1,0,0,1,"+-d.x+","+-d.y;switch(c){case"rect":b.clip=b.getHost().content.createFromXaml("<RectangleGeometry/>");b.clip.rect=a.x+","+a.y+","+a.width+","+a.height;b.clip.transform=f;break;case"ellipse":b.clip=b.getHost().content.createFromXaml("<EllipseGeometry/>");b.clip.center=a.cx+","+a.cy;b.clip.radiusX=a.rx;b.clip.radiusY=a.ry;b.clip.transform="1,0,0,1,"+-d.x+","+-d.y;break;case"polyline":if(2<a.points.length){var f=b.getHost().content.createFromXaml("<PathGeometry/>"),e=b.getHost().content.createFromXaml("<PathFigure/>");e.StartPoint=a.points[0]+","+a.points[1];for(var g=2;g<=a.points.length-2;g+=2)c=b.getHost().content.createFromXaml("<LineSegment/>"),c.Point=a.points[g]+","+a.points[g+1],e.segments.add(c);f.figures.add(e);f.transform="1,0,0,1,"+-d.x+","+-d.y;b.clip=f}}}else b.clip=null;return this}});g.Group=k("dojox.gfx.silverlight.Group",g.Shape,{constructor:function(){a.Container._init.call(this)},setRawNode:function(a){this.rawNode=a;this.rawNode.tag=this.getUID()},destroy:function(){this.clear(!0);g.Shape.prototype.destroy.apply(this,arguments)}});g.Group.nodeType="Canvas";g.Rect=k("dojox.gfx.silverlight.Rect",[g.Shape,a.Rect],{setShape:function(a){this.shape=s.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b=this.shape;a.width=b.width;a.height=b.height;a.radiusX=a.radiusY=b.r;return this._applyTransform()},_getAdjustedMatrix:function(){var a=this.matrix,b=this.shape,b={dx:b.x,dy:b.y};return new s.Matrix2D(a?[a,b]:b)}});g.Rect.nodeType="Rectangle";g.Ellipse=k("dojox.gfx.silverlight.Ellipse",[g.Shape,a.Ellipse],{setShape:function(a){this.shape=s.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b=this.shape;a.width=2*b.rx;a.height=2*b.ry;return this._applyTransform()},_getAdjustedMatrix:function(){var a=this.matrix,b=this.shape,b={dx:b.cx-b.rx,dy:b.cy-b.ry};return new s.Matrix2D(a?[a,b]:b)}});g.Ellipse.nodeType="Ellipse";g.Circle=k("dojox.gfx.silverlight.Circle",[g.Shape,a.Circle],{setShape:function(a){this.shape=s.makeParameters(this.shape,a);this.bbox=null;a=this.rawNode;a.width=a.height=2*this.shape.r;return this._applyTransform()},_getAdjustedMatrix:function(){var a=this.matrix,b=this.shape,b={dx:b.cx-b.r,dy:b.cy-b.r};return new s.Matrix2D(a?[a,b]:b)}});g.Circle.nodeType="Ellipse";g.Line=k("dojox.gfx.silverlight.Line",[g.Shape,a.Line],{setShape:function(a){this.shape=s.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b=this.shape;a.x1=b.x1;a.y1=b.y1;a.x2=b.x2;a.y2=b.y2;return this}});g.Line.nodeType="Line";g.Polyline=k("dojox.gfx.silverlight.Polyline",[g.Shape,a.Polyline],{setShape:function(a,b){a&&a instanceof Array?(this.shape=s.makeParameters(this.shape,{points:a}),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=s.makeParameters(this.shape,a);this.bbox=null;this._normalizePoints();for(var c=this.shape.points,d=[],f=0;f<c.length;++f)d.push(c[f].x,c[f].y);this.rawNode.points=d.join(",");return this}});g.Polyline.nodeType="Polyline";g.Image=k("dojox.gfx.silverlight.Image",[g.Shape,a.Image],{setShape:function(a){this.shape=s.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b=this.shape;a.width=b.width;a.height=b.height;a.source=b.src;return this._applyTransform()},_getAdjustedMatrix:function(){var a=this.matrix,b=this.shape,b={dx:b.x,dy:b.y};return new s.Matrix2D(a?[a,b]:b)},setRawNode:function(a){this.rawNode=a;this.rawNode.tag=this.getUID()}});g.Image.nodeType="Image";g.Text=k("dojox.gfx.silverlight.Text",[g.Shape,a.Text],{setShape:function(a){this.shape=s.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b=this.shape;a.text=""+b.text;a.textDecorations="underline"===b.decoration?"Underline":"None";a["Canvas.Left"]=-1e4;a["Canvas.Top"]=-1e4;if(!this._delay)this._delay=window.setTimeout(r.hitch(this,"_delayAlignment"),10);return this},_delayAlignment:function(){var a=this.rawNode,b=this.shape,c,d;try{c=a.actualWidth,d=a.actualHeight}catch(f){return}var e=b.x;d=b.y-.75*d;switch(b.align){case"middle":e-=c/2;break;case"end":e-=c}this._delta={dx:e,dy:d};a["Canvas.Left"]=0;a["Canvas.Top"]=0;this._applyTransform();delete this._delay},_getAdjustedMatrix:function(){var a=this.matrix,b=this._delta;return new s.Matrix2D(a?b?[a,b]:a:b?b:{})},setStroke:function(){return this},_setFillAttr:function(a){this.rawNode.foreground=a},setRawNode:function(a){this.rawNode=a;this.rawNode.tag=this.getUID()},getTextWidth:function(){return this.rawNode.actualWidth}});g.Text.nodeType="TextBlock";g.Path=k("dojox.gfx.silverlight.Path",[g.Shape,f.Path],{_updateWithSegment:function(a){this.inherited(arguments);var b=this.shape.path;if("string"==typeof b)this.rawNode.data=b?b:null},setShape:function(a){this.inherited(arguments);var b=this.shape.path;this.rawNode.data=b?b:null;return this}});g.Path.nodeType="Path";g.TextPath=k("dojox.gfx.silverlight.TextPath",[g.Shape,f.TextPath],{_updateWithSegment:function(){},setShape:function(){},_setText:function(){}});g.TextPath.nodeType="text";var G={},z=new Function;g.Surface=k("dojox.gfx.silverlight.Surface",a.Surface,{constructor:function(){a.Container._init.call(this)},destroy:function(){this.clear(!0);window[this._onLoadName]=z;delete G[this._nodeName];this.inherited(arguments)},setDimensions:function(a,b){this.width=s.normalizedLength(a);this.height=s.normalizedLength(b);var c=this.rawNode&&this.rawNode.getHost();if(c)c.width=a,c.height=b;return this},getDimensions:function(){var a=this.rawNode&&this.rawNode.getHost(),a=a?{width:a.content.actualWidth,height:a.content.actualHeight}:null;if(0>=a.width)a.width=this.width;if(0>=a.height)a.height=this.height;return a}});g.createSurface=function(a,b,c){if(!b&&!c)var d=m.position(a),b=b||d.w,c=c||d.h;"number"==typeof b&&(b+="px");"number"==typeof c&&(c+="px");var f=new g.Surface,a=p.byId(a);f._parent=a;f._nodeName=s._base._getUniqueId();
d=a.ownerDocument.createElement("script");d.type="text/xaml";d.id=s._base._getUniqueId();d.text="<?xml version='1.0'?><Canvas xmlns='http://schemas.microsoft.com/client/2007' Name='"+f._nodeName+"'/>";a.parentNode.insertBefore(d,a);f._nodes.push(d);var e=s._base._getUniqueId(),i="__"+s._base._getUniqueId()+"_onLoad";f._onLoadName=i;window[i]=function(){if(!f.rawNode)f.rawNode=p.byId(e).content.root,G[f._nodeName]=a,f.onLoad(f)};d=o("safari")?"<embed type='application/x-silverlight' id='"+e+"' width='"+b+"' height='"+c+" background='transparent' source='#"+d.id+"' windowless='true' maxFramerate='60' onLoad='"+i+"' onError='__dojoSilverlightError' /><iframe style='visibility:hidden;height:0;width:0'/>":"<object type='application/x-silverlight' data='data:application/x-silverlight,' id='"+e+"' width='"+b+"' height='"+c+"'><param name='background' value='transparent' /><param name='source' value='#"+d.id+"' /><param name='windowless' value='true' /><param name='maxFramerate' value='60' /><param name='onLoad' value='"+i+"' /><param name='onError' value='__dojoSilverlightError' /></object>";a.innerHTML=d;d=p.byId(e);d.content&&d.content.root?(f.rawNode=d.content.root,G[f._nodeName]=a):(f.rawNode=null,f.isLoaded=!1);f._nodes.push(d);f.width=s.normalizedLength(b);f.height=s.normalizedLength(c);return f};__dojoSilverlightError=function(){};var x=a.Container,b={add:function(a){this!=a.getParent()&&(x.add.apply(this,arguments),this.rawNode.children.add(a.rawNode));return this},remove:function(a,b){if(this==a.getParent()){var c=a.rawNode.getParent();c&&c.children.remove(a.rawNode);x.remove.apply(this,arguments)}return this},clear:function(){this.rawNode.children.clear();return x.clear.apply(this,arguments)},getBoundingBox:x.getBoundingBox,_moveChildToFront:x._moveChildToFront,_moveChildToBack:x._moveChildToBack},k={createObject:function(a,b){if(!this.rawNode)return null;var c=new a,d=this.rawNode.getHost().content.createFromXaml("<"+a.nodeType+"/>");c.setRawNode(d);c.setShape(b);this.add(c);return c}};r.extend(g.Text,{_setFont:function(){var a=this.fontStyle,b=this.rawNode,c=a.family.toLowerCase();b.fontStyle="italic"==a.style?"Italic":"Normal";b.fontWeight=a.weight in v?v[a.weight]:a.weight;b.fontSize=s.normalizedLength(a.size);b.fontFamily=c in C?C[c]:a.family;if(!this._delay)this._delay=window.setTimeout(r.hitch(this,"_delayAlignment"),10)}});r.extend(g.Group,b);r.extend(g.Group,a.Creator);r.extend(g.Group,k);r.extend(g.Surface,b);r.extend(g.Surface,a.Creator);r.extend(g.Surface,k);var P={onclick:{name:"MouseLeftButtonUp",fix:c},onmouseenter:{name:"MouseEnter",fix:c},onmouseleave:{name:"MouseLeave",fix:c},onmouseover:{name:"MouseEnter",fix:c},onmouseout:{name:"MouseLeave",fix:c},onmousedown:{name:"MouseLeftButtonDown",fix:c},onmouseup:{name:"MouseLeftButtonUp",fix:c},onmousemove:{name:"MouseMove",fix:c},onkeydown:{name:"KeyDown",fix:e},onkeyup:{name:"KeyUp",fix:e}},b={connect:function(a,b,c){var d,f=a in P?P[a]:{name:a,fix:function(){return{}}};d=2<arguments.length?this.getEventSource().addEventListener(f.name,function(a,d){r.hitch(b,c)(f.fix(a,d))}):this.getEventSource().addEventListener(f.name,function(a,c){b(f.fix(a,c))});return{name:f.name,token:d}},disconnect:function(a){try{this.getEventSource().removeEventListener(a.name,a.token)}catch(b){}}};r.extend(g.Shape,b);r.extend(g.Surface,b);s.equalSources=function(a,b){return a&&b&&a.equals(b)};return g})},"dojox/gfx/canvas_attach":function(){define(["dojo/_base/lang","dojo/_base/kernel","dojox/gfx/canvas"],function(b,r,k){b.getObject("dojox.gfx.canvas_attach",!0);r.experimental("dojox.gfx.canvas_attach");k.attachSurface=k.attachNode=function(){return null};return k})},"dojox/gfx/canvas":function(){define("./_base,dojo/_base/lang,dojo/_base/array,dojo/_base/declare,dojo/_base/window,dojo/dom-geometry,dojo/dom,./_base,./shape,./path,./arc,./matrix,./decompose".split(","),function(b,r,k,u,t,m,p,o,s,a,f,i){var c=b.canvas={},e=null,g=i.multiplyPoint,d=Math.PI,v=2*d,E=d/2,o=r.extend;c.Shape=u("dojox.gfx.canvas.Shape",s.Shape,{_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);this._renderShape(a);this._renderFill(a,!0);this._renderStroke(a,!0);a.restore()},_renderClip:function(a){this.canvasClip&&(this.canvasClip.render(a),a.clip())},_renderTransform:function(a){if("canvasTransform"in this){var b=this.canvasTransform;a.translate(b.dx,b.dy);a.rotate(b.angle2);a.scale(b.sx,b.sy);a.rotate(b.angle1)}},_renderShape:function(){},_renderFill:function(a,b){if("canvasFill"in this){var c=this.fillStyle;if("canvasFillImage"in this){var d=c.width,f=c.height,g=this.canvasFillImage.width,i=this.canvasFillImage.height,k=Math.min(d==g?1:d/g,f==i?1:f/i),m=(d-k*g)/2,o=(f-k*i)/2;e.width=d;e.height=f;var p=e.getContext("2d");p.clearRect(0,0,d,f);p.drawImage(this.canvasFillImage,0,0,g,i,m,o,k*g,k*i);this.canvasFill=a.createPattern(e,"repeat");delete this.canvasFillImage}a.fillStyle=this.canvasFill;b&&("pattern"===c.type&&(0!==c.x||0!==c.y)&&a.translate(c.x,c.y),a.fill())}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(a,b){var c=this.strokeStyle;if(c)a.strokeStyle=c.color.toString(),a.lineWidth=c.width,a.lineCap=c.cap,"number"==typeof c.join?(a.lineJoin="miter",a.miterLimit=c.join):a.lineJoin=c.join,b&&a.stroke();else if(!b)a.strokeStyle="rgba(0,0,0,0.0)"},getEventSource:function(){return null},connect:function(){},disconnect:function(){},canvasClip:null,setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;this.canvasClip=a?J(b,a):null;this.surface.makeDirty();return this}});var J=function(a,b){switch(a){case"ellipse":return{canvasEllipse:x(b),render:function(a){return c.Ellipse.prototype._renderShape.call(this,a)}};case"rect":return{shape:r.delegate(b,{r:0}),render:function(a){return c.Rect.prototype._renderShape.call(this,a)}};case"path":return{canvasPath:C(b),render:function(a){this.canvasPath._renderShape(a)}};case"polyline":return{canvasPolyline:b.points,render:function(a){return c.Polyline.prototype._renderShape.call(this,a)}}}return null},C=function(a){var b=new dojox.gfx.canvas.Path;b.canvasPath=[];b._setPath(a.d);return b},G=function(a,b,c){var d=a.prototype[b];a.prototype[b]=c?function(){this.surface.makeDirty();d.apply(this,arguments);c.call(this);return this}:function(){this.surface.makeDirty();return d.apply(this,arguments)}};G(c.Shape,"setTransform",function(){this.matrix?this.canvasTransform=b.decompose(this.matrix):delete this.canvasTransform});G(c.Shape,"setFill",function(){var a=this.fillStyle,c;if(a){if("object"==typeof a&&"type"in a){var d=this.surface.rawNode.getContext("2d");switch(a.type){case"linear":case"radial":c="linear"==a.type?d.createLinearGradient(a.x1,a.y1,a.x2,a.y2):d.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);k.forEach(a.colors,function(a){c.addColorStop(a.offset,b.normalizeColor(a.color).toString())});break;case"pattern":e||(e=document.createElement("canvas")),d=new Image,this.surface.downloadImage(d,a.src),this.canvasFillImage=d}}else c=a.toString();this.canvasFill=c}else delete this.canvasFill});G(c.Shape,"setStroke");G(c.Shape,"setShape");c.Group=u("dojox.gfx.canvas.Group",c.Shape,{constructor:function(){s.Container._init.call(this)},_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},destroy:function(){this.clear(!0);c.Shape.prototype.destroy.apply(this,arguments)}});c.Rect=u("dojox.gfx.canvas.Rect",[c.Shape,s.Rect],{_renderShape:function(a){var b=this.shape,c=Math.min(b.r,b.height/2,b.width/2),f=b.x,e=f+b.width,g=b.y,b=g+b.height,i=f+c,k=e-c,m=g+c,o=b-c;a.beginPath();a.moveTo(i,g);c?(a.arc(k,m,c,-E,0,!1),a.arc(k,o,c,0,E,!1),a.arc(i,o,c,E,d,!1),a.arc(i,m,c,d,d+E,!1)):(a.lineTo(k,g),a.lineTo(e,o),a.lineTo(i,b),a.lineTo(f,m));a.closePath()}});var z=[];(function(){var a=f.curvePI4;z.push(a.s,a.c1,a.c2,a.e);for(var b=45;360>b;b+=45){var c=i.rotateg(b);z.push(g(c,a.c1),g(c,a.c2),g(c,a.e))}})();var x=function(a){var b,c,d=[],f=i.normalize([i.translate(a.cx,a.cy),i.scale(a.rx,a.ry)]),a=g(f,z[0]);d.push([a.x,a.y]);for(var e=1;e<z.length;e+=3)b=g(f,z[e]),c=g(f,z[e+1]),a=g(f,z[e+2]),d.push([b.x,b.y,c.x,c.y,a.x,a.y]);return d};c.Ellipse=u("dojox.gfx.canvas.Ellipse",[c.Shape,s.Ellipse],{setShape:function(){this.inherited(arguments);this.canvasEllipse=x(this.shape);return this},_renderShape:function(a){var b=this.canvasEllipse;a.beginPath();a.moveTo.apply(a,b[0]);for(var c=1;c<b.length;++c)a.bezierCurveTo.apply(a,b[c]);a.closePath()}});c.Circle=u("dojox.gfx.canvas.Circle",[c.Shape,s.Circle],{_renderShape:function(a){var b=this.shape;a.beginPath();a.arc(b.cx,b.cy,b.r,0,v,1)}});c.Line=u("dojox.gfx.canvas.Line",[c.Shape,s.Line],{_renderShape:function(a){var b=this.shape;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2)}});c.Polyline=u("dojox.gfx.canvas.Polyline",[c.Shape,s.Polyline],{setShape:function(){this.inherited(arguments);var a=this.shape.points,b=a[0],c,d;this.bbox=null;this._normalizePoints();if(a.length)if("number"==typeof b)b=a;else{b=[];for(d=0;d<a.length;++d)c=a[d],b.push(c.x,c.y)}else b=[];this.canvasPolyline=b;return this},_renderShape:function(a){var b=this.canvasPolyline;if(b.length){a.beginPath();a.moveTo(b[0],b[1]);for(var c=2;c<b.length;c+=2)a.lineTo(b[c],b[c+1])}}});c.Image=u("dojox.gfx.canvas.Image",[c.Shape,s.Image],{setShape:function(){this.inherited(arguments);var a=new Image;this.surface.downloadImage(a,this.shape.src);this.canvasImage=a;return this},_renderShape:function(a){var b=this.shape;a.drawImage(this.canvasImage,b.x,b.y,b.width,b.height)}});c.Text=u("dojox.gfx.canvas.Text",[c.Shape,s.Text],{_setFont:function(){this.fontStyle?this.canvasFont=b.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var a=this.shape,b=0,c;if(a.text&&0<a.text.length){c=this.surface.rawNode.getContext("2d");c.save();this._renderTransform(c);this._renderFill(c,!1);this._renderStroke(c,!1);if(this.canvasFont)c.font=this.canvasFont;b=c.measureText(a.text).width;c.restore()}return b},_render:function(a){a.save();this._renderTransform(a);this._renderFill(a,!1);this._renderStroke(a,!1);this._renderShape(a);a.restore()},_renderShape:function(a){var b=this.shape;if(b.text&&0!=b.text.length){a.textAlign="middle"===b.align?"center":b.align;if(this.canvasFont)a.font=this.canvasFont;this.canvasFill&&a.fillText(b.text,b.x,b.y);this.strokeStyle&&(a.beginPath(),a.strokeText(b.text,b.x,b.y),a.closePath())}}});G(c.Text,"setFont");t.global.CanvasRenderingContext2D&&(t=t.doc.createElement("canvas").getContext("2d"))&&"function"!=typeof t.fillText&&c.Text.extend({getTextWidth:function(){return 0},_renderShape:function(){}});var P={M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};c.Path=u("dojox.gfx.canvas.Path",[c.Shape,a.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=[];return this.inherited(arguments)},_updateWithSegment:function(a){var b=r.clone(this.last);this[P[a.action]](this.canvasPath,a.action,a.args);this.last=b;this.inherited(arguments)},_renderShape:function(a){var b=this.canvasPath;a.beginPath();for(var c=0;c<b.length;c+=2)a[b[c]].apply(a,b[c+1])},_moveToA:function(a,b,c){a.push("moveTo",[c[0],c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_moveToR:function(a,b,c){"x"in this.last?a.push("moveTo",[this.last.x+=c[0],this.last.y+=c[1]]):a.push("moveTo",[this.last.x=c[0],this.last.y=c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]);this.lastControl={}},_lineToA:function(a,b,c){for(b=0;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_lineToR:function(a,b,c){for(b=0;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]);this.lastControl={}},_hLineToA:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[c[b],this.last.y]);this.last.x=c[c.length-1];this.lastControl={}},_hLineToR:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x+=c[b],this.last.y]);this.lastControl={}},_vLineToA:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,c[b]]);this.last.y=c[c.length-1];this.lastControl={}},_vLineToR:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,this.last.y+=c[b]]);this.lastControl={}},_curveToA:function(a,b,c){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",c.slice(b,b+6));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type="C"},_curveToR:function(a,b,c){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",[this.last.x+c[b],this.last.y+c[b+1],this.lastControl.x=this.last.x+c[b+2],this.lastControl.y=this.last.y+c[b+3],this.last.x+c[b+4],this.last.y+c[b+5]]),this.last.x+=c[b+4],this.last.y+=c[b+5];this.lastControl.type="C"},_smoothCurveToA:function(a,b,c){for(b=0;b<c.length;b+=4){var d="C"==this.lastControl.type;a.push("bezierCurveTo",[d?2*this.last.x-this.lastControl.x:this.last.x,d?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1],c[b+2],c[b+3]]);this.lastControl.x=c[b];this.lastControl.y=c[b+1];this.lastControl.type="C"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_smoothCurveToR:function(a,b,c){for(b=0;b<c.length;b+=4){var d="C"==this.lastControl.type;a.push("bezierCurveTo",[d?2*this.last.x-this.lastControl.x:this.last.x,d?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]);this.lastControl.x=this.last.x+c[b];this.lastControl.y=this.last.y+c[b+1];this.lastControl.type="C";this.last.x+=c[b+2];this.last.y+=c[b+3]}},_qCurveToA:function(a,b,c){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",c.slice(b,b+4));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type="Q"},_qCurveToR:function(a,b,c){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+c[b],this.lastControl.y=this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]),this.last.x+=c[b+2],this.last.y+=c[b+3];this.lastControl.type="Q"},_qSmoothCurveToA:function(a,b,c){for(b=0;b<c.length;b+=2){var d="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=d?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=d?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1]]);this.lastControl.type="Q"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_qSmoothCurveToR:function(a,b,c){for(b=0;b<c.length;b+=2){var d="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=d?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=d?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1]]);this.lastControl.type="Q";this.last.x+=c[b];this.last.y+=c[b+1]}},_arcTo:function(a,b,c){for(var b="a"==b,d=0;d<c.length;d+=7){var e=c[d+5],g=c[d+6];b&&(e+=this.last.x,g+=this.last.y);var i=f.arcAsBezier(this.last,c[d],c[d+1],c[d+2],c[d+3]?1:0,c[d+4]?1:0,e,g);k.forEach(i,function(b){a.push("bezierCurveTo",b)});this.last.x=e;this.last.y=g}this.lastControl={}},_closePath:function(a){a.push("closePath",[]);this.lastControl={}}});k.forEach("moveTo,lineTo,hLineTo,vLineTo,curveTo,smoothCurveTo,qCurveTo,qSmoothCurveTo,arcTo,closePath".split(","),function(a){G(c.Path,a)});c.TextPath=u("dojox.gfx.canvas.TextPath",[c.Shape,a.TextPath],{_renderShape:function(){},_setText:function(){},_setFont:function(){}});c.Surface=u("dojox.gfx.canvas.Surface",s.Surface,{constructor:function(){s.Container._init.call(this);this.pendingImageCount=0;this.makeDirty()},destroy:function(){s.Container.clear.call(this,!0);this.inherited(arguments)},setDimensions:function(a,c){this.width=b.normalizedLength(a);this.height=b.normalizedLength(c);if(!this.rawNode)return this;var d=!1;if(this.rawNode.width!=this.width)this.rawNode.width=this.width,d=!0;if(this.rawNode.height!=this.height)this.rawNode.height=this.height,d=!0;d&&this.makeDirty();return this},getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:null},_render:function(a){if(a||!this.pendingImageCount)a=this.rawNode.getContext("2d"),a.clearRect(0,0,this.rawNode.width,this.rawNode.height),this.render(a),"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender)},render:function(a){a.save();for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},makeDirty:function(){if(!this.pendingImagesCount&&!("pendingRender"in this))this.pendingRender=setTimeout(r.hitch(this,this._render),0)},downloadImage:function(a,b){var c=r.hitch(this,this.onImageLoad);!this.pendingImageCount++&&"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender);a.onload=c;a.onerror=c;a.onabort=c;a.src=b},onImageLoad:function(){--this.pendingImageCount||(this.onImagesLoaded(),this._render())},onImagesLoaded:function(){},getEventSource:function(){return null},connect:function(){},disconnect:function(){}});c.createSurface=function(a,d,f){if(!d&&!f)var e=m.position(a),d=d||e.w,f=f||e.h;"number"==typeof d&&(d+="px");"number"==typeof f&&(f+="px");var e=new c.Surface,a=p.byId(a),g=a.ownerDocument.createElement("canvas");g.width=b.normalizedLength(d);g.height=b.normalizedLength(f);a.appendChild(g);e.rawNode=g;e._parent=a;return e.surface=e};var N=s.Container,u={add:function(a){this.surface.makeDirty();return N.add.apply(this,arguments)},remove:function(a,b){this.surface.makeDirty();return N.remove.apply(this,arguments)},clear:function(){this.surface.makeDirty();return N.clear.apply(this,arguments)},getBoundingBox:N.getBoundingBox,_moveChildToFront:function(a){this.surface.makeDirty();return N._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(a){this.surface.makeDirty();return N._moveChildToBack.apply(this,arguments)}},a={createObject:function(a,b){var c=new a;c.surface=this.surface;c.setShape(b);this.add(c);return c}};o(c.Group,u);o(c.Group,s.Creator);o(c.Group,a);o(c.Surface,u);o(c.Surface,s.Creator);o(c.Surface,a);c.fixTarget=function(){return!0};return c})},"dojox/gfx/canvasWithEvents":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dojo/_base/Color,dojo/dom,dojo/dom-geometry,./_base,./canvas,./shape,./matrix".split(","),function(b,r,k,u,t,m,p,o,s,a){var f=p.canvasWithEvents={};f.Shape=r("dojox.gfx.canvasWithEvents.Shape",o.Shape,{_testInputs:function(b,c){if(this.clip||!this.canvasFill&&this.strokeStyle)this._hitTestPixel(b,c);else{this._renderShape(b);for(var f=this.getTransform(),e=0;e<c.length;++e){var g=c[e];if(!g.target){var i=g.x,k=g.y,i=f?a.multiplyPoint(a.invert(f),i,k):{x:i,y:k};g.target=this._hitTestGeometry(b,i.x,i.y)}}}},_hitTestPixel:function(a,b){for(var c=0;c<b.length;++c){var f=b[c];if(!f.target){var e=f.x,g=f.y;a.clearRect(0,0,1,1);a.save();a.translate(-e,-g);this._render(a,!0);f.target=a.getImageData(0,0,1,1).data[0]?this:null;a.restore()}}},_hitTestGeometry:function(a,b,c){return a.isPointInPath(b,c)?this:null},_renderFill:function(a,b){a.pickingMode?"canvasFill"in this&&b&&a.fill():this.inherited(arguments)},_renderStroke:function(a,b){if(this.strokeStyle&&a.pickingMode){var c=this.strokeStyle.color;try{this.strokeStyle.color=new u(a.strokeStyle),this.inherited(arguments)}finally{this.strokeStyle.color=c}}else this.inherited(arguments)},getEventSource:function(){return this.surface.getEventSource()},connect:function(a,b,c){0===a.indexOf("mouse")?a="on"+a:0===a.indexOf("ontouch")&&(a=a.slice(2));this.surface._setupEvents(a);return 2<arguments.length?k.connect(this,a,b,c):k.connect(this,a,b)},disconnect:function(a){k.disconnect(a)},oncontextmenu:function(){},onclick:function(){},ondblclick:function(){},onmouseenter:function(){},onmouseleave:function(){},onmouseout:function(){},onmousedown:function(){},ontouchstart:function(){},touchstart:function(){},onmouseup:function(){},ontouchend:function(){},touchend:function(){},onmouseover:function(){},onmousemove:function(){},ontouchmove:function(){},touchmove:function(){},onkeydown:function(){},onkeyup:function(){}});f.Group=r("dojox.gfx.canvasWithEvents.Group",[f.Shape,o.Group],{_testInputs:function(b,c){var f=this.children,e=this.getTransform(),g,i;if(0!==f.length){var k=[];for(g=0;g<c.length;++g)if(i=c[g],k[g]={x:i.x,y:i.y},!i.target){var m=i.x,o=i.y,m=e?a.multiplyPoint(a.invert(e),m,o):{x:m,y:o};i.x=m.x;i.y=m.y}for(g=f.length-1;0<=g;--g){f[g]._testInputs(b,c);i=!0;for(e=0;e<c.length;++e)if(null==c[e].target){i=!1;break}if(i)break}if(this.clip)for(g=0;g<c.length;++g){if(i=c[g],i.x=k[g].x,i.y=k[g].y,i.target){b.clearRect(0,0,1,1);b.save();b.translate(-i.x,-i.y);this._render(b,!0);if(!b.getImageData(0,0,1,1).data[0])i.target=null;b.restore()}}else for(g=0;g<c.length;++g)c[g].x=k[g].x,c[g].y=k[g].y}}});f.Image=r("dojox.gfx.canvasWithEvents.Image",[f.Shape,o.Image],{_renderShape:function(a){var b=this.shape;a.pickingMode?a.fillRect(b.x,b.y,b.width,b.height):this.inherited(arguments)},_hitTestGeometry:function(a,b,c){a=this.shape;return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height?this:null}});f.Text=r("dojox.gfx.canvasWithEvents.Text",[f.Shape,o.Text],{_testInputs:function(a,b){return this._hitTestPixel(a,b)}});f.Rect=r("dojox.gfx.canvasWithEvents.Rect",[f.Shape,o.Rect],{});f.Circle=r("dojox.gfx.canvasWithEvents.Circle",[f.Shape,o.Circle],{});f.Ellipse=r("dojox.gfx.canvasWithEvents.Ellipse",[f.Shape,o.Ellipse],{});f.Line=r("dojox.gfx.canvasWithEvents.Line",[f.Shape,o.Line],{});f.Polyline=r("dojox.gfx.canvasWithEvents.Polyline",[f.Shape,o.Polyline],{});f.Path=r("dojox.gfx.canvasWithEvents.Path",[f.Shape,o.Path],{});f.TextPath=r("dojox.gfx.canvasWithEvents.TextPath",[f.Shape,o.TextPath],{});var i={onmouseenter:"onmousemove",onmouseleave:"onmousemove",onmouseout:"onmousemove",onmouseover:"onmousemove",touchstart:"ontouchstart",touchend:"ontouchend",touchmove:"ontouchmove"},c={ontouchstart:"touchstart",ontouchend:"touchend",ontouchmove:"touchmove"},e=navigator.userAgent.toLowerCase(),g=-1<e.search("iphone")||-1<e.search("ipad")||-1<e.search("ipod");f.Surface=r("dojox.gfx.canvasWithEvents.Surface",o.Surface,{constructor:function(){this._pick={curr:null,last:null};this._pickOfMouseUp=this._pickOfMouseDown=null},connect:function(a,b,c){if(-1!==a.indexOf("touch"))return this._setupEvents(a),k.connect(this,"_on"+a+"Impl_",b,c);this._initMirrorCanvas();return k.connect(this.getEventSource(),a,null,s.fixCallback(this,p.fixTarget,b,c))},_ontouchstartImpl_:function(){},_ontouchendImpl_:function(){},_ontouchmoveImpl_:function(){},_initMirrorCanvas:function(){if(!this.mirrorCanvas){var a=this._parent,b=a.ownerDocument.createElement("canvas");b.width=1;b.height=1;b.style.position="absolute";b.style.left="-99999px";b.style.top="-99999px";a.appendChild(b);this.mirrorCanvas=b}},_setupEvents:function(a){a in i&&(a=i[a]);if(!this._eventsH||!this._eventsH[a]){this._initMirrorCanvas();if(!this._eventsH)this._eventsH={};this._eventsH[a]=k.connect(this.getEventSource(),a,s.fixCallback(this,p.fixTarget,this,"_"+a));if("onclick"===a||"ondblclick"===a)this._eventsH.onmousedown||(this._eventsH.onmousedown=k.connect(this.getEventSource(),"onmousedown",s.fixCallback(this,p.fixTarget,this,"_onmousedown"))),this._eventsH.onmouseup||(this._eventsH.onmouseup=k.connect(this.getEventSource(),"onmouseup",s.fixCallback(this,p.fixTarget,this,"_onmouseup")))}},destroy:function(){this.inherited(arguments);for(var a in this._eventsH)k.disconnect(this._eventsH[a]);this._eventsH=this.mirrorCanvas=null},getEventSource:function(){return this.rawNode},_invokeHandler:function(a,b,f){var e=a[b];e&&e.after?e.apply(a,[f]):b in c&&(e=a[c[b]])&&e.after&&e.apply(a,[f]);!e&&-1!==b.indexOf("touch")&&(b="_"+b+"Impl_",(e=a[b])&&e.apply(a,[f]));!(void 0!==f.cancelBubble&&f.cancelBubble)&&a.parent&&this._invokeHandler(a.parent,b,f)},_oncontextmenu:function(a){this._pick.curr&&this._invokeHandler(this._pick.curr,"oncontextmenu",a)},_ondblclick:function(a){this._pickOfMouseUp&&this._invokeHandler(this._pickOfMouseUp,"ondblclick",a)},_onclick:function(a){this._pickOfMouseUp&&this._pickOfMouseUp==this._pickOfMouseDown&&this._invokeHandler(this._pickOfMouseUp,"onclick",a)},_onmousedown:function(a){(this._pickOfMouseDown=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmousedown",a)},_ontouchstart:function(a){this._pick.curr&&this._fireTouchEvent(a)},_onmouseup:function(a){(this._pickOfMouseUp=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmouseup",a)},_ontouchend:function(a){if(this._pick.curr)for(var b=0;b<this._pick.curr.length;++b)if(this._pick.curr[b].target)a.gfxTarget=this._pick.curr[b].target,this._invokeHandler(this._pick.curr[b].target,"ontouchend",a)},_onmousemove:function(a){this._pick.last&&this._pick.last!=this._pick.curr&&(this._invokeHandler(this._pick.last,"onmouseleave",a),this._invokeHandler(this._pick.last,"onmouseout",a));this._pick.curr&&(this._pick.last==this._pick.curr?this._invokeHandler(this._pick.curr,"onmousemove",a):(this._invokeHandler(this._pick.curr,"onmouseenter",a),this._invokeHandler(this._pick.curr,"onmouseover",a)))},_ontouchmove:function(a){this._pick.curr&&this._fireTouchEvent(a)},_fireTouchEvent:function(a){for(var c=[],f=0;f<this._pick.curr.length;++f){var e=this._pick.curr[f];if(e.target){var i=e.target.__gfxtt;if(!i)i=[],e.target.__gfxtt=i;i.push(e.t);if(!e.target.__inToFire)c.push(e.target),e.target.__inToFire=!0}}if(0===c.length)this._invokeHandler(this,"on"+a.type,a);else for(f=0;f<c.length;++f)(function(){var e=c[f].__gfxtt,i=b.delegate(a,{gfxTarget:c[f]});if(g)i.preventDefault=function(){a.preventDefault()},i.stopPropagation=function(){a.stopPropagation()};i.__defineGetter__("targetTouches",function(){return e});delete c[f].__gfxtt;delete c[f].__inToFire;this._invokeHandler(c[f],"on"+a.type,i)}).call(this)},_onkeydown:function(){},_onkeyup:function(){},_whatsUnderEvent:function(a){var b=m.position(this.rawNode,!0),c=[],f=a.changedTouches,e=a.touches;if(f)for(a=0;a<f.length;++a)c.push({t:f[a],x:f[a].pageX-b.x,y:f[a].pageY-b.y});else if(e)for(a=0;a<e.length;++a)c.push({t:e[a],x:e[a].pageX-b.x,y:e[a].pageY-b.y});else c.push({x:a.pageX-b.x,y:a.pageY-b.y});var a=this.mirrorCanvas,b=a.getContext("2d"),g=this.children;b.clearRect(0,0,a.width,a.height);b.save();b.strokeStyle="rgba(127,127,127,1.0)";b.fillStyle="rgba(127,127,127,1.0)";b.pickingMode=!0;for(a=g.length-1;0<=a;a--){g[a]._testInputs(b,c);var i=!0;for(j=0;j<c.length;++j)if(null==c[j].target){i=!1;break}if(i)break}b.restore();return e||f?c:c[0].target}});f.createSurface=function(a,b,c){if(!b&&!c)var e=m.position(a),b=b||e.w,c=c||e.h;"number"==typeof b&&(b+="px");"number"==typeof c&&(c+="px");var e=new f.Surface,a=t.byId(a),g=a.ownerDocument.createElement("canvas");g.width=p.normalizedLength(b);g.height=p.normalizedLength(c);a.appendChild(g);e.rawNode=g;e._parent=a;return e.surface=e};f.fixTarget=function(a,c){if(void 0!==a.cancelBubble&&a.cancelBubble)return!1;if(!a.gfxTarget&&(c._pick.last=c._pick.curr,c._pick.curr=c._whatsUnderEvent(a),!b.isArray(c._pick.curr)))a.gfxTarget=c._pick.curr;return!0};return f})},"dojox/gfx/VectorText":function(){define("dojo/_base/lang,dojo/_base/declare,dojo/_base/array,dojo/_base/loader,dojo/_base/xhr,./_base,dojox/xml/DomParser,dojox/html/metrics,./matrix".split(","),function(b,r,k,u,t,m,p,o,s){var a=function(a){var b;t.get({url:a,sync:!0,load:function(a){b=a}});return b};b.getObject("dojox.gfx.VectorText",!0);b.mixin(m,{vectorFontFitting:{NONE:0,FLOW:1,FIT:2},defaultVectorText:{type:"vectortext",x:0,y:0,width:null,height:null,text:"",align:"start",decoration:"none",fitting:0,leading:1.5},defaultVectorFont:{type:"vectorfont",size:"10pt",family:null},_vectorFontCache:{},_svgFontCache:{},getVectorFont:function(a){return m._vectorFontCache[a]?m._vectorFontCache[a]:new m.VectorFont(a)}});return r("dojox.gfx.VectorFont",null,{_entityRe:/&(quot|apos|lt|gt|amp|#x[^;]+|#\d+);/g,_decodeEntitySequence:function(a){if(a.match(this._entityRe)){for(var b={amp:"&",apos:"'",quot:'"',lt:"<",gt:">"},c,e="";null!==(c=this._entityRe.exec(a));)e="x"==c[1].charAt(1)?e+String.fromCharCode(parseInt(c[1].slice(2),16)):isNaN(parseInt(c[1].slice(1),10))?e+(b[c[1]]||""):e+String.fromCharCode(parseInt(c[1].slice(1),10));return e}},_parse:function(a,i){var c=m._svgFontCache[i]||p.parse(a),e=c.documentElement.byName("font")[0],g=c.documentElement.byName("font-face")[0],d=parseFloat(g.getAttribute("units-per-em")||1e3,10),o={x:parseFloat(e.getAttribute("horiz-adv-x"),10),y:parseFloat(e.getAttribute("vert-adv-y")||0,10)};if(!o.y)o.y=d;var e={horiz:{x:parseFloat(e.getAttribute("horiz-origin-x")||0,10),y:parseFloat(e.getAttribute("horiz-origin-y")||0,10)},vert:{x:parseFloat(e.getAttribute("vert-origin-x")||0,10),y:parseFloat(e.getAttribute("vert-origin-y")||0,10)}},r=g.getAttribute("font-family"),s=g.getAttribute("font-style")||"all",t=g.getAttribute("font-variant")||"normal",u=g.getAttribute("font-weight")||"all",z=g.getAttribute("font-stretch")||"normal",x=g.getAttribute("unicode-range")||"U+0-10FFFF";g.getAttribute("panose-1");g.getAttribute("cap-height");var P=parseFloat(g.getAttribute("ascent")||d-e.vert.y,10),N=parseFloat(g.getAttribute("descent")||e.vert.y,10),B={},H=r;g.byName("font-face-name")[0]&&(H=g.byName("font-face-name")[0].getAttribute("name"));if(!m._vectorFontCache[H]){k.forEach(["alphabetic","ideographic","mathematical","hanging"],function(a){var b=g.getAttribute(a);null!==b&&(B[a]=parseFloat(b,10))});var S=parseFloat(c.documentElement.byName("missing-glyph")[0].getAttribute("horiz-adv-x")||o.x,10),T={},$={},M=c.documentElement.byName("glyph");k.forEach(M,function(a){var b=a.getAttribute("unicode"),c=a.getAttribute("glyph-name"),d=parseFloat(a.getAttribute("horiz-adv-x")||o.x,10),a=a.getAttribute("d");b.match(this._entityRe)&&(b=this._decodeEntitySequence(b));d={code:b,name:c,xAdvance:d,path:a};T[b]=d;$[c]=d},this);M=c.documentElement.byName("hkern");k.forEach(M,function(a){var b=-parseInt(a.getAttribute("k"),10),c=a.getAttribute("u1"),d=a.getAttribute("g1"),f=a.getAttribute("u2"),a=a.getAttribute("g2"),e;c?(c=this._decodeEntitySequence(c),T[c]&&(e=T[c])):$[d]&&(e=$[d]);if(e){if(!e.kern)e.kern={};f?(f=this._decodeEntitySequence(f),e.kern[f]={x:b}):$[a]&&(e.kern[$[a].code]={x:b})}},this);b.mixin(this,{family:r,name:H,style:s,variant:t,weight:u,stretch:z,range:x,viewbox:{width:d,height:d},origin:e,advance:b.mixin(o,{missing:{x:S,y:S}}),ascent:P,descent:N,baseline:B,glyphs:T});m._vectorFontCache[H]=this;m._vectorFontCache[i]=this;H!=r&&!m._vectorFontCache[r]&&(m._vectorFontCache[r]=this);m._svgFontCache[i]||(m._svgFontCache[i]=c)}},_clean:function(){var a=this.name,b=this.family;k.forEach("family,name,style,variant,weight,stretch,range,viewbox,origin,advance,ascent,descent,baseline,glyphs".split(","),function(a){try{delete this[a]}catch(b){}},this);m._vectorFontCache[a]&&delete m._vectorFontCache[a];m._vectorFontCache[b]&&delete m._vectorFontCache[b];return this},constructor:function(a){this._defaultLeading=1.5;void 0!==a&&this.load(a)},load:function(b){this.onLoadBegin(b.toString());this._parse(m._svgFontCache[b.toString()]||a(b.toString()),b.toString());this.onLoad(this);return this},initialized:function(){return null!==this.glyphs},_round:function(a){return Math.round(1e3*a)/1e3},_leading:function(a){return this.viewbox.height*(a||this._defaultLeading)},_normalize:function(a){return a.replace(/\s+/g,String.fromCharCode(32))},_getWidth:function(a){var b=0,c=0,e=null;k.forEach(a,function(g,d){c=g.xAdvance;a[d]&&g.kern&&g.kern[a[d].code]&&(c+=g.kern[a[d].code].x);b+=c;e=g});e&&" "==e.code&&(b-=e.xAdvance);return this._round(b)},_getLongestLine:function(a){var b=0,c=0;k.forEach(a,function(a,f){var d=Math.max(b,this._getWidth(a));
d>b&&(b=d,c=f)},this);return{width:b,index:c,line:a[c]}},_trim:function(a){var i=function(a){a.length&&(" "==a[a.length-1].code&&a.splice(a.length-1,1),a.length&&" "==a[0].code&&a.splice(0,1))};b.isArray(a[0])?k.forEach(a,i):i(a);return a},_split:function(a,b){for(var c=this._getWidth(a),c=Math.floor(c/b),e=[],g=0,d=[],k=!1,m=0,o=a.length;m<o;m++){" "==a[m].code&&(k=!0);g+=a[m].xAdvance;m+1<o&&a[m].kern&&a[m].kern[a[m+1].code]&&(g+=a[m].kern[a[m+1].code].x);if(g>=c){for(g=a[m];k&&" "!=g.code&&0<=m;)g=d.pop(),m--;e.push(d);d=[];g=0;k=!1}d.push(a[m])}d.length&&e.push(d);return this._trim(e)},_getSizeFactor:function(a){var a=a+"",b=o.getCachedFontMeasurements(),c=this.viewbox.height,e=b["1em"],e=parseFloat(a,10);if(-1<a.indexOf("em"))return this._round(b["1em"]*e/c);if(-1<a.indexOf("ex"))return this._round(b["1ex"]*e/c);if(-1<a.indexOf("pt"))return this._round(b["12pt"]/12*e/c);if(-1<a.indexOf("px"))return this._round(b["16px"]/16*e/c);if(-1<a.indexOf("%"))return this._round(b["1em"]*(e/100)/c);e=b[a]||b.medium;return this._round(e/c)},_getFitFactor:function(a,b,c,e){if(c){var g=this._getLongestLine(a).width;return this._round(Math.min(b/g,c/(a.length*this.viewbox.height*e-(this.viewbox.height*e-this.viewbox.height))))}return this._round(b/this._getWidth(a))},_getBestFit:function(a,b,c,e){for(var g=32,d=0,k=g;0<g;){var m=this._getFitFactor(this._split(a,g),b,c,e);m>d&&(d=m,k=g);g--}return{scale:d,lines:this._split(a,k)}},_getBestFlow:function(a,b,c){for(var e=[],g=0,d=[],k=!1,m=0,o=a.length;m<o;m++){" "==a[m].code&&(k=!0);var p=a[m].xAdvance;m+1<o&&a[m].kern&&a[m].kern[a[m+1].code]&&(p+=a[m].kern[a[m+1].code].x);g+=c*p;if(g>=b){for(g=a[m];k&&" "!=g.code&&0<=m;)g=d.pop(),m--;e.push(d);d=[];g=0;k=!1}d.push(a[m])}d.length&&e.push(d);return this._trim(e)},getWidth:function(a,b){return this._getWidth(k.map(this._normalize(a).split(""),function(a){return this.glyphs[a]||{xAdvance:this.advance.missing.x}},this))*(b||1)},getLineHeight:function(a){return this.viewbox.height*(a||1)},getCenterline:function(a){return(a||1)*(this.viewbox.height/2)},getBaseline:function(a){return(a||1)*(this.viewbox.height+this.descent)},draw:function(a,b,c,e,g){if(!this.initialized())throw Error("dojox.gfx.VectorFont.draw(): we have not been initialized yet.");var d=a.createGroup();if(b.x||b.y)a.applyTransform({dx:b.x||0,dy:b.y||0});var o=k.map(this._normalize(b.text).split(""),function(a){return this.glyphs[a]||{path:null,xAdvance:this.advance.missing.x}},this),a=c.size,p=b.fitting,r=b.width,t=b.height,c=b.align,b=b.leading||this._defaultLeading;if(p&&(p==m.vectorFontFitting.FLOW&&!r||p==m.vectorFontFitting.FIT&&(!r||!t)))p=m.vectorFontFitting.NONE;switch(p){case m.vectorFontFitting.FIT:o=this._getBestFit(o,r,t,b);a=o.scale;o=o.lines;break;case m.vectorFontFitting.FLOW:a=this._getSizeFactor(a);o=this._getBestFlow(o,r,a);break;default:a=this._getSizeFactor(a),o=[o]}for(var o=k.filter(o,function(a){return 0<a.length}),r=0,p=this._getLongestLine(o).width,t=0,u=o.length;t<u;t++){for(var z=0,x=o[t],P=this._getWidth(x),N=d.createGroup(),B=0;B<x.length;B++){var H=x[B];if(null!==H.path){var S=N.createPath(H.path).setFill(e);g&&S.setStroke(g);S.setTransform([s.flipY,s.translate(z,-this.viewbox.height-this.descent)])}z+=H.xAdvance;B+1<x.length&&H.kern&&H.kern[x[B+1].code]&&(z+=H.kern[x[B+1].code].x)}z=0;"middle"==c?z=p/2-P/2:"end"==c&&(z=p-P);N.setTransform({dx:z,dy:r});r+=this.viewbox.height*b}d.setTransform(s.scale(a));return d},onLoadBegin:function(){},onLoad:function(){}})})},"dojo/_base/loader":function(){define("./kernel,../has,require,module,./json,./lang,./array".split(","),function(b,r,k,u,t,m,p){var o=function(a){return a.replace(/\./g,"/")},s=/\/\/>>built/,a=[],f=[],i=function(b,d,e){a.push(e);p.forEach(b.split(","),function(a){a=T(a,d.module);f.push(a);$(a)});c()},c=function(){var b,c;for(c in H){b=H[c];if(void 0===b.noReqPluginCheck)b.noReqPluginCheck=/loadInit\!/.test(c)||/require\!/.test(c)?1:0;if(!b.executed&&!b.noReqPluginCheck&&b.injected==G)return}O(function(){var b=a;a=[];p.forEach(b,function(a){a(1)})})},e=function(a,c,d){var e=/\(|\)/g,f=1;for(e.lastIndex=c;(c=e.exec(a))&&!(f=")"==c[0]?f-1:f+1,0==f););if(0!=f)throw"unmatched paren around character "+e.lastIndex+" in: "+a;return[b.trim(a.substring(d,e.lastIndex))+";\n",e.lastIndex]},g=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/gm,d=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/gm,v=/(^|\s)(require|define)\s*\(/m,E=function(a,b){var c,f,i,k=[],m=[];c=[];for(b=b||a.replace(g,function(a){d.lastIndex=v.lastIndex=0;return d.test(a)||v.test(a)?"":a});c=d.exec(b);)f=d.lastIndex,i=f-c[0].length,f=e(b,f,i),"loadInit"==c[2]?k.push(f[0]):m.push(f[0]),d.lastIndex=f[1];c=k.concat(m);return c.length||!v.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),c.join(""),c]:0},J=k.initSyncLoader(i,c,function(a,c){var d,e,f=[],g=[];if(s.test(c)||!(d=E(c)))return 0;e=a.mid+"-*loadInit";for(var i in T("dojo",a).result.scopeMap)f.push(i),g.push('"'+i+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+e+"',{\n	names:"+b.toJson(f)+",\n	def:function("+f.join(",")+"){"+d[1]+"}});\n\ndefine("+b.toJson(f.concat(["dojo/loadInit!"+e]))+", function("+f.join(",")+"){\n"+d[0]+"});"}),C=J.sync,G=J.requested,z=J.arrived,x=J.nonmodule,P=J.executing,N=J.executed,B=J.syncExecStack,H=J.modules,S=J.execQ,T=J.getModule,$=J.injectModule,M=J.setArrived,U=J.signal,Q=J.finishExec,F=J.execModule,L=J.getLegacyMode,O=J.guardCheckComplete,i=J.dojoRequirePlugin;b.provide=function(a){var b=B[0],c=m.mixin(T(o(a),k.module),{executed:P,result:m.getObject(a,!0)});M(c);if(b)(b.provides||(b.provides=[])).push(function(){c.result=m.getObject(a);delete c.provides;c.executed!==N&&Q(c)});return c.result};r.add("config-publishRequireResult",1,0,0);b.require=function(a,b){var c=function(a,b){var c=T(o(a),k.module);if(B.length&&B[0].finish)B[0].finish.push(a);else{if(c.executed)return c.result;b&&(c.result=x);var d=L();$(c);d=L();c.executed!==N&&c.injected===z&&J.guardCheckComplete(function(){F(c)});if(c.executed)return c.result;d==C?c.cjs?S.unshift(c):B.length&&(B[0].finish=[a]):S.push(c)}}(a,b);r("config-publishRequireResult")&&!m.exists(a)&&void 0!==c&&m.setObject(a,c);return c};b.loadInit=function(a){a()};b.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;k({paths:c})};b.platformRequire=function(a){for(var a=(a.common||[]).concat(a[b._name]||a["default"]||[]),c;a.length;)m.isArray(c=a.shift())?b.require.apply(b,c):b.require(c)};b.requireIf=b.requireAfterIf=function(a,c,d){a&&b.require(c,d)};b.requireLocalization=function(a,b,c){k(["../i18n"],function(d){d.getLocalization(a,b,c)})};return{extractLegacyApiApplications:E,require:i,loadInit:function(a,c,d){c([a],function(a){c(a.names,function(){for(var e="",f=[],g=0;g<arguments.length;g++)e+="var "+a.names[g]+"= arguments["+g+"]; ",f.push(arguments[g]);eval(e);var k=c.module,m=[],p,e={provide:function(a){a=o(a);a=T(a,k);a!==k&&M(a)},require:function(a,b){a=o(a);b&&(T(a,k).result=x);m.push(a)},requireLocalization:function(a,c,d){p||(p=["dojo/i18n"]);d=(d||b.locale).toLowerCase();a=o(a)+"/nls/"+(/root/i.test(d)?"":d+"/")+o(c);T(a,k).isXd&&p.push("dojo/i18n!"+a)},loadInit:function(a){a()}},g={},r;try{for(r in e)g[r]=b[r],b[r]=e[r];a.def.apply(null,f)}catch(s){U("error",[{src:u.id,id:"failedDojoLoadInit"},s])}finally{for(r in e)b[r]=g[r]}p&&(m=m.concat(p));m.length?i(m.join(","),c,d):d()})})}}})},"dojox/xml/DomParser":function(){define(["dojo/_base/kernel","dojo/_base/array"],function(b){b.getObject("xml",!0,dojox);dojox.xml.DomParser=new function(){var r,k,u;function t(){return new function(){var a={};this.nodeType=r;this.nodeName="#document";this.namespaces={};this._nsPaths={};this.childNodes=[];this.documentElement=null;this._add=function(b){"undefined"!=typeof b.id&&(a[b.id]=b)};this._remove=function(b){a[b]&&delete a[b]};this.byId=this.getElementById=function(b){return a[b]};this.byName=this.getElementsByTagName=m;this.byNameNS=this.getElementsByTagNameNS=p;this.childrenByName=o;this.childrenByNameNS=s}}function m(a){function c(a,d,e){b.forEach(a.childNodes,function(a){a.nodeType==k&&("*"==d?e.push(a):a.nodeName==d&&e.push(a),c(a,d,e))})}var d=[];c(this,a,d);return d}function p(a,c){function d(a,c,e,f){b.forEach(a.childNodes,function(a){a.nodeType==k&&("*"==c&&a.ownerDocument._nsPaths[e]==a.namespace?f.push(a):a.localName==c&&a.ownerDocument._nsPaths[e]==a.namespace&&f.push(a),d(a,c,e,f))})}c||(c=T);var e=[];d(this,a,c,e);return e}function o(a){var c=[];b.forEach(this.childNodes,function(b){b.nodeType==k&&("*"==a?c.push(b):b.nodeName==a&&c.push(b))});return c}function s(a,c){var d=[];b.forEach(this.childNodes,function(b){b.nodeType==k&&("*"==a&&b.ownerDocument._nsPaths[c]==b.namespace?d.push(b):b.localName==a&&b.ownerDocument._nsPaths[c]==b.namespace&&d.push(b))});return d}function a(a){return{nodeType:u,nodeName:"#text",nodeValue:a.replace(x," ").replace(P,">").replace(N,"<").replace(H,"'").replace(B,'"').replace(S,"&")}}function f(a){for(var b=0;b<this.attributes.length;b++)if(this.attributes[b].nodeName==a)return this.attributes[b].nodeValue;return null}function i(a,b){for(var c=0;c<this.attributes.length;c++)if(this.ownerDocument._nsPaths[b]==this.attributes[c].namespace&&this.attributes[c].localName==a)return this.attributes[c].nodeValue;return null}function c(a,b){for(var c=null,d=0;d<this.attributes.length;d++)if(this.attributes[d].nodeName==a){c=this.attributes[d].nodeValue;this.attributes[d].nodeValue=b;break}"id"==a&&(null!=c&&this.ownerDocument._remove(c),this.ownerDocument._add(this))}function e(a,b,c){for(var d=0;d<this.attributes.length;d++)if(this.ownerDocument._nsPaths[c]==this.attributes[d].namespace&&this.attributes[d].localName==a){this.attributes[d].nodeValue=b;break}}function g(){var a=this.parentNode;if(a)for(var b=0;b<a.childNodes.length;b++)if(a.childNodes[b]==this&&0<b)return a.childNodes[b-1];return null}function d(){var a=this.parentNode;if(a)for(var b=0;b<a.childNodes.length;b++)if(a.childNodes[b]==this&&b+1<a.childNodes.length)return a.childNodes[b+1];return null}k=1;u=3;r=9;var v=/<([^>\/\s+]*)([^>]*)>([^<]*)/g,E=/([^=]*)=(("([^"]*)")|('([^']*)'))/g,J=/<!ENTITY\s+([^"]*)\s+"([^"]*)">/g,C=/<!\[CDATA\[([\u0001-\uFFFF]*?)\]\]>/g,G=/<\!--([\u0001-\uFFFF]*?)--\>/g,z=/^\s+|\s+$/g,x=/\s+/g,P=/\&gt;/g,N=/\&lt;/g,B=/\&quot;/g,H=/\&apos;/g,S=/\&amp;/g,T="_def_";this.parse=function(b){var r=t();if(null==b||0==b.length)return r;if(0<b.indexOf("<!ENTITY")){var u,Q=[];if(J.test(b)){for(J.lastIndex=0;null!=(u=J.exec(b));)Q.push({entity:"&"+u[1].replace(z,"")+";",expression:u[2]});for(var F=0;F<Q.length;F++)b=b.replace(RegExp(Q[F].entity,"g"),Q[F].expression)}}for(Q=[];null!=(u=C.exec(b));)Q.push(u[1]);for(F=0;F<Q.length;F++)b=b.replace(Q[F],F);for(u=[];null!=(F=G.exec(b));)u.push(F[1]);for(F=0;F<u.length;F++)b=b.replace(u[F],F);for(var L,F=r;null!=(L=v.exec(b));)if("/"==L[2].charAt(0)&&1<L[2].replace(z,"").length){if(F.parentNode)F=F.parentNode;var O=(L[3]||"").replace(z,"");0<O.length&&F.childNodes.push(a(O))}else if(0<L[1].length)if("?"==L[1].charAt(0))O=L[1].substr(1),L=L[2].substr(0,L[2].length-2),F.childNodes.push({nodeType:7,nodeName:O,nodeValue:L});else if("!"==L[1].charAt(0))if(0==L[1].indexOf("![CDATA[")){var X=parseInt(L[1].replace("![CDATA[","").replace("]]",""));F.childNodes.push({nodeType:4,nodeName:"#cdata-section",nodeValue:Q[X]})}else"!--"==L[1].substr(0,3)&&(X=parseInt(L[1].replace("!--","").replace("--","")),F.childNodes.push({nodeType:8,nodeName:"#comment",nodeValue:u[X]}));else{var O=L[1].replace(z,""),R={nodeType:k,nodeName:O,localName:O,namespace:T,ownerDocument:r,attributes:[],parentNode:null,childNodes:[]};if(-1<O.indexOf(":")){var Y=O.split(":");R.namespace=Y[0];R.localName=Y[1]}R.byName=R.getElementsByTagName=m;R.byNameNS=R.getElementsByTagNameNS=p;R.childrenByName=o;R.childrenByNameNS=s;R.getAttribute=f;R.getAttributeNS=i;R.setAttribute=c;R.setAttributeNS=e;R.previous=R.previousSibling=g;for(R.next=R.nextSibling=d;null!=(X=E.exec(L[2]));)if(0<X.length)if(O=X[1].replace(z,""),X=(X[4]||X[6]||"").replace(x," ").replace(P,">").replace(N,"<").replace(H,"'").replace(B,'"').replace(S,"&"),0==O.indexOf("xmlns"))0<O.indexOf(":")?(Y=O.split(":"),r.namespaces[Y[1]]=X,r._nsPaths[X]=Y[1]):(r.namespaces[T]=X,r._nsPaths[X]=T);else{var ca=O,Y=T;0<O.indexOf(":")&&(Y=O.split(":"),ca=Y[1],Y=Y[0]);R.attributes.push({nodeType:2,nodeName:O,localName:ca,namespace:Y,nodeValue:X});if("id"==ca)R.id=X}r._add(R);if(F)F.childNodes.push(R),R.parentNode=F,"/"!=L[2].charAt(L[2].length-1)&&(F=R);O=L[3];0<O.length&&F.childNodes.push(a(O))}for(F=0;F<r.childNodes.length;F++)if(b=r.childNodes[F],b.nodeType==k){r.documentElement=b;break}return r}};return dojox.xml.DomParser})},"dojox/html/metrics":function(){define("dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(b,r,k,u,t,m,p){var o=r.getObject("dojox.html.metrics",!0),s=r.getObject("dojox");o.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(k("ie"))m.doc.documentElement.style.fontSize="100%";var b=m.doc.createElement("div"),c=b.style;c.position="absolute";c.left="-100px";c.top="0";c.width="30px";c.height="1000em";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";c.lineHeight="1";c.overflow="hidden";m.body().appendChild(b);for(var e in a)c.fontSize=e,a[e]=16*Math.round(12*b.offsetHeight/16)/12/1e3;m.body().removeChild(b);return a};var a=null;o.getCachedFontMeasurements=function(b){if(b||!a)a=o.getFontMeasurements();return a};var f=null,i={};o.getTextBox=function(a,b,c){var e,k;if(f)e=f;else{e=f=m.doc.createElement("div");var o=m.doc.createElement("div");o.appendChild(e);k=o.style;k.overflow="scroll";k.position="absolute";k.left="0px";k.top="-10000px";k.width="1px";k.height="1px";k.visibility="hidden";k.borderWidth="0";k.margin="0";k.padding="0";k.outline="0";m.body().appendChild(o)}e.className="";k=e.style;k.borderWidth="0";k.margin="0";k.padding="0";k.outline="0";if(1<arguments.length&&b)for(var r in b)r in i||(k[r]=b[r]);if(2<arguments.length&&c)e.className=c;e.innerHTML=a;k=p.position(e);k.w=e.parentNode.scrollWidth;return k};var c=16,e=16;o.getScrollbar=function(){return{w:c,h:e}};o._fontResizeNode=null;o.initOnFontResize=function(){var a=o._fontResizeNode=m.doc.createElement("iframe"),b=a.style;b.position="absolute";b.width="5em";b.height="10em";b.top="-10000px";b.display="none";k("ie")?a.onreadystatechange=function(){if("complete"==a.contentWindow.document.readyState)a.onresize=a.contentWindow.parent[s._scopeName].html.metrics._fontresize}:a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[s._scopeName].html.metrics._fontresize};a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");m.body().appendChild(a);o.initOnFontResize=function(){}};o.onFontResize=function(){};o._fontresize=function(){o.onFontResize()};t.addOnUnload(function(){var a=o._fontResizeNode;if(a){if(k("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;o._fontResizeNode=null}});u(function(){try{var a=m.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";m.body().appendChild(a);c=a.offsetWidth-a.clientWidth;e=a.offsetHeight-a.clientHeight;m.body().removeChild(a);delete a}catch(d){}"fontSizeWatch"in b.config&&b.config.fontSizeWatch&&o.initOnFontResize()});return o})}}});(function(){var b=this.require;b({cache:{}});!b.async&&b(["dojo"]);b.boot&&b.apply(null,b.boot)})();